/* Generated by Cython 0.11.2 on Mon Mar 29 14:25:27 2010 */

#define PY_SSIZE_T_CLEAN
#include "Python.h"
#include "structmember.h"
#ifndef Py_PYTHON_H
    #error Python headers needed to compile C extensions, please install development version of Python.
#endif
#ifndef PY_LONG_LONG
  #define PY_LONG_LONG LONG_LONG
#endif
#ifndef DL_EXPORT
  #define DL_EXPORT(t) t
#endif
#if PY_VERSION_HEX < 0x02040000
  #define METH_COEXIST 0
  #define PyDict_CheckExact(op) (Py_TYPE(op) == &PyDict_Type)
#endif
#if PY_VERSION_HEX < 0x02050000
  typedef int Py_ssize_t;
  #define PY_SSIZE_T_MAX INT_MAX
  #define PY_SSIZE_T_MIN INT_MIN
  #define PY_FORMAT_SIZE_T ""
  #define PyInt_FromSsize_t(z) PyInt_FromLong(z)
  #define PyInt_AsSsize_t(o)   PyInt_AsLong(o)
  #define PyNumber_Index(o)    PyNumber_Int(o)
  #define PyIndex_Check(o)     PyNumber_Check(o)
#endif
#if PY_VERSION_HEX < 0x02060000
  #define Py_REFCNT(ob) (((PyObject*)(ob))->ob_refcnt)
  #define Py_TYPE(ob)   (((PyObject*)(ob))->ob_type)
  #define Py_SIZE(ob)   (((PyVarObject*)(ob))->ob_size)
  #define PyVarObject_HEAD_INIT(type, size) \
          PyObject_HEAD_INIT(type) size,
  #define PyType_Modified(t)

  typedef struct {
       void *buf;
       PyObject *obj;
       Py_ssize_t len;
       Py_ssize_t itemsize;
       int readonly;
       int ndim;
       char *format;
       Py_ssize_t *shape;
       Py_ssize_t *strides;
       Py_ssize_t *suboffsets;
       void *internal;
  } Py_buffer;

  #define PyBUF_SIMPLE 0
  #define PyBUF_WRITABLE 0x0001
  #define PyBUF_FORMAT 0x0004
  #define PyBUF_ND 0x0008
  #define PyBUF_STRIDES (0x0010 | PyBUF_ND)
  #define PyBUF_C_CONTIGUOUS (0x0020 | PyBUF_STRIDES)
  #define PyBUF_F_CONTIGUOUS (0x0040 | PyBUF_STRIDES)
  #define PyBUF_ANY_CONTIGUOUS (0x0080 | PyBUF_STRIDES)
  #define PyBUF_INDIRECT (0x0100 | PyBUF_STRIDES)

#endif
#if PY_MAJOR_VERSION < 3
  #define __Pyx_BUILTIN_MODULE_NAME "__builtin__"
#else
  #define __Pyx_BUILTIN_MODULE_NAME "builtins"
#endif
#if PY_MAJOR_VERSION >= 3
  #define Py_TPFLAGS_CHECKTYPES 0
  #define Py_TPFLAGS_HAVE_INDEX 0
#endif
#if (PY_VERSION_HEX < 0x02060000) || (PY_MAJOR_VERSION >= 3)
  #define Py_TPFLAGS_HAVE_NEWBUFFER 0
#endif
#if PY_MAJOR_VERSION >= 3
  #define PyBaseString_Type            PyUnicode_Type
  #define PyString_Type                PyBytes_Type
  #define PyString_CheckExact          PyBytes_CheckExact
  #define PyInt_Type                   PyLong_Type
  #define PyInt_Check(op)              PyLong_Check(op)
  #define PyInt_CheckExact(op)         PyLong_CheckExact(op)
  #define PyInt_FromString             PyLong_FromString
  #define PyInt_FromUnicode            PyLong_FromUnicode
  #define PyInt_FromLong               PyLong_FromLong
  #define PyInt_FromSize_t             PyLong_FromSize_t
  #define PyInt_FromSsize_t            PyLong_FromSsize_t
  #define PyInt_AsLong                 PyLong_AsLong
  #define PyInt_AS_LONG                PyLong_AS_LONG
  #define PyInt_AsSsize_t              PyLong_AsSsize_t
  #define PyInt_AsUnsignedLongMask     PyLong_AsUnsignedLongMask
  #define PyInt_AsUnsignedLongLongMask PyLong_AsUnsignedLongLongMask
  #define __Pyx_PyNumber_Divide(x,y)         PyNumber_TrueDivide(x,y)
#else
  #define __Pyx_PyNumber_Divide(x,y)         PyNumber_Divide(x,y)
  #define PyBytes_Type                 PyString_Type
#endif
#if PY_MAJOR_VERSION >= 3
  #define PyMethod_New(func, self, klass) PyInstanceMethod_New(func)
#endif
#if !defined(WIN32) && !defined(MS_WINDOWS)
  #ifndef __stdcall
    #define __stdcall
  #endif
  #ifndef __cdecl
    #define __cdecl
  #endif
  #ifndef __fastcall
    #define __fastcall
  #endif
#else
  #define _USE_MATH_DEFINES
#endif
#if PY_VERSION_HEX < 0x02050000
  #define __Pyx_GetAttrString(o,n)   PyObject_GetAttrString((o),((char *)(n)))
  #define __Pyx_SetAttrString(o,n,a) PyObject_SetAttrString((o),((char *)(n)),(a))
  #define __Pyx_DelAttrString(o,n)   PyObject_DelAttrString((o),((char *)(n)))
#else
  #define __Pyx_GetAttrString(o,n)   PyObject_GetAttrString((o),(n))
  #define __Pyx_SetAttrString(o,n,a) PyObject_SetAttrString((o),(n),(a))
  #define __Pyx_DelAttrString(o,n)   PyObject_DelAttrString((o),(n))
#endif
#if PY_VERSION_HEX < 0x02050000
  #define __Pyx_NAMESTR(n) ((char *)(n))
  #define __Pyx_DOCSTR(n)  ((char *)(n))
#else
  #define __Pyx_NAMESTR(n) (n)
  #define __Pyx_DOCSTR(n)  (n)
#endif
#ifdef __cplusplus
#define __PYX_EXTERN_C extern "C"
#else
#define __PYX_EXTERN_C extern
#endif
#include <math.h>
#define __PYX_HAVE_API__pocketsphinx
#include "logmath.h"
#include "cmd_ln.h"
#include "ckd_alloc.h"
#include "fsg_model.h"
#include "ngram_model.h"
#include "huff_code.h"
#include "stdio.h"
#include "bogus_pygobject.h"
#include "fsg_set.h"
#include "ps_lattice.h"
#include "pocketsphinx.h"
#define __PYX_USE_C99_COMPLEX defined(_Complex_I)


#ifdef __GNUC__
#define INLINE __inline__
#elif _WIN32
#define INLINE __inline
#else
#define INLINE 
#endif

typedef struct {PyObject **p; char *s; long n; char is_unicode; char intern; char is_identifier;} __Pyx_StringTabEntry; /*proto*/



static int __pyx_skip_dispatch = 0;


/* Type Conversion Predeclarations */

#if PY_MAJOR_VERSION < 3
#define __Pyx_PyBytes_FromString          PyString_FromString
#define __Pyx_PyBytes_FromStringAndSize   PyString_FromStringAndSize
#define __Pyx_PyBytes_AsString            PyString_AsString
#else
#define __Pyx_PyBytes_FromString          PyBytes_FromString
#define __Pyx_PyBytes_FromStringAndSize   PyBytes_FromStringAndSize
#define __Pyx_PyBytes_AsString            PyBytes_AsString
#endif

#define __Pyx_PyBool_FromLong(b) ((b) ? (Py_INCREF(Py_True), Py_True) : (Py_INCREF(Py_False), Py_False))
static INLINE int __Pyx_PyObject_IsTrue(PyObject*);
static INLINE PyObject* __Pyx_PyNumber_Int(PyObject* x);

#if !defined(T_PYSSIZET)
#if PY_VERSION_HEX < 0x02050000
#define T_PYSSIZET T_INT
#elif !defined(T_LONGLONG)
#define T_PYSSIZET \
        ((sizeof(Py_ssize_t) == sizeof(int))  ? T_INT  : \
        ((sizeof(Py_ssize_t) == sizeof(long)) ? T_LONG : -1))
#else
#define T_PYSSIZET \
        ((sizeof(Py_ssize_t) == sizeof(int))          ? T_INT      : \
        ((sizeof(Py_ssize_t) == sizeof(long))         ? T_LONG     : \
        ((sizeof(Py_ssize_t) == sizeof(PY_LONG_LONG)) ? T_LONGLONG : -1)))
#endif
#endif

#if !defined(T_SIZET)
#if !defined(T_ULONGLONG)
#define T_SIZET \
        ((sizeof(size_t) == sizeof(unsigned int))  ? T_UINT  : \
        ((sizeof(size_t) == sizeof(unsigned long)) ? T_ULONG : -1))
#else
#define T_SIZET \
        ((sizeof(size_t) == sizeof(unsigned int))          ? T_UINT      : \
        ((sizeof(size_t) == sizeof(unsigned long))         ? T_ULONG     : \
        ((sizeof(size_t) == sizeof(unsigned PY_LONG_LONG)) ? T_ULONGLONG : -1)))
#endif
#endif

static INLINE Py_ssize_t __Pyx_PyIndex_AsSsize_t(PyObject*);
static INLINE PyObject * __Pyx_PyInt_FromSize_t(size_t);
static INLINE size_t __Pyx_PyInt_AsSize_t(PyObject*);

#define __pyx_PyFloat_AsDouble(x) (PyFloat_CheckExact(x) ? PyFloat_AS_DOUBLE(x) : PyFloat_AsDouble(x))


#ifdef __GNUC__
/* Test for GCC > 2.95 */
#if __GNUC__ > 2 ||               (__GNUC__ == 2 && (__GNUC_MINOR__ > 95)) 
#define likely(x)   __builtin_expect(!!(x), 1)
#define unlikely(x) __builtin_expect(!!(x), 0)
#else /* __GNUC__ > 2 ... */
#define likely(x)   (x)
#define unlikely(x) (x)
#endif /* __GNUC__ > 2 ... */
#else /* __GNUC__ */
#define likely(x)   (x)
#define unlikely(x) (x)
#endif /* __GNUC__ */
    
static PyObject *__pyx_m;
static PyObject *__pyx_b;
static PyObject *__pyx_empty_tuple;
static int __pyx_lineno;
static int __pyx_clineno = 0;
static const char * __pyx_cfilenm= __FILE__;
static const char *__pyx_filename;
static const char **__pyx_f;


#ifdef CYTHON_REFNANNY
typedef struct {
  void (*INCREF)(void*, PyObject*, int);
  void (*DECREF)(void*, PyObject*, int);
  void (*GOTREF)(void*, PyObject*, int);
  void (*GIVEREF)(void*, PyObject*, int);
  void* (*NewContext)(const char*, int, const char*);
  void (*FinishContext)(void**);
} __Pyx_RefnannyAPIStruct;
static __Pyx_RefnannyAPIStruct *__Pyx_Refnanny = NULL;
#define __Pyx_ImportRefcountAPI(name)   (__Pyx_RefnannyAPIStruct *) PyCObject_Import((char *)name, (char *)"RefnannyAPI")
#define __Pyx_INCREF(r) __Pyx_Refnanny->INCREF(__pyx_refchk, (PyObject *)(r), __LINE__)
#define __Pyx_DECREF(r) __Pyx_Refnanny->DECREF(__pyx_refchk, (PyObject *)(r), __LINE__)
#define __Pyx_GOTREF(r) __Pyx_Refnanny->GOTREF(__pyx_refchk, (PyObject *)(r), __LINE__)
#define __Pyx_GIVEREF(r) __Pyx_Refnanny->GIVEREF(__pyx_refchk, (PyObject *)(r), __LINE__)
#define __Pyx_XDECREF(r) if((r) == NULL) ; else __Pyx_DECREF(r)
#define __Pyx_SetupRefcountContext(name)   void* __pyx_refchk = __Pyx_Refnanny->NewContext((name), __LINE__, __FILE__)
#define __Pyx_FinishRefcountContext()   __Pyx_Refnanny->FinishContext(&__pyx_refchk)
#else
#define __Pyx_INCREF(r) Py_INCREF(r)
#define __Pyx_DECREF(r) Py_DECREF(r)
#define __Pyx_GOTREF(r)
#define __Pyx_GIVEREF(r)
#define __Pyx_XDECREF(r) Py_XDECREF(r)
#define __Pyx_SetupRefcountContext(name)
#define __Pyx_FinishRefcountContext()
#endif /* CYTHON_REFNANNY */
#define __Pyx_XGIVEREF(r) if((r) == NULL) ; else __Pyx_GIVEREF(r)
#define __Pyx_XGOTREF(r) if((r) == NULL) ; else __Pyx_GOTREF(r)

static void __Pyx_RaiseArgtupleInvalid(const char* func_name, int exact,
    Py_ssize_t num_min, Py_ssize_t num_max, Py_ssize_t num_found); /*proto*/

static INLINE int __Pyx_CheckKeywordStrings(PyObject *kwdict,
    const char* function_name, int kw_allowed); /*proto*/

static int __Pyx_TypeTest(PyObject *obj, PyTypeObject *type); /*proto*/

static void __Pyx_RaiseDoubleKeywordsError(
    const char* func_name, PyObject* kw_name); /*proto*/

static int __Pyx_ParseOptionalKeywords(PyObject *kwds, PyObject **argnames[],     PyObject *kwds2, PyObject *values[], Py_ssize_t num_pos_args,     const char* function_name); /*proto*/


static INLINE PyObject *__Pyx_GetItemInt_Generic(PyObject *o, PyObject* j) {
    PyObject *r;
    if (!j) return NULL;
    r = PyObject_GetItem(o, j);
    Py_DECREF(j);
    return r;
}


#define __Pyx_GetItemInt_List(o, i, size, to_py_func) ((size <= sizeof(Py_ssize_t)) ? \
                                                    __Pyx_GetItemInt_List_Fast(o, i, size <= sizeof(long)) : \
                                                    __Pyx_GetItemInt_Generic(o, to_py_func(i)))

static INLINE PyObject *__Pyx_GetItemInt_List_Fast(PyObject *o, Py_ssize_t i, int fits_long) {
    if (likely(o != Py_None)) {
        if (likely((0 <= i) & (i < PyList_GET_SIZE(o)))) {
            PyObject *r = PyList_GET_ITEM(o, i);
            Py_INCREF(r);
            return r;
        }
        else if ((-PyList_GET_SIZE(o) <= i) & (i < 0)) {
            PyObject *r = PyList_GET_ITEM(o, PyList_GET_SIZE(o) + i);
            Py_INCREF(r);
            return r;
        }
    }
    return __Pyx_GetItemInt_Generic(o, fits_long ? PyInt_FromLong(i) : PyLong_FromLongLong(i));
}

#define __Pyx_GetItemInt_Tuple(o, i, size, to_py_func) ((size <= sizeof(Py_ssize_t)) ? \
                                                    __Pyx_GetItemInt_Tuple_Fast(o, i, size <= sizeof(long)) : \
                                                    __Pyx_GetItemInt_Generic(o, to_py_func(i)))

static INLINE PyObject *__Pyx_GetItemInt_Tuple_Fast(PyObject *o, Py_ssize_t i, int fits_long) {
    if (likely(o != Py_None)) {
        if (likely((0 <= i) & (i < PyTuple_GET_SIZE(o)))) {
            PyObject *r = PyTuple_GET_ITEM(o, i);
            Py_INCREF(r);
            return r;
        }
        else if ((-PyTuple_GET_SIZE(o) <= i) & (i < 0)) {
            PyObject *r = PyTuple_GET_ITEM(o, PyTuple_GET_SIZE(o) + i);
            Py_INCREF(r);
            return r;
        }
    }
    return __Pyx_GetItemInt_Generic(o, fits_long ? PyInt_FromLong(i) : PyLong_FromLongLong(i));
}


#define __Pyx_GetItemInt(o, i, size, to_py_func) ((size <= sizeof(Py_ssize_t)) ? \
                                                    __Pyx_GetItemInt_Fast(o, i, size <= sizeof(long)) : \
                                                    __Pyx_GetItemInt_Generic(o, to_py_func(i)))

static INLINE PyObject *__Pyx_GetItemInt_Fast(PyObject *o, Py_ssize_t i, int fits_long) {
    PyObject *r;
    if (PyList_CheckExact(o) && ((0 <= i) & (i < PyList_GET_SIZE(o)))) {
        r = PyList_GET_ITEM(o, i);
        Py_INCREF(r);
    }
    else if (PyTuple_CheckExact(o) && ((0 <= i) & (i < PyTuple_GET_SIZE(o)))) {
        r = PyTuple_GET_ITEM(o, i);
        Py_INCREF(r);
    }
    else if (Py_TYPE(o)->tp_as_sequence && Py_TYPE(o)->tp_as_sequence->sq_item && (likely(i >= 0))) {
        r = PySequence_GetItem(o, i);
    }
    else {
        r = __Pyx_GetItemInt_Generic(o, fits_long ? PyInt_FromLong(i) : PyLong_FromLongLong(i));
    }
    return r;
}

static int __Pyx_ArgTypeTest(PyObject *obj, PyTypeObject *type, int none_allowed,
    const char *name, int exact); /*proto*/

static PyObject *__Pyx_GetName(PyObject *dict, PyObject *name); /*proto*/

static void __Pyx_Raise(PyObject *type, PyObject *value, PyObject *tb); /*proto*/

static INLINE void __Pyx_ErrRestore(PyObject *type, PyObject *value, PyObject *tb); /*proto*/
static INLINE void __Pyx_ErrFetch(PyObject **type, PyObject **value, PyObject **tb); /*proto*/

static INLINE void __Pyx_RaiseNeedMoreValuesError(Py_ssize_t index);

static INLINE void __Pyx_RaiseTooManyValuesError(void);

static PyObject *__Pyx_UnpackItem(PyObject *, Py_ssize_t index); /*proto*/
static int __Pyx_EndUnpack(PyObject *); /*proto*/

static INLINE int __Pyx_StrEq(const char *, const char *); /*proto*/

static INLINE unsigned char __Pyx_PyInt_AsUnsignedChar(PyObject *);

static INLINE unsigned short __Pyx_PyInt_AsUnsignedShort(PyObject *);

static INLINE unsigned int __Pyx_PyInt_AsUnsignedInt(PyObject *);

static INLINE char __Pyx_PyInt_AsChar(PyObject *);

static INLINE short __Pyx_PyInt_AsShort(PyObject *);

static INLINE int __Pyx_PyInt_AsInt(PyObject *);

static INLINE signed char __Pyx_PyInt_AsSignedChar(PyObject *);

static INLINE signed short __Pyx_PyInt_AsSignedShort(PyObject *);

static INLINE signed int __Pyx_PyInt_AsSignedInt(PyObject *);

static INLINE unsigned long __Pyx_PyInt_AsUnsignedLong(PyObject *);

static INLINE unsigned PY_LONG_LONG __Pyx_PyInt_AsUnsignedLongLong(PyObject *);

static INLINE long __Pyx_PyInt_AsLong(PyObject *);

static INLINE PY_LONG_LONG __Pyx_PyInt_AsLongLong(PyObject *);

static INLINE signed long __Pyx_PyInt_AsSignedLong(PyObject *);

static INLINE signed PY_LONG_LONG __Pyx_PyInt_AsSignedLongLong(PyObject *);

static int __Pyx_SetVtable(PyObject *dict, void *vtable); /*proto*/

static PyTypeObject *__Pyx_ImportType(const char *module_name, const char *class_name, long size);  /*proto*/

static PyObject *__Pyx_ImportModule(const char *name); /*proto*/

static int __Pyx_GetVtable(PyObject *dict, void *vtabptr); /*proto*/

static void __Pyx_AddTraceback(const char *funcname); /*proto*/

static int __Pyx_InitStrings(__Pyx_StringTabEntry *t); /*proto*/

/* Type declarations */

typedef float __pyx_t_10sphinxbase_float32;

typedef int __pyx_t_10sphinxbase_int32;

typedef double __pyx_t_10sphinxbase_float64;

/* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/../sphinxbase/python/sphinxbase.pxd":143
 *     cdef set_iter(NGramIter self, ngram_iter_t *itor)
 * 
 * cdef class HuffCode:             # <<<<<<<<<<<<<<
 *     cdef huff_code_t *hc
 *     cdef file fh
 */

struct __pyx_obj_10sphinxbase_HuffCode {
  PyObject_HEAD
  huff_code_t *hc;
  PyObject *fh;
};

/* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/../sphinxbase/python/sphinxbase.pxd":122
 * 
 * # Extension classes
 * cdef class NGramModel:             # <<<<<<<<<<<<<<
 *     cdef ngram_model_t *lm
 *     cdef logmath_t *lmath
 */

struct __pyx_obj_10sphinxbase_NGramModel {
  PyObject_HEAD
  struct __pyx_vtabstruct_10sphinxbase_NGramModel *__pyx_vtab;
  ngram_model_t *lm;
  logmath_t *lmath;
  float lw;
  float wip;
  float uw;
};

/* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pxd":143
 *     cdef readonly n_frames
 * 
 * cdef class LatLink:             # <<<<<<<<<<<<<<
 *     cdef ps_latlink_t *link
 *     cdef ps_lattice_t *dag # FIXME: This may or may not cause memory leaks?
 */

struct __pyx_obj_12pocketsphinx_LatLink {
  PyObject_HEAD
  struct __pyx_vtabstruct_12pocketsphinx_LatLink *__pyx_vtab;
  ps_latlink_t *link;
  ps_lattice_t *dag;
  char *word;
  char *baseword;
  int sf;
  int ef;
  double prob;
};

/* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pxd":156
 *     cdef int first_link
 * 
 * cdef class LatNode:             # <<<<<<<<<<<<<<
 *     cdef ps_latnode_t *node
 *     cdef ps_lattice_t *dag # FIXME: This may or may not cause memory leaks?
 */

struct __pyx_obj_12pocketsphinx_LatNode {
  PyObject_HEAD
  struct __pyx_vtabstruct_12pocketsphinx_LatNode *__pyx_vtab;
  ps_latnode_t *node;
  ps_lattice_t *dag;
  char *word;
  char *baseword;
  int sf;
  int fef;
  int lef;
  double prob;
  struct __pyx_obj_12pocketsphinx_LatLink *best_exit;
};

/* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pxd":131
 * 
 * # Now, our extension classes
 * cdef class Decoder:             # <<<<<<<<<<<<<<
 *     cdef ps_decoder_t *ps
 *     cdef char **argv
 */

struct __pyx_obj_12pocketsphinx_Decoder {
  PyObject_HEAD
  struct __pyx_vtabstruct_12pocketsphinx_Decoder *__pyx_vtab;
  ps_decoder_t *ps;
  char **argv;
  int argc;
};

/* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/../sphinxbase/python/sphinxbase.pxd":130
 *     cdef set_lmath(NGramModel self, logmath_t *lmath)
 * 
 * cdef class LogMath:             # <<<<<<<<<<<<<<
 *     cdef logmath_t *lmath
 * 
 */

struct __pyx_obj_10sphinxbase_LogMath {
  PyObject_HEAD
  logmath_t *lmath;
};

/* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pxd":165
 *     cdef set_node(LatNode self, ps_lattice_t *dag, ps_latnode_t *node)
 * 
 * cdef class LatNodeIterator:             # <<<<<<<<<<<<<<
 *     cdef ps_lattice_t *dag
 *     cdef ps_latnode_iter_t *itor
 */

struct __pyx_obj_12pocketsphinx_LatNodeIterator {
  PyObject_HEAD
  ps_lattice_t *dag;
  ps_latnode_iter_t *itor;
  int first_node;
  int start;
  int end;
};

/* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pxd":137
 *     cdef set_boxed(Decoder self, box)
 * 
 * cdef class Lattice:             # <<<<<<<<<<<<<<
 *     cdef ps_lattice_t *dag
 *     cdef set_dag(Lattice self, ps_lattice_t *dag)
 */

struct __pyx_obj_12pocketsphinx_Lattice {
  PyObject_HEAD
  struct __pyx_vtabstruct_12pocketsphinx_Lattice *__pyx_vtab;
  ps_lattice_t *dag;
  PyObject *n_frames;
};

/* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pxd":151
 *     cdef set_link(LatLink self, ps_lattice_t *dag, ps_latlink_t *link)
 * 
 * cdef class LatLinkIterator:             # <<<<<<<<<<<<<<
 *     cdef ps_lattice_t *dag
 *     cdef ps_latlink_iter_t *itor
 */

struct __pyx_obj_12pocketsphinx_LatLinkIterator {
  PyObject_HEAD
  ps_lattice_t *dag;
  ps_latlink_iter_t *itor;
  int first_link;
};

/* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/../sphinxbase/python/sphinxbase.pxd":133
 *     cdef logmath_t *lmath
 * 
 * cdef class NGramIter:             # <<<<<<<<<<<<<<
 *     cdef NGramModel lm
 *     cdef ngram_iter_t *itor
 */

struct __pyx_obj_10sphinxbase_NGramIter {
  PyObject_HEAD
  struct __pyx_vtabstruct_10sphinxbase_NGramIter *__pyx_vtab;
  struct __pyx_obj_10sphinxbase_NGramModel *lm;
  ngram_iter_t *itor;
  int first_item;
  int m;
  float log_prob;
  float log_bowt;
  PyObject *words;
};


/* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":227
 *         return link
 * 
 * cdef class Lattice:             # <<<<<<<<<<<<<<
 *     """
 *     Word lattice.
 */

struct __pyx_vtabstruct_12pocketsphinx_Lattice {
  PyObject *(*set_dag)(struct __pyx_obj_12pocketsphinx_Lattice *, ps_lattice_t *);
  PyObject *(*set_boxed)(struct __pyx_obj_12pocketsphinx_Lattice *, PyObject *);
};
static struct __pyx_vtabstruct_12pocketsphinx_Lattice *__pyx_vtabptr_12pocketsphinx_Lattice;


/* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":132
 *         return node
 * 
 * cdef class LatLink:             # <<<<<<<<<<<<<<
 *     """
 *     Link (edge) in a word lattice, connecting two nodes.
 */

struct __pyx_vtabstruct_12pocketsphinx_LatLink {
  PyObject *(*set_link)(struct __pyx_obj_12pocketsphinx_LatLink *, ps_lattice_t *, ps_latlink_t *);
};
static struct __pyx_vtabstruct_12pocketsphinx_LatLink *__pyx_vtabptr_12pocketsphinx_LatLink;


/* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/../sphinxbase/python/sphinxbase.pxd":133
 *     cdef logmath_t *lmath
 * 
 * cdef class NGramIter:             # <<<<<<<<<<<<<<
 *     cdef NGramModel lm
 *     cdef ngram_iter_t *itor
 */

struct __pyx_vtabstruct_10sphinxbase_NGramIter {
  PyObject *(*set_iter)(struct __pyx_obj_10sphinxbase_NGramIter *, ngram_iter_t *);
};
static struct __pyx_vtabstruct_10sphinxbase_NGramIter *__pyx_vtabptr_10sphinxbase_NGramIter;


/* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":360
 *             raise RuntimeError, "Failed to write lattice to %s" % outfile
 * 
 * cdef class Decoder:             # <<<<<<<<<<<<<<
 *     """
 *     PocketSphinx speech decoder.
 */

struct __pyx_vtabstruct_12pocketsphinx_Decoder {
  PyObject *(*set_boxed)(struct __pyx_obj_12pocketsphinx_Decoder *, PyObject *);
};
static struct __pyx_vtabstruct_12pocketsphinx_Decoder *__pyx_vtabptr_12pocketsphinx_Decoder;


/* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":10
 * # Author: David Huggins-Daines <dhuggins@cs.cmu.edu>
 * 
 * cdef class LatNode:             # <<<<<<<<<<<<<<
 *     """
 *     Node in a word lattice.
 */

struct __pyx_vtabstruct_12pocketsphinx_LatNode {
  PyObject *(*set_node)(struct __pyx_obj_12pocketsphinx_LatNode *, ps_lattice_t *, ps_latnode_t *);
};
static struct __pyx_vtabstruct_12pocketsphinx_LatNode *__pyx_vtabptr_12pocketsphinx_LatNode;


/* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/../sphinxbase/python/sphinxbase.pxd":122
 * 
 * # Extension classes
 * cdef class NGramModel:             # <<<<<<<<<<<<<<
 *     cdef ngram_model_t *lm
 *     cdef logmath_t *lmath
 */

struct __pyx_vtabstruct_10sphinxbase_NGramModel {
  PyObject *(*set_lm)(struct __pyx_obj_10sphinxbase_NGramModel *, ngram_model_t *);
  PyObject *(*set_lmath)(struct __pyx_obj_10sphinxbase_NGramModel *, logmath_t *);
};
static struct __pyx_vtabstruct_10sphinxbase_NGramModel *__pyx_vtabptr_10sphinxbase_NGramModel;
/* Module declarations from sphinxbase */

static PyTypeObject *__pyx_ptype_10sphinxbase_NGramModel = 0;
static PyTypeObject *__pyx_ptype_10sphinxbase_LogMath = 0;
static PyTypeObject *__pyx_ptype_10sphinxbase_NGramIter = 0;
static PyTypeObject *__pyx_ptype_10sphinxbase_HuffCode = 0;
/* Module declarations from pocketsphinx */

static PyTypeObject *__pyx_ptype_12pocketsphinx_Decoder = 0;
static PyTypeObject *__pyx_ptype_12pocketsphinx_Lattice = 0;
static PyTypeObject *__pyx_ptype_12pocketsphinx_LatLink = 0;
static PyTypeObject *__pyx_ptype_12pocketsphinx_LatLinkIterator = 0;
static PyTypeObject *__pyx_ptype_12pocketsphinx_LatNode = 0;
static PyTypeObject *__pyx_ptype_12pocketsphinx_LatNodeIterator = 0;
static PyObject *__pyx_k_1 = 0;
static PyObject *__pyx_k_2 = 0;
static PyObject *__pyx_k_3 = 0;
#define __Pyx_MODULE_NAME "pocketsphinx"
int __pyx_module_is_main_pocketsphinx = 0;

/* Implementation of pocketsphinx */
static PyObject *__pyx_int_0;
static PyObject *__pyx_int_neg_1;
static char __pyx_k___main__[] = "__main__";
static PyObject *__pyx_kp___main__;
static char __pyx_k___cinit__[] = "__cinit__";
static PyObject *__pyx_kp___cinit__;
static char __pyx_k_exits[] = "exits";
static PyObject *__pyx_kp_exits;
static char __pyx_k_entries[] = "entries";
static PyObject *__pyx_kp_entries;
static char __pyx_k___init__[] = "__init__";
static PyObject *__pyx_kp___init__;
static char __pyx_k___iter__[] = "__iter__";
static PyObject *__pyx_kp___iter__;
static char __pyx_k___next__[] = "__next__";
static PyObject *__pyx_kp___next__;
static char __pyx_k_nodes[] = "nodes";
static PyObject *__pyx_kp_nodes;
static char __pyx_k_pred[] = "pred";
static PyObject *__pyx_kp_pred;
static char __pyx_k___dealloc__[] = "__dealloc__";
static PyObject *__pyx_kp___dealloc__;
static char __pyx_k_bestpath[] = "bestpath";
static PyObject *__pyx_kp_bestpath;
static char __pyx_k_posterior[] = "posterior";
static PyObject *__pyx_kp_posterior;
static char __pyx_k_write[] = "write";
static PyObject *__pyx_kp_write;
static char __pyx_k_decode_raw[] = "decode_raw";
static PyObject *__pyx_kp_decode_raw;
static char __pyx_k_start_utt[] = "start_utt";
static PyObject *__pyx_kp_start_utt;
static char __pyx_k_process_raw[] = "process_raw";
static PyObject *__pyx_kp_process_raw;
static char __pyx_k_ps_end_utt[] = "ps_end_utt";
static PyObject *__pyx_kp_ps_end_utt;
static char __pyx_k_get_hyp[] = "get_hyp";
static PyObject *__pyx_kp_get_hyp;
static char __pyx_k_get_lattice[] = "get_lattice";
static PyObject *__pyx_kp_get_lattice;
static char __pyx_k_get_lmset[] = "get_lmset";
static PyObject *__pyx_kp_get_lmset;
static char __pyx_k_add_word[] = "add_word";
static PyObject *__pyx_kp_add_word;
static char __pyx_k_load_dict[] = "load_dict";
static PyObject *__pyx_kp_load_dict;
static char __pyx_k_save_dict[] = "save_dict";
static PyObject *__pyx_kp_save_dict;
static char __pyx_k_start[] = "start";
static PyObject *__pyx_kp_start;
static char __pyx_k_end[] = "end";
static PyObject *__pyx_kp_end;
static char __pyx_k_ps[] = "ps";
static PyObject *__pyx_kp_ps;
static char __pyx_k_latfile[] = "latfile";
static PyObject *__pyx_kp_latfile;
static char __pyx_k_boxed[] = "boxed";
static PyObject *__pyx_kp_boxed;
static char __pyx_k_lmset[] = "lmset";
static PyObject *__pyx_kp_lmset;
static char __pyx_k_lwf[] = "lwf";
static PyObject *__pyx_kp_lwf;
static char __pyx_k_ascale[] = "ascale";
static PyObject *__pyx_kp_ascale;
static char __pyx_k_outfile[] = "outfile";
static PyObject *__pyx_kp_outfile;
static char __pyx_k_fh[] = "fh";
static PyObject *__pyx_kp_fh;
static char __pyx_k_uttid[] = "uttid";
static PyObject *__pyx_kp_uttid;
static char __pyx_k_maxsamps[] = "maxsamps";
static PyObject *__pyx_kp_maxsamps;
static char __pyx_k_data[] = "data";
static PyObject *__pyx_kp_data;
static char __pyx_k_no_search[] = "no_search";
static PyObject *__pyx_kp_no_search;
static char __pyx_k_full_utt[] = "full_utt";
static PyObject *__pyx_kp_full_utt;
static char __pyx_k_word[] = "word";
static PyObject *__pyx_kp_word;
static char __pyx_k_phones[] = "phones";
static PyObject *__pyx_kp_phones;
static char __pyx_k_update[] = "update";
static PyObject *__pyx_kp_update;
static char __pyx_k_dictfile[] = "dictfile";
static PyObject *__pyx_kp_dictfile;
static char __pyx_k_fdictfile[] = "fdictfile";
static PyObject *__pyx_kp_fdictfile;
static char __pyx_k_format[] = "format";
static PyObject *__pyx_kp_format;
static char __pyx_k_StopIteration[] = "StopIteration";
static PyObject *__pyx_kp_StopIteration;
static char __pyx_k_RuntimeError[] = "RuntimeError";
static PyObject *__pyx_kp_RuntimeError;
static char __pyx_k_6[] = "boxed";
static PyObject *__pyx_kp_6;
static char __pyx_k_7[] = "boxed";
static PyObject *__pyx_kp_7;
static char __pyx_k_iteritems[] = "iteritems";
static PyObject *__pyx_kp_iteritems;
static PyObject *__pyx_builtin_StopIteration;
static PyObject *__pyx_builtin_RuntimeError;
static PyObject *__pyx_kp_4;
static char __pyx_k_4[] = "Failed to read lattice from %s";
static PyObject *__pyx_kp_5;
static char __pyx_k_5[] = "Failed to write lattice to %s";
static PyObject *__pyx_kp_8;
static PyObject *__pyx_kp_9;
static PyObject *__pyx_kp_10;
static PyObject *__pyx_kp_11;
static char __pyx_k_8[] = "-";
static char __pyx_k_9[] = "-";
static char __pyx_k_10[] = "Failed to parse argument list";
static char __pyx_k_11[] = "Failed to initialize PocketSphinx";
static PyObject *__pyx_kp_12;
static char __pyx_k_12[] = "Failed to start utterance processing";
static PyObject *__pyx_kp_13;
static char __pyx_k_13[] = "Failed to process %d samples of audio data";
static PyObject *__pyx_kp_14;
static char __pyx_k_14[] = "Failed to stop utterance processing";
static PyObject *__pyx_kp_15;
static char __pyx_k_15[] = "Failed to create word lattice";
static char __pyx_k_16[] = "-lw";
static char __pyx_k_17[] = "-wip";
static char __pyx_k_18[] = "-uw";

/* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":29
 *     @type prob: float
 *     """
 *     def __cinit__(self):             # <<<<<<<<<<<<<<
 *         self.node = NULL
 * 
 */

static int __pyx_pf_12pocketsphinx_7LatNode___cinit__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static int __pyx_pf_12pocketsphinx_7LatNode___cinit__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  int __pyx_r;
  __Pyx_SetupRefcountContext("__cinit__");
  if (unlikely(PyTuple_GET_SIZE(__pyx_args) > 0)) {
    __Pyx_RaiseArgtupleInvalid("__cinit__", 1, 0, 0, PyTuple_GET_SIZE(__pyx_args)); return -1;}
  if (unlikely(__pyx_kwds) && unlikely(PyDict_Size(__pyx_kwds) > 0) && unlikely(!__Pyx_CheckKeywordStrings(__pyx_kwds, "__cinit__", 0))) return -1;

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":30
 *     """
 *     def __cinit__(self):
 *         self.node = NULL             # <<<<<<<<<<<<<<
 * 
 *     cdef set_node(LatNode self, ps_lattice_t *dag, ps_latnode_t *node):
 */
  ((struct __pyx_obj_12pocketsphinx_LatNode *)__pyx_v_self)->node = NULL;

  __pyx_r = 0;
  __Pyx_FinishRefcountContext();
  return __pyx_r;
}

/* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":32
 *         self.node = NULL
 * 
 *     cdef set_node(LatNode self, ps_lattice_t *dag, ps_latnode_t *node):             # <<<<<<<<<<<<<<
 *         """
 *         Internal function - binds this to a PocketSphinx lattice node.
 */

static  PyObject *__pyx_f_12pocketsphinx_7LatNode_set_node(struct __pyx_obj_12pocketsphinx_LatNode *__pyx_v_self, ps_lattice_t *__pyx_v_dag, ps_latnode_t *__pyx_v_node) {
  short __pyx_v_fef;
  short __pyx_v_lef;
  ps_latlink_t *__pyx_v_best_exit;
  PyObject *__pyx_r = NULL;
  int __pyx_t_1;
  PyObject *__pyx_t_2 = NULL;
  __Pyx_SetupRefcountContext("set_node");

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":38
 *         cdef short fef, lef
 *         cdef ps_latlink_t *best_exit
 *         self.dag = dag             # <<<<<<<<<<<<<<
 *         self.node = node
 *         self.word = ps_latnode_word(dag, node)
 */
  __pyx_v_self->dag = __pyx_v_dag;

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":39
 *         cdef ps_latlink_t *best_exit
 *         self.dag = dag
 *         self.node = node             # <<<<<<<<<<<<<<
 *         self.word = ps_latnode_word(dag, node)
 *         self.baseword = ps_latnode_baseword(dag, node)
 */
  __pyx_v_self->node = __pyx_v_node;

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":40
 *         self.dag = dag
 *         self.node = node
 *         self.word = ps_latnode_word(dag, node)             # <<<<<<<<<<<<<<
 *         self.baseword = ps_latnode_baseword(dag, node)
 *         self.sf = ps_latnode_times(node, &fef, &lef)
 */
  __pyx_v_self->word = ps_latnode_word(__pyx_v_dag, __pyx_v_node);

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":41
 *         self.node = node
 *         self.word = ps_latnode_word(dag, node)
 *         self.baseword = ps_latnode_baseword(dag, node)             # <<<<<<<<<<<<<<
 *         self.sf = ps_latnode_times(node, &fef, &lef)
 *         self.fef = fef
 */
  __pyx_v_self->baseword = ps_latnode_baseword(__pyx_v_dag, __pyx_v_node);

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":42
 *         self.word = ps_latnode_word(dag, node)
 *         self.baseword = ps_latnode_baseword(dag, node)
 *         self.sf = ps_latnode_times(node, &fef, &lef)             # <<<<<<<<<<<<<<
 *         self.fef = fef
 *         self.lef = lef
 */
  __pyx_v_self->sf = ps_latnode_times(__pyx_v_node, (&__pyx_v_fef), (&__pyx_v_lef));

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":43
 *         self.baseword = ps_latnode_baseword(dag, node)
 *         self.sf = ps_latnode_times(node, &fef, &lef)
 *         self.fef = fef             # <<<<<<<<<<<<<<
 *         self.lef = lef
 *         self.best_exit = None
 */
  __pyx_v_self->fef = __pyx_v_fef;

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":44
 *         self.sf = ps_latnode_times(node, &fef, &lef)
 *         self.fef = fef
 *         self.lef = lef             # <<<<<<<<<<<<<<
 *         self.best_exit = None
 *         best_exit = NULL
 */
  __pyx_v_self->lef = __pyx_v_lef;

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":45
 *         self.fef = fef
 *         self.lef = lef
 *         self.best_exit = None             # <<<<<<<<<<<<<<
 *         best_exit = NULL
 *         self.prob = sb.logmath_log_to_ln(ps_lattice_get_logmath(dag),
 */
  __Pyx_INCREF(Py_None);
  __Pyx_GIVEREF(Py_None);
  __Pyx_GOTREF(__pyx_v_self->best_exit);
  __Pyx_DECREF(((PyObject *)__pyx_v_self->best_exit));
  __pyx_v_self->best_exit = ((struct __pyx_obj_12pocketsphinx_LatLink *)Py_None);

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":46
 *         self.lef = lef
 *         self.best_exit = None
 *         best_exit = NULL             # <<<<<<<<<<<<<<
 *         self.prob = sb.logmath_log_to_ln(ps_lattice_get_logmath(dag),
 *                                          ps_latnode_prob(dag, node, &best_exit))
 */
  __pyx_v_best_exit = NULL;

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":47
 *         self.best_exit = None
 *         best_exit = NULL
 *         self.prob = sb.logmath_log_to_ln(ps_lattice_get_logmath(dag),             # <<<<<<<<<<<<<<
 *                                          ps_latnode_prob(dag, node, &best_exit))
 *         if best_exit != NULL:
 */
  __pyx_v_self->prob = logmath_log_to_ln(ps_lattice_get_logmath(__pyx_v_dag), ps_latnode_prob(__pyx_v_dag, __pyx_v_node, (&__pyx_v_best_exit)));

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":49
 *         self.prob = sb.logmath_log_to_ln(ps_lattice_get_logmath(dag),
 *                                          ps_latnode_prob(dag, node, &best_exit))
 *         if best_exit != NULL:             # <<<<<<<<<<<<<<
 *             self.best_exit = LatLink()
 *             self.best_exit.set_link(dag, best_exit)
 */
  __pyx_t_1 = (__pyx_v_best_exit != NULL);
  if (__pyx_t_1) {

    /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":50
 *                                          ps_latnode_prob(dag, node, &best_exit))
 *         if best_exit != NULL:
 *             self.best_exit = LatLink()             # <<<<<<<<<<<<<<
 *             self.best_exit.set_link(dag, best_exit)
 * 
 */
    __pyx_t_2 = PyObject_Call(((PyObject *)((PyObject*)__pyx_ptype_12pocketsphinx_LatLink)), ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 50; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_2);
    if (!(__Pyx_TypeTest(__pyx_t_2, __pyx_ptype_12pocketsphinx_LatLink))) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 50; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GIVEREF(__pyx_t_2);
    __Pyx_GOTREF(__pyx_v_self->best_exit);
    __Pyx_DECREF(((PyObject *)__pyx_v_self->best_exit));
    __pyx_v_self->best_exit = ((struct __pyx_obj_12pocketsphinx_LatLink *)__pyx_t_2);
    __pyx_t_2 = 0;

    /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":51
 *         if best_exit != NULL:
 *             self.best_exit = LatLink()
 *             self.best_exit.set_link(dag, best_exit)             # <<<<<<<<<<<<<<
 * 
 *     def exits(self):
 */
    __pyx_t_2 = ((struct __pyx_vtabstruct_12pocketsphinx_LatLink *)__pyx_v_self->best_exit->__pyx_vtab)->set_link(__pyx_v_self->best_exit, __pyx_v_dag, __pyx_v_best_exit); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 51; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_2);
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
    goto __pyx_L3;
  }
  __pyx_L3:;

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_AddTraceback("pocketsphinx.LatNode.set_node");
  __pyx_r = 0;
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_FinishRefcountContext();
  return __pyx_r;
}

/* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":53
 *             self.best_exit.set_link(dag, best_exit)
 * 
 *     def exits(self):             # <<<<<<<<<<<<<<
 *         """
 *         Obtain an iterator over arcs exiting this node.
 */

static PyObject *__pyx_pf_12pocketsphinx_7LatNode_exits(PyObject *__pyx_v_self, PyObject *unused); /*proto*/
static char __pyx_doc_12pocketsphinx_7LatNode_exits[] = "\n        Obtain an iterator over arcs exiting this node.\n\n        @return: Iterator over arcs exiting this node\n        @rtype: LatLinkIterator\n        ";
static PyObject *__pyx_pf_12pocketsphinx_7LatNode_exits(PyObject *__pyx_v_self, PyObject *unused) {
  struct __pyx_obj_12pocketsphinx_LatLinkIterator *__pyx_v_itor;
  ps_latlink_iter_t *__pyx_v_citor;
  PyObject *__pyx_r = NULL;
  PyObject *__pyx_t_1 = NULL;
  __Pyx_SetupRefcountContext("exits");
  __pyx_v_itor = ((struct __pyx_obj_12pocketsphinx_LatLinkIterator *)Py_None); __Pyx_INCREF(Py_None);

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":63
 *         cdef ps_latlink_iter_t *citor
 * 
 *         citor = ps_latnode_exits(self.node)             # <<<<<<<<<<<<<<
 *         itor = LatLinkIterator()
 *         itor.itor = citor
 */
  __pyx_v_citor = ps_latnode_exits(((struct __pyx_obj_12pocketsphinx_LatNode *)__pyx_v_self)->node);

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":64
 * 
 *         citor = ps_latnode_exits(self.node)
 *         itor = LatLinkIterator()             # <<<<<<<<<<<<<<
 *         itor.itor = citor
 *         itor.dag = self.dag
 */
  __pyx_t_1 = PyObject_Call(((PyObject *)((PyObject*)__pyx_ptype_12pocketsphinx_LatLinkIterator)), ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 64; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  if (!(__Pyx_TypeTest(__pyx_t_1, __pyx_ptype_12pocketsphinx_LatLinkIterator))) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 64; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(((PyObject *)__pyx_v_itor));
  __pyx_v_itor = ((struct __pyx_obj_12pocketsphinx_LatLinkIterator *)__pyx_t_1);
  __pyx_t_1 = 0;

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":65
 *         citor = ps_latnode_exits(self.node)
 *         itor = LatLinkIterator()
 *         itor.itor = citor             # <<<<<<<<<<<<<<
 *         itor.dag = self.dag
 *         return itor
 */
  __pyx_v_itor->itor = __pyx_v_citor;

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":66
 *         itor = LatLinkIterator()
 *         itor.itor = citor
 *         itor.dag = self.dag             # <<<<<<<<<<<<<<
 *         return itor
 * 
 */
  __pyx_v_itor->dag = ((struct __pyx_obj_12pocketsphinx_LatNode *)__pyx_v_self)->dag;

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":67
 *         itor.itor = citor
 *         itor.dag = self.dag
 *         return itor             # <<<<<<<<<<<<<<
 * 
 *     def entries(self):
 */
  __Pyx_XDECREF(__pyx_r);
  __Pyx_INCREF(((PyObject *)__pyx_v_itor));
  __pyx_r = ((PyObject *)__pyx_v_itor);
  goto __pyx_L0;

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_AddTraceback("pocketsphinx.LatNode.exits");
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_DECREF((PyObject *)__pyx_v_itor);
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_FinishRefcountContext();
  return __pyx_r;
}

/* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":69
 *         return itor
 * 
 *     def entries(self):             # <<<<<<<<<<<<<<
 *         """
 *         Obtain an iterator over arcs entering this node.
 */

static PyObject *__pyx_pf_12pocketsphinx_7LatNode_entries(PyObject *__pyx_v_self, PyObject *unused); /*proto*/
static char __pyx_doc_12pocketsphinx_7LatNode_entries[] = "\n        Obtain an iterator over arcs entering this node.\n\n        @return: Iterator over arcs entering this node\n        @rtype: LatLinkIterator\n        ";
static PyObject *__pyx_pf_12pocketsphinx_7LatNode_entries(PyObject *__pyx_v_self, PyObject *unused) {
  struct __pyx_obj_12pocketsphinx_LatLinkIterator *__pyx_v_itor;
  ps_latlink_iter_t *__pyx_v_citor;
  PyObject *__pyx_r = NULL;
  PyObject *__pyx_t_1 = NULL;
  __Pyx_SetupRefcountContext("entries");
  __pyx_v_itor = ((struct __pyx_obj_12pocketsphinx_LatLinkIterator *)Py_None); __Pyx_INCREF(Py_None);

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":79
 *         cdef ps_latlink_iter_t *citor
 * 
 *         citor = ps_latnode_entries(self.node)             # <<<<<<<<<<<<<<
 *         itor = LatLinkIterator()
 *         itor.itor = citor
 */
  __pyx_v_citor = ps_latnode_entries(((struct __pyx_obj_12pocketsphinx_LatNode *)__pyx_v_self)->node);

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":80
 * 
 *         citor = ps_latnode_entries(self.node)
 *         itor = LatLinkIterator()             # <<<<<<<<<<<<<<
 *         itor.itor = citor
 *         itor.dag = self.dag
 */
  __pyx_t_1 = PyObject_Call(((PyObject *)((PyObject*)__pyx_ptype_12pocketsphinx_LatLinkIterator)), ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 80; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  if (!(__Pyx_TypeTest(__pyx_t_1, __pyx_ptype_12pocketsphinx_LatLinkIterator))) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 80; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(((PyObject *)__pyx_v_itor));
  __pyx_v_itor = ((struct __pyx_obj_12pocketsphinx_LatLinkIterator *)__pyx_t_1);
  __pyx_t_1 = 0;

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":81
 *         citor = ps_latnode_entries(self.node)
 *         itor = LatLinkIterator()
 *         itor.itor = citor             # <<<<<<<<<<<<<<
 *         itor.dag = self.dag
 *         return itor
 */
  __pyx_v_itor->itor = __pyx_v_citor;

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":82
 *         itor = LatLinkIterator()
 *         itor.itor = citor
 *         itor.dag = self.dag             # <<<<<<<<<<<<<<
 *         return itor
 * 
 */
  __pyx_v_itor->dag = ((struct __pyx_obj_12pocketsphinx_LatNode *)__pyx_v_self)->dag;

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":83
 *         itor.itor = citor
 *         itor.dag = self.dag
 *         return itor             # <<<<<<<<<<<<<<
 * 
 * cdef class LatNodeIterator:
 */
  __Pyx_XDECREF(__pyx_r);
  __Pyx_INCREF(((PyObject *)__pyx_v_itor));
  __pyx_r = ((PyObject *)__pyx_v_itor);
  goto __pyx_L0;

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_AddTraceback("pocketsphinx.LatNode.entries");
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_DECREF((PyObject *)__pyx_v_itor);
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_FinishRefcountContext();
  return __pyx_r;
}

/* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":89
 *     Iterator over word lattice nodes.
 *     """
 *     def __init__(self, start, end):             # <<<<<<<<<<<<<<
 *         self.itor = NULL
 *         self.first_node = True
 */

static int __pyx_pf_12pocketsphinx_15LatNodeIterator___init__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static int __pyx_pf_12pocketsphinx_15LatNodeIterator___init__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_start = 0;
  PyObject *__pyx_v_end = 0;
  int __pyx_r;
  int __pyx_t_1;
  static PyObject **__pyx_pyargnames[] = {&__pyx_kp_start,&__pyx_kp_end,0};
  __Pyx_SetupRefcountContext("__init__");
  if (unlikely(__pyx_kwds)) {
    Py_ssize_t kw_args = PyDict_Size(__pyx_kwds);
    PyObject* values[2] = {0,0};
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
      case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
      case  0: break;
      default: goto __pyx_L5_argtuple_error;
    }
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  0:
      values[0] = PyDict_GetItem(__pyx_kwds, __pyx_kp_start);
      if (likely(values[0])) kw_args--;
      else goto __pyx_L5_argtuple_error;
      case  1:
      values[1] = PyDict_GetItem(__pyx_kwds, __pyx_kp_end);
      if (likely(values[1])) kw_args--;
      else {
        __Pyx_RaiseArgtupleInvalid("__init__", 1, 2, 2, 1); {__pyx_filename = __pyx_f[0]; __pyx_lineno = 89; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
      }
    }
    if (unlikely(kw_args > 0)) {
      if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, PyTuple_GET_SIZE(__pyx_args), "__init__") < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 89; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
    }
    __pyx_v_start = values[0];
    __pyx_v_end = values[1];
  } else if (PyTuple_GET_SIZE(__pyx_args) != 2) {
    goto __pyx_L5_argtuple_error;
  } else {
    __pyx_v_start = PyTuple_GET_ITEM(__pyx_args, 0);
    __pyx_v_end = PyTuple_GET_ITEM(__pyx_args, 1);
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("__init__", 1, 2, 2, PyTuple_GET_SIZE(__pyx_args)); {__pyx_filename = __pyx_f[0]; __pyx_lineno = 89; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
  __pyx_L3_error:;
  __Pyx_AddTraceback("pocketsphinx.LatNodeIterator.__init__");
  return -1;
  __pyx_L4_argument_unpacking_done:;

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":90
 *     """
 *     def __init__(self, start, end):
 *         self.itor = NULL             # <<<<<<<<<<<<<<
 *         self.first_node = True
 *         self.start = start
 */
  ((struct __pyx_obj_12pocketsphinx_LatNodeIterator *)__pyx_v_self)->itor = NULL;

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":91
 *     def __init__(self, start, end):
 *         self.itor = NULL
 *         self.first_node = True             # <<<<<<<<<<<<<<
 *         self.start = start
 *         self.end = end
 */
  ((struct __pyx_obj_12pocketsphinx_LatNodeIterator *)__pyx_v_self)->first_node = 1;

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":92
 *         self.itor = NULL
 *         self.first_node = True
 *         self.start = start             # <<<<<<<<<<<<<<
 *         self.end = end
 * 
 */
  __pyx_t_1 = __Pyx_PyInt_AsInt(__pyx_v_start); if (unlikely((__pyx_t_1 == (int)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 92; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  ((struct __pyx_obj_12pocketsphinx_LatNodeIterator *)__pyx_v_self)->start = __pyx_t_1;

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":93
 *         self.first_node = True
 *         self.start = start
 *         self.end = end             # <<<<<<<<<<<<<<
 * 
 *     def __iter__(self):
 */
  __pyx_t_1 = __Pyx_PyInt_AsInt(__pyx_v_end); if (unlikely((__pyx_t_1 == (int)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 93; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  ((struct __pyx_obj_12pocketsphinx_LatNodeIterator *)__pyx_v_self)->end = __pyx_t_1;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_AddTraceback("pocketsphinx.LatNodeIterator.__init__");
  __pyx_r = -1;
  __pyx_L0:;
  __Pyx_FinishRefcountContext();
  return __pyx_r;
}

/* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":95
 *         self.end = end
 * 
 *     def __iter__(self):             # <<<<<<<<<<<<<<
 *         return self
 * 
 */

static PyObject *__pyx_pf_12pocketsphinx_15LatNodeIterator___iter__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_pf_12pocketsphinx_15LatNodeIterator___iter__(PyObject *__pyx_v_self) {
  PyObject *__pyx_r = NULL;
  __Pyx_SetupRefcountContext("__iter__");

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":96
 * 
 *     def __iter__(self):
 *         return self             # <<<<<<<<<<<<<<
 * 
 *     def __next__(self):
 */
  __Pyx_XDECREF(__pyx_r);
  __Pyx_INCREF(__pyx_v_self);
  __pyx_r = __pyx_v_self;
  goto __pyx_L0;

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_FinishRefcountContext();
  return __pyx_r;
}

/* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":98
 *         return self
 * 
 *     def __next__(self):             # <<<<<<<<<<<<<<
 *         """
 *         Advance iterator and return the next node.
 */

static PyObject *__pyx_pf_12pocketsphinx_15LatNodeIterator___next__(PyObject *__pyx_v_self); /*proto*/
static char __pyx_doc_12pocketsphinx_15LatNodeIterator___next__[] = "\n        Advance iterator and return the next node.\n\n        @return: Next lattice node in this iterator.\n        @rtype: LatNode\n        ";
static PyObject *__pyx_pf_12pocketsphinx_15LatNodeIterator___next__(PyObject *__pyx_v_self) {
  struct __pyx_obj_12pocketsphinx_LatNode *__pyx_v_node;
  int __pyx_v_start;
  ps_latnode_t *__pyx_v_cnode;
  PyObject *__pyx_r = NULL;
  int __pyx_t_1;
  int __pyx_t_2;
  PyObject *__pyx_t_3 = NULL;
  __Pyx_SetupRefcountContext("__next__");
  __pyx_v_node = ((struct __pyx_obj_12pocketsphinx_LatNode *)Py_None); __Pyx_INCREF(Py_None);

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":110
 * 
 *         # Make sure we keep raising exceptions at the end
 *         if self.itor == NULL:             # <<<<<<<<<<<<<<
 *             raise StopIteration
 *         # Advance the iterator if this isn't the first item
 */
  __pyx_t_1 = (((struct __pyx_obj_12pocketsphinx_LatNodeIterator *)__pyx_v_self)->itor == NULL);
  if (__pyx_t_1) {

    /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":111
 *         # Make sure we keep raising exceptions at the end
 *         if self.itor == NULL:
 *             raise StopIteration             # <<<<<<<<<<<<<<
 *         # Advance the iterator if this isn't the first item
 *         if self.first_node:
 */
    __Pyx_Raise(__pyx_builtin_StopIteration, 0, 0);
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 111; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    goto __pyx_L5;
  }
  __pyx_L5:;

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":113
 *             raise StopIteration
 *         # Advance the iterator if this isn't the first item
 *         if self.first_node:             # <<<<<<<<<<<<<<
 *             self.first_node = False
 *         else:
 */
  __pyx_t_2 = ((struct __pyx_obj_12pocketsphinx_LatNodeIterator *)__pyx_v_self)->first_node;
  if (__pyx_t_2) {

    /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":114
 *         # Advance the iterator if this isn't the first item
 *         if self.first_node:
 *             self.first_node = False             # <<<<<<<<<<<<<<
 *         else:
 *             self.itor = ps_latnode_iter_next(self.itor)
 */
    ((struct __pyx_obj_12pocketsphinx_LatNodeIterator *)__pyx_v_self)->first_node = 0;
    goto __pyx_L6;
  }
  /*else*/ {

    /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":116
 *             self.first_node = False
 *         else:
 *             self.itor = ps_latnode_iter_next(self.itor)             # <<<<<<<<<<<<<<
 *             if self.itor == NULL:
 *                 raise StopIteration
 */
    ((struct __pyx_obj_12pocketsphinx_LatNodeIterator *)__pyx_v_self)->itor = ps_latnode_iter_next(((struct __pyx_obj_12pocketsphinx_LatNodeIterator *)__pyx_v_self)->itor);

    /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":117
 *         else:
 *             self.itor = ps_latnode_iter_next(self.itor)
 *             if self.itor == NULL:             # <<<<<<<<<<<<<<
 *                 raise StopIteration
 *         # Look for the next node within the given time range
 */
    __pyx_t_1 = (((struct __pyx_obj_12pocketsphinx_LatNodeIterator *)__pyx_v_self)->itor == NULL);
    if (__pyx_t_1) {

      /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":118
 *             self.itor = ps_latnode_iter_next(self.itor)
 *             if self.itor == NULL:
 *                 raise StopIteration             # <<<<<<<<<<<<<<
 *         # Look for the next node within the given time range
 *         cnode = ps_latnode_iter_node(self.itor)
 */
      __Pyx_Raise(__pyx_builtin_StopIteration, 0, 0);
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 118; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      goto __pyx_L7;
    }
    __pyx_L7:;
  }
  __pyx_L6:;

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":120
 *                 raise StopIteration
 *         # Look for the next node within the given time range
 *         cnode = ps_latnode_iter_node(self.itor)             # <<<<<<<<<<<<<<
 *         start = ps_latnode_times(cnode, NULL, NULL)
 *         while start < self.start or start >= self.end:
 */
  __pyx_v_cnode = ps_latnode_iter_node(((struct __pyx_obj_12pocketsphinx_LatNodeIterator *)__pyx_v_self)->itor);

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":121
 *         # Look for the next node within the given time range
 *         cnode = ps_latnode_iter_node(self.itor)
 *         start = ps_latnode_times(cnode, NULL, NULL)             # <<<<<<<<<<<<<<
 *         while start < self.start or start >= self.end:
 *             self.itor = ps_latnode_iter_next(self.itor)
 */
  __pyx_v_start = ps_latnode_times(__pyx_v_cnode, NULL, NULL);

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":122
 *         cnode = ps_latnode_iter_node(self.itor)
 *         start = ps_latnode_times(cnode, NULL, NULL)
 *         while start < self.start or start >= self.end:             # <<<<<<<<<<<<<<
 *             self.itor = ps_latnode_iter_next(self.itor)
 *             if self.itor == NULL:
 */
  while (1) {
    if (!(__pyx_v_start < ((struct __pyx_obj_12pocketsphinx_LatNodeIterator *)__pyx_v_self)->start)) {
      __pyx_t_1 = (__pyx_v_start >= ((struct __pyx_obj_12pocketsphinx_LatNodeIterator *)__pyx_v_self)->end);
    } else {
      __pyx_t_1 = (__pyx_v_start < ((struct __pyx_obj_12pocketsphinx_LatNodeIterator *)__pyx_v_self)->start);
    }
    if (!__pyx_t_1) break;

    /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":123
 *         start = ps_latnode_times(cnode, NULL, NULL)
 *         while start < self.start or start >= self.end:
 *             self.itor = ps_latnode_iter_next(self.itor)             # <<<<<<<<<<<<<<
 *             if self.itor == NULL:
 *                 raise StopIteration
 */
    ((struct __pyx_obj_12pocketsphinx_LatNodeIterator *)__pyx_v_self)->itor = ps_latnode_iter_next(((struct __pyx_obj_12pocketsphinx_LatNodeIterator *)__pyx_v_self)->itor);

    /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":124
 *         while start < self.start or start >= self.end:
 *             self.itor = ps_latnode_iter_next(self.itor)
 *             if self.itor == NULL:             # <<<<<<<<<<<<<<
 *                 raise StopIteration
 *             cnode = ps_latnode_iter_node(self.itor)
 */
    __pyx_t_1 = (((struct __pyx_obj_12pocketsphinx_LatNodeIterator *)__pyx_v_self)->itor == NULL);
    if (__pyx_t_1) {

      /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":125
 *             self.itor = ps_latnode_iter_next(self.itor)
 *             if self.itor == NULL:
 *                 raise StopIteration             # <<<<<<<<<<<<<<
 *             cnode = ps_latnode_iter_node(self.itor)
 *             start = ps_latnode_times(cnode, NULL, NULL)
 */
      __Pyx_Raise(__pyx_builtin_StopIteration, 0, 0);
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 125; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      goto __pyx_L10;
    }
    __pyx_L10:;

    /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":126
 *             if self.itor == NULL:
 *                 raise StopIteration
 *             cnode = ps_latnode_iter_node(self.itor)             # <<<<<<<<<<<<<<
 *             start = ps_latnode_times(cnode, NULL, NULL)
 *         node = LatNode()
 */
    __pyx_v_cnode = ps_latnode_iter_node(((struct __pyx_obj_12pocketsphinx_LatNodeIterator *)__pyx_v_self)->itor);

    /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":127
 *                 raise StopIteration
 *             cnode = ps_latnode_iter_node(self.itor)
 *             start = ps_latnode_times(cnode, NULL, NULL)             # <<<<<<<<<<<<<<
 *         node = LatNode()
 *         node.set_node(self.dag, cnode)
 */
    __pyx_v_start = ps_latnode_times(__pyx_v_cnode, NULL, NULL);
  }

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":128
 *             cnode = ps_latnode_iter_node(self.itor)
 *             start = ps_latnode_times(cnode, NULL, NULL)
 *         node = LatNode()             # <<<<<<<<<<<<<<
 *         node.set_node(self.dag, cnode)
 *         return node
 */
  __pyx_t_3 = PyObject_Call(((PyObject *)((PyObject*)__pyx_ptype_12pocketsphinx_LatNode)), ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 128; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_3);
  if (!(__Pyx_TypeTest(__pyx_t_3, __pyx_ptype_12pocketsphinx_LatNode))) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 128; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(((PyObject *)__pyx_v_node));
  __pyx_v_node = ((struct __pyx_obj_12pocketsphinx_LatNode *)__pyx_t_3);
  __pyx_t_3 = 0;

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":129
 *             start = ps_latnode_times(cnode, NULL, NULL)
 *         node = LatNode()
 *         node.set_node(self.dag, cnode)             # <<<<<<<<<<<<<<
 *         return node
 * 
 */
  __pyx_t_3 = ((struct __pyx_vtabstruct_12pocketsphinx_LatNode *)__pyx_v_node->__pyx_vtab)->set_node(__pyx_v_node, ((struct __pyx_obj_12pocketsphinx_LatNodeIterator *)__pyx_v_self)->dag, __pyx_v_cnode); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 129; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_3);
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":130
 *         node = LatNode()
 *         node.set_node(self.dag, cnode)
 *         return node             # <<<<<<<<<<<<<<
 * 
 * cdef class LatLink:
 */
  __Pyx_XDECREF(__pyx_r);
  __Pyx_INCREF(((PyObject *)__pyx_v_node));
  __pyx_r = ((PyObject *)__pyx_v_node);
  goto __pyx_L0;

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_AddTraceback("pocketsphinx.LatNodeIterator.__next__");
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_DECREF((PyObject *)__pyx_v_node);
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_FinishRefcountContext();
  return __pyx_r;
}

/* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":147
 *     @type prob: float
 *     """
 *     def __cinit__(self):             # <<<<<<<<<<<<<<
 *         self.link = NULL
 * 
 */

static int __pyx_pf_12pocketsphinx_7LatLink___cinit__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static int __pyx_pf_12pocketsphinx_7LatLink___cinit__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  int __pyx_r;
  __Pyx_SetupRefcountContext("__cinit__");
  if (unlikely(PyTuple_GET_SIZE(__pyx_args) > 0)) {
    __Pyx_RaiseArgtupleInvalid("__cinit__", 1, 0, 0, PyTuple_GET_SIZE(__pyx_args)); return -1;}
  if (unlikely(__pyx_kwds) && unlikely(PyDict_Size(__pyx_kwds) > 0) && unlikely(!__Pyx_CheckKeywordStrings(__pyx_kwds, "__cinit__", 0))) return -1;

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":148
 *     """
 *     def __cinit__(self):
 *         self.link = NULL             # <<<<<<<<<<<<<<
 * 
 *     cdef set_link(LatLink self, ps_lattice_t *dag, ps_latlink_t *link):
 */
  ((struct __pyx_obj_12pocketsphinx_LatLink *)__pyx_v_self)->link = NULL;

  __pyx_r = 0;
  __Pyx_FinishRefcountContext();
  return __pyx_r;
}

/* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":150
 *         self.link = NULL
 * 
 *     cdef set_link(LatLink self, ps_lattice_t *dag, ps_latlink_t *link):             # <<<<<<<<<<<<<<
 *         """
 *         Internal function - binds this to a PocketSphinx lattice link.
 */

static  PyObject *__pyx_f_12pocketsphinx_7LatLink_set_link(struct __pyx_obj_12pocketsphinx_LatLink *__pyx_v_self, ps_lattice_t *__pyx_v_dag, ps_latlink_t *__pyx_v_link) {
  short __pyx_v_sf;
  PyObject *__pyx_r = NULL;
  __Pyx_SetupRefcountContext("set_link");

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":155
 *         """
 *         cdef short sf
 *         self.dag = dag             # <<<<<<<<<<<<<<
 *         self.link = link
 *         self.word = ps_latlink_word(dag, link)
 */
  __pyx_v_self->dag = __pyx_v_dag;

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":156
 *         cdef short sf
 *         self.dag = dag
 *         self.link = link             # <<<<<<<<<<<<<<
 *         self.word = ps_latlink_word(dag, link)
 *         self.baseword = ps_latlink_baseword(dag, link)
 */
  __pyx_v_self->link = __pyx_v_link;

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":157
 *         self.dag = dag
 *         self.link = link
 *         self.word = ps_latlink_word(dag, link)             # <<<<<<<<<<<<<<
 *         self.baseword = ps_latlink_baseword(dag, link)
 *         self.ef = ps_latlink_times(link, &sf)
 */
  __pyx_v_self->word = ps_latlink_word(__pyx_v_dag, __pyx_v_link);

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":158
 *         self.link = link
 *         self.word = ps_latlink_word(dag, link)
 *         self.baseword = ps_latlink_baseword(dag, link)             # <<<<<<<<<<<<<<
 *         self.ef = ps_latlink_times(link, &sf)
 *         self.sf = sf
 */
  __pyx_v_self->baseword = ps_latlink_baseword(__pyx_v_dag, __pyx_v_link);

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":159
 *         self.word = ps_latlink_word(dag, link)
 *         self.baseword = ps_latlink_baseword(dag, link)
 *         self.ef = ps_latlink_times(link, &sf)             # <<<<<<<<<<<<<<
 *         self.sf = sf
 *         self.prob = sb.logmath_log_to_ln(ps_lattice_get_logmath(dag),
 */
  __pyx_v_self->ef = ps_latlink_times(__pyx_v_link, (&__pyx_v_sf));

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":160
 *         self.baseword = ps_latlink_baseword(dag, link)
 *         self.ef = ps_latlink_times(link, &sf)
 *         self.sf = sf             # <<<<<<<<<<<<<<
 *         self.prob = sb.logmath_log_to_ln(ps_lattice_get_logmath(dag),
 *                                          ps_latlink_prob(dag, link, NULL))
 */
  __pyx_v_self->sf = __pyx_v_sf;

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":161
 *         self.ef = ps_latlink_times(link, &sf)
 *         self.sf = sf
 *         self.prob = sb.logmath_log_to_ln(ps_lattice_get_logmath(dag),             # <<<<<<<<<<<<<<
 *                                          ps_latlink_prob(dag, link, NULL))
 * 
 */
  __pyx_v_self->prob = logmath_log_to_ln(ps_lattice_get_logmath(__pyx_v_dag), ps_latlink_prob(__pyx_v_dag, __pyx_v_link, NULL));

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_FinishRefcountContext();
  return __pyx_r;
}

/* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":164
 *                                          ps_latlink_prob(dag, link, NULL))
 * 
 *     def nodes(self):             # <<<<<<<<<<<<<<
 *         """
 *         Get source and destination nodes for this link.
 */

static PyObject *__pyx_pf_12pocketsphinx_7LatLink_nodes(PyObject *__pyx_v_self, PyObject *unused); /*proto*/
static char __pyx_doc_12pocketsphinx_7LatLink_nodes[] = "\n        Get source and destination nodes for this link.\n\n        @return: Source and destination nodes for this link\n        @rtype: (LatNode, LatNode)\n        ";
static PyObject *__pyx_pf_12pocketsphinx_7LatLink_nodes(PyObject *__pyx_v_self, PyObject *unused) {
  struct __pyx_obj_12pocketsphinx_LatNode *__pyx_v_src;
  struct __pyx_obj_12pocketsphinx_LatNode *__pyx_v_dest;
  ps_latnode_t *__pyx_v_csrc;
  ps_latnode_t *__pyx_v_cdest;
  PyObject *__pyx_r = NULL;
  PyObject *__pyx_t_1 = NULL;
  __Pyx_SetupRefcountContext("nodes");
  __pyx_v_src = ((struct __pyx_obj_12pocketsphinx_LatNode *)Py_None); __Pyx_INCREF(Py_None);
  __pyx_v_dest = ((struct __pyx_obj_12pocketsphinx_LatNode *)Py_None); __Pyx_INCREF(Py_None);

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":174
 *         cdef ps_latnode_t *csrc, *cdest
 * 
 *         cdest = ps_latlink_nodes(self.link, &csrc)             # <<<<<<<<<<<<<<
 *         src = LatNode()
 *         src.set_node(self.dag, csrc)
 */
  __pyx_v_cdest = ps_latlink_nodes(((struct __pyx_obj_12pocketsphinx_LatLink *)__pyx_v_self)->link, (&__pyx_v_csrc));

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":175
 * 
 *         cdest = ps_latlink_nodes(self.link, &csrc)
 *         src = LatNode()             # <<<<<<<<<<<<<<
 *         src.set_node(self.dag, csrc)
 *         dest = LatNode()
 */
  __pyx_t_1 = PyObject_Call(((PyObject *)((PyObject*)__pyx_ptype_12pocketsphinx_LatNode)), ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 175; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  if (!(__Pyx_TypeTest(__pyx_t_1, __pyx_ptype_12pocketsphinx_LatNode))) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 175; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(((PyObject *)__pyx_v_src));
  __pyx_v_src = ((struct __pyx_obj_12pocketsphinx_LatNode *)__pyx_t_1);
  __pyx_t_1 = 0;

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":176
 *         cdest = ps_latlink_nodes(self.link, &csrc)
 *         src = LatNode()
 *         src.set_node(self.dag, csrc)             # <<<<<<<<<<<<<<
 *         dest = LatNode()
 *         dest.set_node(self.dag, cdest)
 */
  __pyx_t_1 = ((struct __pyx_vtabstruct_12pocketsphinx_LatNode *)__pyx_v_src->__pyx_vtab)->set_node(__pyx_v_src, ((struct __pyx_obj_12pocketsphinx_LatLink *)__pyx_v_self)->dag, __pyx_v_csrc); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 176; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":177
 *         src = LatNode()
 *         src.set_node(self.dag, csrc)
 *         dest = LatNode()             # <<<<<<<<<<<<<<
 *         dest.set_node(self.dag, cdest)
 *         return src, dest
 */
  __pyx_t_1 = PyObject_Call(((PyObject *)((PyObject*)__pyx_ptype_12pocketsphinx_LatNode)), ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 177; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  if (!(__Pyx_TypeTest(__pyx_t_1, __pyx_ptype_12pocketsphinx_LatNode))) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 177; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(((PyObject *)__pyx_v_dest));
  __pyx_v_dest = ((struct __pyx_obj_12pocketsphinx_LatNode *)__pyx_t_1);
  __pyx_t_1 = 0;

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":178
 *         src.set_node(self.dag, csrc)
 *         dest = LatNode()
 *         dest.set_node(self.dag, cdest)             # <<<<<<<<<<<<<<
 *         return src, dest
 * 
 */
  __pyx_t_1 = ((struct __pyx_vtabstruct_12pocketsphinx_LatNode *)__pyx_v_dest->__pyx_vtab)->set_node(__pyx_v_dest, ((struct __pyx_obj_12pocketsphinx_LatLink *)__pyx_v_self)->dag, __pyx_v_cdest); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 178; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":179
 *         dest = LatNode()
 *         dest.set_node(self.dag, cdest)
 *         return src, dest             # <<<<<<<<<<<<<<
 * 
 *     def pred(self):
 */
  __Pyx_XDECREF(__pyx_r);
  __pyx_t_1 = PyTuple_New(2); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 179; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(((PyObject *)__pyx_t_1));
  __Pyx_INCREF(((PyObject *)__pyx_v_src));
  PyTuple_SET_ITEM(__pyx_t_1, 0, ((PyObject *)__pyx_v_src));
  __Pyx_GIVEREF(((PyObject *)__pyx_v_src));
  __Pyx_INCREF(((PyObject *)__pyx_v_dest));
  PyTuple_SET_ITEM(__pyx_t_1, 1, ((PyObject *)__pyx_v_dest));
  __Pyx_GIVEREF(((PyObject *)__pyx_v_dest));
  __pyx_r = ((PyObject *)__pyx_t_1);
  __pyx_t_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_AddTraceback("pocketsphinx.LatLink.nodes");
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_DECREF((PyObject *)__pyx_v_src);
  __Pyx_DECREF((PyObject *)__pyx_v_dest);
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_FinishRefcountContext();
  return __pyx_r;
}

/* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":181
 *         return src, dest
 * 
 *     def pred(self):             # <<<<<<<<<<<<<<
 *         """
 *         Get backpointer from this link.
 */

static PyObject *__pyx_pf_12pocketsphinx_7LatLink_pred(PyObject *__pyx_v_self, PyObject *unused); /*proto*/
static char __pyx_doc_12pocketsphinx_7LatLink_pred[] = "\n        Get backpointer from this link.\n\n        @return: Backpointer from this link, set by bestpath search.\n        @rtype: LatLink\n        ";
static PyObject *__pyx_pf_12pocketsphinx_7LatLink_pred(PyObject *__pyx_v_self, PyObject *unused) {
  struct __pyx_obj_12pocketsphinx_LatLink *__pyx_v_pred;
  ps_latlink_t *__pyx_v_cpred;
  PyObject *__pyx_r = NULL;
  int __pyx_t_1;
  PyObject *__pyx_t_2 = NULL;
  __Pyx_SetupRefcountContext("pred");
  __pyx_v_pred = ((struct __pyx_obj_12pocketsphinx_LatLink *)Py_None); __Pyx_INCREF(Py_None);

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":191
 *         cdef ps_latlink_t *cpred
 * 
 *         cpred = ps_latlink_pred(self.link)             # <<<<<<<<<<<<<<
 *         if cpred == NULL:
 *             return None
 */
  __pyx_v_cpred = ps_latlink_pred(((struct __pyx_obj_12pocketsphinx_LatLink *)__pyx_v_self)->link);

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":192
 * 
 *         cpred = ps_latlink_pred(self.link)
 *         if cpred == NULL:             # <<<<<<<<<<<<<<
 *             return None
 *         pred = LatLink()
 */
  __pyx_t_1 = (__pyx_v_cpred == NULL);
  if (__pyx_t_1) {

    /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":193
 *         cpred = ps_latlink_pred(self.link)
 *         if cpred == NULL:
 *             return None             # <<<<<<<<<<<<<<
 *         pred = LatLink()
 *         pred.set_link(self.dag, cpred)
 */
    __Pyx_XDECREF(__pyx_r);
    __Pyx_INCREF(Py_None);
    __pyx_r = Py_None;
    goto __pyx_L0;
    goto __pyx_L5;
  }
  __pyx_L5:;

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":194
 *         if cpred == NULL:
 *             return None
 *         pred = LatLink()             # <<<<<<<<<<<<<<
 *         pred.set_link(self.dag, cpred)
 *         return pred
 */
  __pyx_t_2 = PyObject_Call(((PyObject *)((PyObject*)__pyx_ptype_12pocketsphinx_LatLink)), ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 194; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  if (!(__Pyx_TypeTest(__pyx_t_2, __pyx_ptype_12pocketsphinx_LatLink))) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 194; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(((PyObject *)__pyx_v_pred));
  __pyx_v_pred = ((struct __pyx_obj_12pocketsphinx_LatLink *)__pyx_t_2);
  __pyx_t_2 = 0;

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":195
 *             return None
 *         pred = LatLink()
 *         pred.set_link(self.dag, cpred)             # <<<<<<<<<<<<<<
 *         return pred
 * 
 */
  __pyx_t_2 = ((struct __pyx_vtabstruct_12pocketsphinx_LatLink *)__pyx_v_pred->__pyx_vtab)->set_link(__pyx_v_pred, ((struct __pyx_obj_12pocketsphinx_LatLink *)__pyx_v_self)->dag, __pyx_v_cpred); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 195; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":196
 *         pred = LatLink()
 *         pred.set_link(self.dag, cpred)
 *         return pred             # <<<<<<<<<<<<<<
 * 
 * cdef class LatLinkIterator:
 */
  __Pyx_XDECREF(__pyx_r);
  __Pyx_INCREF(((PyObject *)__pyx_v_pred));
  __pyx_r = ((PyObject *)__pyx_v_pred);
  goto __pyx_L0;

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_AddTraceback("pocketsphinx.LatLink.pred");
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_DECREF((PyObject *)__pyx_v_pred);
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_FinishRefcountContext();
  return __pyx_r;
}

/* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":202
 *     Iterator over word lattice links.
 *     """
 *     def __cinit__(self):             # <<<<<<<<<<<<<<
 *         self.itor = NULL
 *         self.first_link = True
 */

static int __pyx_pf_12pocketsphinx_15LatLinkIterator___cinit__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static int __pyx_pf_12pocketsphinx_15LatLinkIterator___cinit__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  int __pyx_r;
  __Pyx_SetupRefcountContext("__cinit__");
  if (unlikely(PyTuple_GET_SIZE(__pyx_args) > 0)) {
    __Pyx_RaiseArgtupleInvalid("__cinit__", 1, 0, 0, PyTuple_GET_SIZE(__pyx_args)); return -1;}
  if (unlikely(__pyx_kwds) && unlikely(PyDict_Size(__pyx_kwds) > 0) && unlikely(!__Pyx_CheckKeywordStrings(__pyx_kwds, "__cinit__", 0))) return -1;

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":203
 *     """
 *     def __cinit__(self):
 *         self.itor = NULL             # <<<<<<<<<<<<<<
 *         self.first_link = True
 * 
 */
  ((struct __pyx_obj_12pocketsphinx_LatLinkIterator *)__pyx_v_self)->itor = NULL;

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":204
 *     def __cinit__(self):
 *         self.itor = NULL
 *         self.first_link = True             # <<<<<<<<<<<<<<
 * 
 *     def __iter__(self):
 */
  ((struct __pyx_obj_12pocketsphinx_LatLinkIterator *)__pyx_v_self)->first_link = 1;

  __pyx_r = 0;
  __Pyx_FinishRefcountContext();
  return __pyx_r;
}

/* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":206
 *         self.first_link = True
 * 
 *     def __iter__(self):             # <<<<<<<<<<<<<<
 *         return self
 * 
 */

static PyObject *__pyx_pf_12pocketsphinx_15LatLinkIterator___iter__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_pf_12pocketsphinx_15LatLinkIterator___iter__(PyObject *__pyx_v_self) {
  PyObject *__pyx_r = NULL;
  __Pyx_SetupRefcountContext("__iter__");

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":207
 * 
 *     def __iter__(self):
 *         return self             # <<<<<<<<<<<<<<
 * 
 *     def __next__(self):
 */
  __Pyx_XDECREF(__pyx_r);
  __Pyx_INCREF(__pyx_v_self);
  __pyx_r = __pyx_v_self;
  goto __pyx_L0;

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_FinishRefcountContext();
  return __pyx_r;
}

/* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":209
 *         return self
 * 
 *     def __next__(self):             # <<<<<<<<<<<<<<
 *         """
 *         Advance iterator and return the next link.
 */

static PyObject *__pyx_pf_12pocketsphinx_15LatLinkIterator___next__(PyObject *__pyx_v_self); /*proto*/
static char __pyx_doc_12pocketsphinx_15LatLinkIterator___next__[] = "\n        Advance iterator and return the next link.\n\n        @return: Next lattice link in this iterator.\n        @rtype: LatLink\n        ";
static PyObject *__pyx_pf_12pocketsphinx_15LatLinkIterator___next__(PyObject *__pyx_v_self) {
  struct __pyx_obj_12pocketsphinx_LatLink *__pyx_v_link;
  PyObject *__pyx_r = NULL;
  int __pyx_t_1;
  int __pyx_t_2;
  PyObject *__pyx_t_3 = NULL;
  __Pyx_SetupRefcountContext("__next__");
  __pyx_v_link = ((struct __pyx_obj_12pocketsphinx_LatLink *)Py_None); __Pyx_INCREF(Py_None);

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":217
 *         """
 *         cdef LatLink link
 *         if self.first_link:             # <<<<<<<<<<<<<<
 *             self.first_link = False
 *         else:
 */
  __pyx_t_1 = ((struct __pyx_obj_12pocketsphinx_LatLinkIterator *)__pyx_v_self)->first_link;
  if (__pyx_t_1) {

    /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":218
 *         cdef LatLink link
 *         if self.first_link:
 *             self.first_link = False             # <<<<<<<<<<<<<<
 *         else:
 *             self.itor = ps_latlink_iter_next(self.itor)
 */
    ((struct __pyx_obj_12pocketsphinx_LatLinkIterator *)__pyx_v_self)->first_link = 0;
    goto __pyx_L5;
  }
  /*else*/ {

    /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":220
 *             self.first_link = False
 *         else:
 *             self.itor = ps_latlink_iter_next(self.itor)             # <<<<<<<<<<<<<<
 *         if self.itor == NULL:
 *             raise StopIteration
 */
    ((struct __pyx_obj_12pocketsphinx_LatLinkIterator *)__pyx_v_self)->itor = ps_latlink_iter_next(((struct __pyx_obj_12pocketsphinx_LatLinkIterator *)__pyx_v_self)->itor);
  }
  __pyx_L5:;

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":221
 *         else:
 *             self.itor = ps_latlink_iter_next(self.itor)
 *         if self.itor == NULL:             # <<<<<<<<<<<<<<
 *             raise StopIteration
 *         link = LatLink()
 */
  __pyx_t_2 = (((struct __pyx_obj_12pocketsphinx_LatLinkIterator *)__pyx_v_self)->itor == NULL);
  if (__pyx_t_2) {

    /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":222
 *             self.itor = ps_latlink_iter_next(self.itor)
 *         if self.itor == NULL:
 *             raise StopIteration             # <<<<<<<<<<<<<<
 *         link = LatLink()
 *         link.set_link(self.dag, ps_latlink_iter_link(self.itor))
 */
    __Pyx_Raise(__pyx_builtin_StopIteration, 0, 0);
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 222; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    goto __pyx_L6;
  }
  __pyx_L6:;

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":223
 *         if self.itor == NULL:
 *             raise StopIteration
 *         link = LatLink()             # <<<<<<<<<<<<<<
 *         link.set_link(self.dag, ps_latlink_iter_link(self.itor))
 *         return link
 */
  __pyx_t_3 = PyObject_Call(((PyObject *)((PyObject*)__pyx_ptype_12pocketsphinx_LatLink)), ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 223; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_3);
  if (!(__Pyx_TypeTest(__pyx_t_3, __pyx_ptype_12pocketsphinx_LatLink))) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 223; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(((PyObject *)__pyx_v_link));
  __pyx_v_link = ((struct __pyx_obj_12pocketsphinx_LatLink *)__pyx_t_3);
  __pyx_t_3 = 0;

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":224
 *             raise StopIteration
 *         link = LatLink()
 *         link.set_link(self.dag, ps_latlink_iter_link(self.itor))             # <<<<<<<<<<<<<<
 *         return link
 * 
 */
  __pyx_t_3 = ((struct __pyx_vtabstruct_12pocketsphinx_LatLink *)__pyx_v_link->__pyx_vtab)->set_link(__pyx_v_link, ((struct __pyx_obj_12pocketsphinx_LatLinkIterator *)__pyx_v_self)->dag, ps_latlink_iter_link(((struct __pyx_obj_12pocketsphinx_LatLinkIterator *)__pyx_v_self)->itor)); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 224; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_3);
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":225
 *         link = LatLink()
 *         link.set_link(self.dag, ps_latlink_iter_link(self.itor))
 *         return link             # <<<<<<<<<<<<<<
 * 
 * cdef class Lattice:
 */
  __Pyx_XDECREF(__pyx_r);
  __Pyx_INCREF(((PyObject *)__pyx_v_link));
  __pyx_r = ((PyObject *)__pyx_v_link);
  goto __pyx_L0;

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_AddTraceback("pocketsphinx.LatLinkIterator.__next__");
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_DECREF((PyObject *)__pyx_v_link);
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_FinishRefcountContext();
  return __pyx_r;
}

/* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":249
 *     @type n_frames: int
 *     """
 *     def __init__(self, ps=None, latfile=None, boxed=None):             # <<<<<<<<<<<<<<
 *         cdef Decoder decoder
 *         self.dag = NULL
 */

static int __pyx_pf_12pocketsphinx_7Lattice___init__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static int __pyx_pf_12pocketsphinx_7Lattice___init__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_ps = 0;
  PyObject *__pyx_v_latfile = 0;
  PyObject *__pyx_v_boxed = 0;
  struct __pyx_obj_12pocketsphinx_Decoder *__pyx_v_decoder;
  int __pyx_r;
  int __pyx_t_1;
  int __pyx_t_2;
  int __pyx_t_3;
  char *__pyx_t_4;
  PyObject *__pyx_t_5 = NULL;
  static PyObject **__pyx_pyargnames[] = {&__pyx_kp_ps,&__pyx_kp_latfile,&__pyx_kp_boxed,0};
  __Pyx_SetupRefcountContext("__init__");
  if (unlikely(__pyx_kwds)) {
    Py_ssize_t kw_args = PyDict_Size(__pyx_kwds);
    PyObject* values[3] = {0,0,0};
    values[0] = Py_None;
    values[1] = Py_None;
    values[2] = Py_None;
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
      case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
      case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
      case  0: break;
      default: goto __pyx_L5_argtuple_error;
    }
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  0:
      if (kw_args > 1) {
        PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_kp_ps);
        if (unlikely(value)) { values[0] = value; kw_args--; }
      }
      case  1:
      if (kw_args > 1) {
        PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_kp_latfile);
        if (unlikely(value)) { values[1] = value; kw_args--; }
      }
      case  2:
      if (kw_args > 1) {
        PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_kp_boxed);
        if (unlikely(value)) { values[2] = value; kw_args--; }
      }
    }
    if (unlikely(kw_args > 0)) {
      if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, PyTuple_GET_SIZE(__pyx_args), "__init__") < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 249; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
    }
    __pyx_v_ps = values[0];
    __pyx_v_latfile = values[1];
    __pyx_v_boxed = values[2];
  } else {
    __pyx_v_ps = Py_None;
    __pyx_v_latfile = Py_None;
    __pyx_v_boxed = Py_None;
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  3: __pyx_v_boxed = PyTuple_GET_ITEM(__pyx_args, 2);
      case  2: __pyx_v_latfile = PyTuple_GET_ITEM(__pyx_args, 1);
      case  1: __pyx_v_ps = PyTuple_GET_ITEM(__pyx_args, 0);
      case  0: break;
      default: goto __pyx_L5_argtuple_error;
    }
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("__init__", 0, 0, 3, PyTuple_GET_SIZE(__pyx_args)); {__pyx_filename = __pyx_f[0]; __pyx_lineno = 249; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
  __pyx_L3_error:;
  __Pyx_AddTraceback("pocketsphinx.Lattice.__init__");
  return -1;
  __pyx_L4_argument_unpacking_done:;
  __pyx_v_decoder = ((struct __pyx_obj_12pocketsphinx_Decoder *)Py_None); __Pyx_INCREF(Py_None);

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":251
 *     def __init__(self, ps=None, latfile=None, boxed=None):
 *         cdef Decoder decoder
 *         self.dag = NULL             # <<<<<<<<<<<<<<
 *         if ps and latfile:
 *             decoder = ps
 */
  ((struct __pyx_obj_12pocketsphinx_Lattice *)__pyx_v_self)->dag = NULL;

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":252
 *         cdef Decoder decoder
 *         self.dag = NULL
 *         if ps and latfile:             # <<<<<<<<<<<<<<
 *             decoder = ps
 *             self.dag = ps_lattice_read(decoder.ps, latfile)
 */
  __pyx_t_1 = __Pyx_PyObject_IsTrue(__pyx_v_ps); if (unlikely(__pyx_t_1 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 252; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (__pyx_t_1) {
    __pyx_t_2 = __Pyx_PyObject_IsTrue(__pyx_v_latfile); if (unlikely(__pyx_t_2 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 252; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_t_3 = __pyx_t_2;
  } else {
    __pyx_t_3 = __pyx_t_1;
  }
  if (__pyx_t_3) {

    /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":253
 *         self.dag = NULL
 *         if ps and latfile:
 *             decoder = ps             # <<<<<<<<<<<<<<
 *             self.dag = ps_lattice_read(decoder.ps, latfile)
 *             if self.dag == NULL:
 */
    if (!(__Pyx_TypeTest(__pyx_v_ps, __pyx_ptype_12pocketsphinx_Decoder))) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 253; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_INCREF(__pyx_v_ps);
    __Pyx_DECREF(((PyObject *)__pyx_v_decoder));
    __pyx_v_decoder = ((struct __pyx_obj_12pocketsphinx_Decoder *)__pyx_v_ps);

    /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":254
 *         if ps and latfile:
 *             decoder = ps
 *             self.dag = ps_lattice_read(decoder.ps, latfile)             # <<<<<<<<<<<<<<
 *             if self.dag == NULL:
 *                 raise RuntimeError, "Failed to read lattice from %s" % latfile
 */
    __pyx_t_4 = __Pyx_PyBytes_AsString(__pyx_v_latfile); if (unlikely((!__pyx_t_4) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 254; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    ((struct __pyx_obj_12pocketsphinx_Lattice *)__pyx_v_self)->dag = ps_lattice_read(__pyx_v_decoder->ps, __pyx_t_4);

    /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":255
 *             decoder = ps
 *             self.dag = ps_lattice_read(decoder.ps, latfile)
 *             if self.dag == NULL:             # <<<<<<<<<<<<<<
 *                 raise RuntimeError, "Failed to read lattice from %s" % latfile
 *         if boxed: self.set_boxed(boxed)
 */
    __pyx_t_3 = (((struct __pyx_obj_12pocketsphinx_Lattice *)__pyx_v_self)->dag == NULL);
    if (__pyx_t_3) {

      /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":256
 *             self.dag = ps_lattice_read(decoder.ps, latfile)
 *             if self.dag == NULL:
 *                 raise RuntimeError, "Failed to read lattice from %s" % latfile             # <<<<<<<<<<<<<<
 *         if boxed: self.set_boxed(boxed)
 * 
 */
      __pyx_t_5 = PyNumber_Remainder(__pyx_kp_4, __pyx_v_latfile); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 256; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_5);
      __Pyx_Raise(__pyx_builtin_RuntimeError, __pyx_t_5, 0);
      __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 256; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      goto __pyx_L7;
    }
    __pyx_L7:;
    goto __pyx_L6;
  }
  __pyx_L6:;

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":257
 *             if self.dag == NULL:
 *                 raise RuntimeError, "Failed to read lattice from %s" % latfile
 *         if boxed: self.set_boxed(boxed)             # <<<<<<<<<<<<<<
 * 
 *     cdef set_dag(Lattice self, ps_lattice_t *dag):
 */
  __pyx_t_3 = __Pyx_PyObject_IsTrue(__pyx_v_boxed); if (unlikely(__pyx_t_3 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 257; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (__pyx_t_3) {
    __pyx_t_5 = ((struct __pyx_vtabstruct_12pocketsphinx_Lattice *)((struct __pyx_obj_12pocketsphinx_Lattice *)__pyx_v_self)->__pyx_vtab)->set_boxed(((struct __pyx_obj_12pocketsphinx_Lattice *)__pyx_v_self), __pyx_v_boxed); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 257; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_5);
    __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
    goto __pyx_L8;
  }
  __pyx_L8:;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_5);
  __Pyx_AddTraceback("pocketsphinx.Lattice.__init__");
  __pyx_r = -1;
  __pyx_L0:;
  __Pyx_DECREF((PyObject *)__pyx_v_decoder);
  __Pyx_FinishRefcountContext();
  return __pyx_r;
}

/* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":259
 *         if boxed: self.set_boxed(boxed)
 * 
 *     cdef set_dag(Lattice self, ps_lattice_t *dag):             # <<<<<<<<<<<<<<
 *         ps_lattice_retain(dag)
 *         ps_lattice_free(self.dag)
 */

static  PyObject *__pyx_f_12pocketsphinx_7Lattice_set_dag(struct __pyx_obj_12pocketsphinx_Lattice *__pyx_v_self, ps_lattice_t *__pyx_v_dag) {
  PyObject *__pyx_r = NULL;
  PyObject *__pyx_t_1 = NULL;
  __Pyx_SetupRefcountContext("set_dag");

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":260
 * 
 *     cdef set_dag(Lattice self, ps_lattice_t *dag):
 *         ps_lattice_retain(dag)             # <<<<<<<<<<<<<<
 *         ps_lattice_free(self.dag)
 *         self.dag = dag
 */
  ps_lattice_retain(__pyx_v_dag);

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":261
 *     cdef set_dag(Lattice self, ps_lattice_t *dag):
 *         ps_lattice_retain(dag)
 *         ps_lattice_free(self.dag)             # <<<<<<<<<<<<<<
 *         self.dag = dag
 *         self.n_frames = ps_lattice_n_frames(dag)
 */
  ps_lattice_free(__pyx_v_self->dag);

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":262
 *         ps_lattice_retain(dag)
 *         ps_lattice_free(self.dag)
 *         self.dag = dag             # <<<<<<<<<<<<<<
 *         self.n_frames = ps_lattice_n_frames(dag)
 * 
 */
  __pyx_v_self->dag = __pyx_v_dag;

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":263
 *         ps_lattice_free(self.dag)
 *         self.dag = dag
 *         self.n_frames = ps_lattice_n_frames(dag)             # <<<<<<<<<<<<<<
 * 
 *     cdef set_boxed(Lattice self, box):
 */
  __pyx_t_1 = PyInt_FromLong(ps_lattice_n_frames(__pyx_v_dag)); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 263; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_GIVEREF(__pyx_t_1);
  __Pyx_GOTREF(__pyx_v_self->n_frames);
  __Pyx_DECREF(__pyx_v_self->n_frames);
  __pyx_v_self->n_frames = __pyx_t_1;
  __pyx_t_1 = 0;

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_AddTraceback("pocketsphinx.Lattice.set_dag");
  __pyx_r = 0;
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_FinishRefcountContext();
  return __pyx_r;
}

/* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":265
 *         self.n_frames = ps_lattice_n_frames(dag)
 * 
 *     cdef set_boxed(Lattice self, box):             # <<<<<<<<<<<<<<
 *         cdef ps_lattice_t *dag
 *         dag = <ps_lattice_t *>(<PyGBoxed *>box).boxed
 */

static  PyObject *__pyx_f_12pocketsphinx_7Lattice_set_boxed(struct __pyx_obj_12pocketsphinx_Lattice *__pyx_v_self, PyObject *__pyx_v_box) {
  ps_lattice_t *__pyx_v_dag;
  PyObject *__pyx_r = NULL;
  PyObject *__pyx_t_1 = NULL;
  __Pyx_SetupRefcountContext("set_boxed");

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":267
 *     cdef set_boxed(Lattice self, box):
 *         cdef ps_lattice_t *dag
 *         dag = <ps_lattice_t *>(<PyGBoxed *>box).boxed             # <<<<<<<<<<<<<<
 *         ps_lattice_retain(dag)
 *         ps_lattice_free(self.dag)
 */
  __pyx_v_dag = ((ps_lattice_t *)((PyGBoxed *)__pyx_v_box)->boxed);

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":268
 *         cdef ps_lattice_t *dag
 *         dag = <ps_lattice_t *>(<PyGBoxed *>box).boxed
 *         ps_lattice_retain(dag)             # <<<<<<<<<<<<<<
 *         ps_lattice_free(self.dag)
 *         self.dag = dag
 */
  ps_lattice_retain(__pyx_v_dag);

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":269
 *         dag = <ps_lattice_t *>(<PyGBoxed *>box).boxed
 *         ps_lattice_retain(dag)
 *         ps_lattice_free(self.dag)             # <<<<<<<<<<<<<<
 *         self.dag = dag
 *         self.n_frames = ps_lattice_n_frames(self.dag)
 */
  ps_lattice_free(__pyx_v_self->dag);

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":270
 *         ps_lattice_retain(dag)
 *         ps_lattice_free(self.dag)
 *         self.dag = dag             # <<<<<<<<<<<<<<
 *         self.n_frames = ps_lattice_n_frames(self.dag)
 * 
 */
  __pyx_v_self->dag = __pyx_v_dag;

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":271
 *         ps_lattice_free(self.dag)
 *         self.dag = dag
 *         self.n_frames = ps_lattice_n_frames(self.dag)             # <<<<<<<<<<<<<<
 * 
 *     def __dealloc__(self):
 */
  __pyx_t_1 = PyInt_FromLong(ps_lattice_n_frames(__pyx_v_self->dag)); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 271; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_GIVEREF(__pyx_t_1);
  __Pyx_GOTREF(__pyx_v_self->n_frames);
  __Pyx_DECREF(__pyx_v_self->n_frames);
  __pyx_v_self->n_frames = __pyx_t_1;
  __pyx_t_1 = 0;

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_AddTraceback("pocketsphinx.Lattice.set_boxed");
  __pyx_r = 0;
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_FinishRefcountContext();
  return __pyx_r;
}

/* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":273
 *         self.n_frames = ps_lattice_n_frames(self.dag)
 * 
 *     def __dealloc__(self):             # <<<<<<<<<<<<<<
 *         ps_lattice_free(self.dag)
 * 
 */

static void __pyx_pf_12pocketsphinx_7Lattice___dealloc__(PyObject *__pyx_v_self); /*proto*/
static void __pyx_pf_12pocketsphinx_7Lattice___dealloc__(PyObject *__pyx_v_self) {
  __Pyx_SetupRefcountContext("__dealloc__");

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":274
 * 
 *     def __dealloc__(self):
 *         ps_lattice_free(self.dag)             # <<<<<<<<<<<<<<
 * 
 *     def bestpath(self, NGramModel lmset, float lwf, float ascale):
 */
  ps_lattice_free(((struct __pyx_obj_12pocketsphinx_Lattice *)__pyx_v_self)->dag);

  __Pyx_FinishRefcountContext();
}

/* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":276
 *         ps_lattice_free(self.dag)
 * 
 *     def bestpath(self, NGramModel lmset, float lwf, float ascale):             # <<<<<<<<<<<<<<
 *         """
 *         Find the best path through the lattice, optionally using a
 */

static PyObject *__pyx_pf_12pocketsphinx_7Lattice_bestpath(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_12pocketsphinx_7Lattice_bestpath[] = "\n        Find the best path through the lattice, optionally using a\n        language model.\n\n        This function performs best-path search on the lattice, and\n        returns the final link in the best path found.  The existing\n        acoustic scores on the lattice links are used in conjunction\n        with an optional language model.  A scaling factor can be\n        applied to the acoustic scores to produce more useful\n        posterior probabilities (in conjunction with C{posterior()},\n        below).\n\n        @param lmset: Language model (set) to use for rescoring\n        @type lmset: sphinxbase.NGramModel\n        @param lwf: Weight to apply to language model scores (on top\n        of any existing language model weight set in C{lmset}).\n        @type lwf: float\n        @param ascale: Weight to apply to acoustic model scores.\n        @type ascale: float\n        @return: Final link in best path.\n        @rtype: LatLink\n        ";
static PyObject *__pyx_pf_12pocketsphinx_7Lattice_bestpath(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  struct __pyx_obj_10sphinxbase_NGramModel *__pyx_v_lmset = 0;
  float __pyx_v_lwf;
  float __pyx_v_ascale;
  ps_latlink_t *__pyx_v_end;
  struct __pyx_obj_12pocketsphinx_LatLink *__pyx_v_link;
  PyObject *__pyx_r = NULL;
  PyObject *__pyx_t_1 = NULL;
  static PyObject **__pyx_pyargnames[] = {&__pyx_kp_lmset,&__pyx_kp_lwf,&__pyx_kp_ascale,0};
  __Pyx_SetupRefcountContext("bestpath");
  if (unlikely(__pyx_kwds)) {
    Py_ssize_t kw_args = PyDict_Size(__pyx_kwds);
    PyObject* values[3] = {0,0,0};
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
      case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
      case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
      case  0: break;
      default: goto __pyx_L5_argtuple_error;
    }
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  0:
      values[0] = PyDict_GetItem(__pyx_kwds, __pyx_kp_lmset);
      if (likely(values[0])) kw_args--;
      else goto __pyx_L5_argtuple_error;
      case  1:
      values[1] = PyDict_GetItem(__pyx_kwds, __pyx_kp_lwf);
      if (likely(values[1])) kw_args--;
      else {
        __Pyx_RaiseArgtupleInvalid("bestpath", 1, 3, 3, 1); {__pyx_filename = __pyx_f[0]; __pyx_lineno = 276; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
      }
      case  2:
      values[2] = PyDict_GetItem(__pyx_kwds, __pyx_kp_ascale);
      if (likely(values[2])) kw_args--;
      else {
        __Pyx_RaiseArgtupleInvalid("bestpath", 1, 3, 3, 2); {__pyx_filename = __pyx_f[0]; __pyx_lineno = 276; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
      }
    }
    if (unlikely(kw_args > 0)) {
      if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, PyTuple_GET_SIZE(__pyx_args), "bestpath") < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 276; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
    }
    __pyx_v_lmset = ((struct __pyx_obj_10sphinxbase_NGramModel *)values[0]);
    __pyx_v_lwf = __pyx_PyFloat_AsDouble(values[1]); if (unlikely(PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 276; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
    __pyx_v_ascale = __pyx_PyFloat_AsDouble(values[2]); if (unlikely(PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 276; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
  } else if (PyTuple_GET_SIZE(__pyx_args) != 3) {
    goto __pyx_L5_argtuple_error;
  } else {
    __pyx_v_lmset = ((struct __pyx_obj_10sphinxbase_NGramModel *)PyTuple_GET_ITEM(__pyx_args, 0));
    __pyx_v_lwf = __pyx_PyFloat_AsDouble(PyTuple_GET_ITEM(__pyx_args, 1)); if (unlikely(PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 276; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
    __pyx_v_ascale = __pyx_PyFloat_AsDouble(PyTuple_GET_ITEM(__pyx_args, 2)); if (unlikely(PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 276; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("bestpath", 1, 3, 3, PyTuple_GET_SIZE(__pyx_args)); {__pyx_filename = __pyx_f[0]; __pyx_lineno = 276; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
  __pyx_L3_error:;
  __Pyx_AddTraceback("pocketsphinx.Lattice.bestpath");
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_v_link = ((struct __pyx_obj_12pocketsphinx_LatLink *)Py_None); __Pyx_INCREF(Py_None);
  if (unlikely(!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_lmset), __pyx_ptype_10sphinxbase_NGramModel, 1, "lmset", 0))) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 276; __pyx_clineno = __LINE__; goto __pyx_L1_error;}

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":301
 *         cdef ps_latlink_t *end
 *         cdef LatLink link
 *         end = ps_lattice_bestpath(self.dag, lmset.lm, lwf, ascale)             # <<<<<<<<<<<<<<
 *         link = LatLink()
 *         link.set_link(self.dag, end)
 */
  __pyx_v_end = ps_lattice_bestpath(((struct __pyx_obj_12pocketsphinx_Lattice *)__pyx_v_self)->dag, __pyx_v_lmset->lm, __pyx_v_lwf, __pyx_v_ascale);

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":302
 *         cdef LatLink link
 *         end = ps_lattice_bestpath(self.dag, lmset.lm, lwf, ascale)
 *         link = LatLink()             # <<<<<<<<<<<<<<
 *         link.set_link(self.dag, end)
 *         return link
 */
  __pyx_t_1 = PyObject_Call(((PyObject *)((PyObject*)__pyx_ptype_12pocketsphinx_LatLink)), ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 302; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  if (!(__Pyx_TypeTest(__pyx_t_1, __pyx_ptype_12pocketsphinx_LatLink))) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 302; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(((PyObject *)__pyx_v_link));
  __pyx_v_link = ((struct __pyx_obj_12pocketsphinx_LatLink *)__pyx_t_1);
  __pyx_t_1 = 0;

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":303
 *         end = ps_lattice_bestpath(self.dag, lmset.lm, lwf, ascale)
 *         link = LatLink()
 *         link.set_link(self.dag, end)             # <<<<<<<<<<<<<<
 *         return link
 * 
 */
  __pyx_t_1 = ((struct __pyx_vtabstruct_12pocketsphinx_LatLink *)__pyx_v_link->__pyx_vtab)->set_link(__pyx_v_link, ((struct __pyx_obj_12pocketsphinx_Lattice *)__pyx_v_self)->dag, __pyx_v_end); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 303; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":304
 *         link = LatLink()
 *         link.set_link(self.dag, end)
 *         return link             # <<<<<<<<<<<<<<
 * 
 *     def posterior(self, NGramModel lmset, float ascale):
 */
  __Pyx_XDECREF(__pyx_r);
  __Pyx_INCREF(((PyObject *)__pyx_v_link));
  __pyx_r = ((PyObject *)__pyx_v_link);
  goto __pyx_L0;

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_AddTraceback("pocketsphinx.Lattice.bestpath");
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_DECREF((PyObject *)__pyx_v_link);
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_FinishRefcountContext();
  return __pyx_r;
}

/* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":306
 *         return link
 * 
 *     def posterior(self, NGramModel lmset, float ascale):             # <<<<<<<<<<<<<<
 *         """
 *         Calculate posterior probabilities of all links in a lattice.
 */

static PyObject *__pyx_pf_12pocketsphinx_7Lattice_posterior(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_12pocketsphinx_7Lattice_posterior[] = "\n        Calculate posterior probabilities of all links in a lattice.\n\n        This function performs the backward part of forward-backward\n        calculation of posterior probabilities for all links in the\n        lattice.  It assumes that C{bestpath()} has already been\n        called on the lattice.\n\n        @param lmset: Language model (set) to use for rescoring\n        @type lmset: sphinxbase.NGramModel\n        @param ascale: Weight to apply to acoustic model scores.\n        @type ascale: float\n        @return: Log-probability of the lattice as a whole.\n        @rtype: float\n        ";
static PyObject *__pyx_pf_12pocketsphinx_7Lattice_posterior(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  struct __pyx_obj_10sphinxbase_NGramModel *__pyx_v_lmset = 0;
  float __pyx_v_ascale;
  logmath_t *__pyx_v_lmath;
  PyObject *__pyx_r = NULL;
  PyObject *__pyx_t_1 = NULL;
  static PyObject **__pyx_pyargnames[] = {&__pyx_kp_lmset,&__pyx_kp_ascale,0};
  __Pyx_SetupRefcountContext("posterior");
  if (unlikely(__pyx_kwds)) {
    Py_ssize_t kw_args = PyDict_Size(__pyx_kwds);
    PyObject* values[2] = {0,0};
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
      case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
      case  0: break;
      default: goto __pyx_L5_argtuple_error;
    }
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  0:
      values[0] = PyDict_GetItem(__pyx_kwds, __pyx_kp_lmset);
      if (likely(values[0])) kw_args--;
      else goto __pyx_L5_argtuple_error;
      case  1:
      values[1] = PyDict_GetItem(__pyx_kwds, __pyx_kp_ascale);
      if (likely(values[1])) kw_args--;
      else {
        __Pyx_RaiseArgtupleInvalid("posterior", 1, 2, 2, 1); {__pyx_filename = __pyx_f[0]; __pyx_lineno = 306; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
      }
    }
    if (unlikely(kw_args > 0)) {
      if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, PyTuple_GET_SIZE(__pyx_args), "posterior") < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 306; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
    }
    __pyx_v_lmset = ((struct __pyx_obj_10sphinxbase_NGramModel *)values[0]);
    __pyx_v_ascale = __pyx_PyFloat_AsDouble(values[1]); if (unlikely(PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 306; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
  } else if (PyTuple_GET_SIZE(__pyx_args) != 2) {
    goto __pyx_L5_argtuple_error;
  } else {
    __pyx_v_lmset = ((struct __pyx_obj_10sphinxbase_NGramModel *)PyTuple_GET_ITEM(__pyx_args, 0));
    __pyx_v_ascale = __pyx_PyFloat_AsDouble(PyTuple_GET_ITEM(__pyx_args, 1)); if (unlikely(PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 306; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("posterior", 1, 2, 2, PyTuple_GET_SIZE(__pyx_args)); {__pyx_filename = __pyx_f[0]; __pyx_lineno = 306; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
  __pyx_L3_error:;
  __Pyx_AddTraceback("pocketsphinx.Lattice.posterior");
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  if (unlikely(!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_lmset), __pyx_ptype_10sphinxbase_NGramModel, 1, "lmset", 0))) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 306; __pyx_clineno = __LINE__; goto __pyx_L1_error;}

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":323
 *         """
 *         cdef logmath_t *lmath
 *         lmath = ps_lattice_get_logmath(self.dag)             # <<<<<<<<<<<<<<
 *         return sb.logmath_log_to_ln(lmath,
 *                                     ps_lattice_posterior(self.dag, lmset.lm, ascale))
 */
  __pyx_v_lmath = ps_lattice_get_logmath(((struct __pyx_obj_12pocketsphinx_Lattice *)__pyx_v_self)->dag);

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":324
 *         cdef logmath_t *lmath
 *         lmath = ps_lattice_get_logmath(self.dag)
 *         return sb.logmath_log_to_ln(lmath,             # <<<<<<<<<<<<<<
 *                                     ps_lattice_posterior(self.dag, lmset.lm, ascale))
 * 
 */
  __Pyx_XDECREF(__pyx_r);

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":325
 *         lmath = ps_lattice_get_logmath(self.dag)
 *         return sb.logmath_log_to_ln(lmath,
 *                                     ps_lattice_posterior(self.dag, lmset.lm, ascale))             # <<<<<<<<<<<<<<
 * 
 *     def nodes(self, start=0, end=-1):
 */
  __pyx_t_1 = PyFloat_FromDouble(logmath_log_to_ln(__pyx_v_lmath, ps_lattice_posterior(((struct __pyx_obj_12pocketsphinx_Lattice *)__pyx_v_self)->dag, __pyx_v_lmset->lm, __pyx_v_ascale))); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 324; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_AddTraceback("pocketsphinx.Lattice.posterior");
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_FinishRefcountContext();
  return __pyx_r;
}

/* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":327
 *                                     ps_lattice_posterior(self.dag, lmset.lm, ascale))
 * 
 *     def nodes(self, start=0, end=-1):             # <<<<<<<<<<<<<<
 *         """
 *         Get an iterator over all nodes in the lattice.
 */

static PyObject *__pyx_pf_12pocketsphinx_7Lattice_nodes(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_12pocketsphinx_7Lattice_nodes[] = "\n        Get an iterator over all nodes in the lattice.\n\n        @param start: First frame to iterate over.\n        @type start: int\n        @param end: Last frame to iterate over, or -1 for all remaining\n        @type end: int\n        @return: Iterator over nodes.\n        @rtype: LatNodeIterator\n        ";
static PyObject *__pyx_pf_12pocketsphinx_7Lattice_nodes(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_start = 0;
  PyObject *__pyx_v_end = 0;
  struct __pyx_obj_12pocketsphinx_LatNodeIterator *__pyx_v_itor;
  PyObject *__pyx_r = NULL;
  PyObject *__pyx_t_1 = NULL;
  int __pyx_t_2;
  PyObject *__pyx_t_3 = NULL;
  static PyObject **__pyx_pyargnames[] = {&__pyx_kp_start,&__pyx_kp_end,0};
  __Pyx_SetupRefcountContext("nodes");
  if (unlikely(__pyx_kwds)) {
    Py_ssize_t kw_args = PyDict_Size(__pyx_kwds);
    PyObject* values[2] = {0,0};
    values[0] = __pyx_int_0;
    values[1] = __pyx_int_neg_1;
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
      case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
      case  0: break;
      default: goto __pyx_L5_argtuple_error;
    }
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  0:
      if (kw_args > 1) {
        PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_kp_start);
        if (unlikely(value)) { values[0] = value; kw_args--; }
      }
      case  1:
      if (kw_args > 1) {
        PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_kp_end);
        if (unlikely(value)) { values[1] = value; kw_args--; }
      }
    }
    if (unlikely(kw_args > 0)) {
      if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, PyTuple_GET_SIZE(__pyx_args), "nodes") < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 327; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
    }
    __pyx_v_start = values[0];
    __pyx_v_end = values[1];
  } else {
    __pyx_v_start = __pyx_int_0;
    __pyx_v_end = __pyx_int_neg_1;
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  2: __pyx_v_end = PyTuple_GET_ITEM(__pyx_args, 1);
      case  1: __pyx_v_start = PyTuple_GET_ITEM(__pyx_args, 0);
      case  0: break;
      default: goto __pyx_L5_argtuple_error;
    }
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("nodes", 0, 0, 2, PyTuple_GET_SIZE(__pyx_args)); {__pyx_filename = __pyx_f[0]; __pyx_lineno = 327; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
  __pyx_L3_error:;
  __Pyx_AddTraceback("pocketsphinx.Lattice.nodes");
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __Pyx_INCREF(__pyx_v_end);
  __pyx_v_itor = ((struct __pyx_obj_12pocketsphinx_LatNodeIterator *)Py_None); __Pyx_INCREF(Py_None);

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":340
 *         cdef LatNodeIterator itor
 * 
 *         if end == -1:             # <<<<<<<<<<<<<<
 *             end = ps_lattice_n_frames(self.dag)
 *         itor = LatNodeIterator(start, end)
 */
  __pyx_t_1 = PyObject_RichCompare(__pyx_v_end, __pyx_int_neg_1, Py_EQ); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 340; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_2 = __Pyx_PyObject_IsTrue(__pyx_t_1); if (unlikely(__pyx_t_2 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 340; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  if (__pyx_t_2) {

    /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":341
 * 
 *         if end == -1:
 *             end = ps_lattice_n_frames(self.dag)             # <<<<<<<<<<<<<<
 *         itor = LatNodeIterator(start, end)
 *         itor.dag = self.dag
 */
    __pyx_t_1 = PyInt_FromLong(ps_lattice_n_frames(((struct __pyx_obj_12pocketsphinx_Lattice *)__pyx_v_self)->dag)); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 341; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_1);
    __Pyx_DECREF(__pyx_v_end);
    __pyx_v_end = __pyx_t_1;
    __pyx_t_1 = 0;
    goto __pyx_L6;
  }
  __pyx_L6:;

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":342
 *         if end == -1:
 *             end = ps_lattice_n_frames(self.dag)
 *         itor = LatNodeIterator(start, end)             # <<<<<<<<<<<<<<
 *         itor.dag = self.dag
 *         itor.itor = ps_latnode_iter(self.dag)
 */
  __pyx_t_1 = PyTuple_New(2); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 342; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(((PyObject *)__pyx_t_1));
  __Pyx_INCREF(__pyx_v_start);
  PyTuple_SET_ITEM(__pyx_t_1, 0, __pyx_v_start);
  __Pyx_GIVEREF(__pyx_v_start);
  __Pyx_INCREF(__pyx_v_end);
  PyTuple_SET_ITEM(__pyx_t_1, 1, __pyx_v_end);
  __Pyx_GIVEREF(__pyx_v_end);
  __pyx_t_3 = PyObject_Call(((PyObject *)((PyObject*)__pyx_ptype_12pocketsphinx_LatNodeIterator)), ((PyObject *)__pyx_t_1), NULL); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 342; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_3);
  __Pyx_DECREF(((PyObject *)__pyx_t_1)); __pyx_t_1 = 0;
  if (!(__Pyx_TypeTest(__pyx_t_3, __pyx_ptype_12pocketsphinx_LatNodeIterator))) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 342; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(((PyObject *)__pyx_v_itor));
  __pyx_v_itor = ((struct __pyx_obj_12pocketsphinx_LatNodeIterator *)__pyx_t_3);
  __pyx_t_3 = 0;

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":343
 *             end = ps_lattice_n_frames(self.dag)
 *         itor = LatNodeIterator(start, end)
 *         itor.dag = self.dag             # <<<<<<<<<<<<<<
 *         itor.itor = ps_latnode_iter(self.dag)
 *         return itor
 */
  __pyx_v_itor->dag = ((struct __pyx_obj_12pocketsphinx_Lattice *)__pyx_v_self)->dag;

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":344
 *         itor = LatNodeIterator(start, end)
 *         itor.dag = self.dag
 *         itor.itor = ps_latnode_iter(self.dag)             # <<<<<<<<<<<<<<
 *         return itor
 * 
 */
  __pyx_v_itor->itor = ps_latnode_iter(((struct __pyx_obj_12pocketsphinx_Lattice *)__pyx_v_self)->dag);

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":345
 *         itor.dag = self.dag
 *         itor.itor = ps_latnode_iter(self.dag)
 *         return itor             # <<<<<<<<<<<<<<
 * 
 *     def write(self, outfile):
 */
  __Pyx_XDECREF(__pyx_r);
  __Pyx_INCREF(((PyObject *)__pyx_v_itor));
  __pyx_r = ((PyObject *)__pyx_v_itor);
  goto __pyx_L0;

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_AddTraceback("pocketsphinx.Lattice.nodes");
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_DECREF((PyObject *)__pyx_v_itor);
  __Pyx_DECREF(__pyx_v_end);
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_FinishRefcountContext();
  return __pyx_r;
}

/* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":347
 *         return itor
 * 
 *     def write(self, outfile):             # <<<<<<<<<<<<<<
 *         """
 *         Write the lattice to an output file.
 */

static PyObject *__pyx_pf_12pocketsphinx_7Lattice_write(PyObject *__pyx_v_self, PyObject *__pyx_v_outfile); /*proto*/
static char __pyx_doc_12pocketsphinx_7Lattice_write[] = "\n        Write the lattice to an output file.\n\n        @param outfile: Name of file to write to.\n        @type outfile: str        \n        ";
static PyObject *__pyx_pf_12pocketsphinx_7Lattice_write(PyObject *__pyx_v_self, PyObject *__pyx_v_outfile) {
  int __pyx_v_rv;
  PyObject *__pyx_r = NULL;
  char *__pyx_t_1;
  int __pyx_t_2;
  PyObject *__pyx_t_3 = NULL;
  __Pyx_SetupRefcountContext("write");

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":356
 *         cdef int rv
 * 
 *         rv = ps_lattice_write(self.dag, outfile)             # <<<<<<<<<<<<<<
 *         if rv < 0:
 *             raise RuntimeError, "Failed to write lattice to %s" % outfile
 */
  __pyx_t_1 = __Pyx_PyBytes_AsString(__pyx_v_outfile); if (unlikely((!__pyx_t_1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 356; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_v_rv = ps_lattice_write(((struct __pyx_obj_12pocketsphinx_Lattice *)__pyx_v_self)->dag, __pyx_t_1);

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":357
 * 
 *         rv = ps_lattice_write(self.dag, outfile)
 *         if rv < 0:             # <<<<<<<<<<<<<<
 *             raise RuntimeError, "Failed to write lattice to %s" % outfile
 * 
 */
  __pyx_t_2 = (__pyx_v_rv < 0);
  if (__pyx_t_2) {

    /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":358
 *         rv = ps_lattice_write(self.dag, outfile)
 *         if rv < 0:
 *             raise RuntimeError, "Failed to write lattice to %s" % outfile             # <<<<<<<<<<<<<<
 * 
 * cdef class Decoder:
 */
    __pyx_t_3 = PyNumber_Remainder(__pyx_kp_5, __pyx_v_outfile); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 358; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_3);
    __Pyx_Raise(__pyx_builtin_RuntimeError, __pyx_t_3, 0);
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 358; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    goto __pyx_L5;
  }
  __pyx_L5:;

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_AddTraceback("pocketsphinx.Lattice.write");
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_FinishRefcountContext();
  return __pyx_r;
}

/* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":388
 *     @type jsgf str
 *     """
 *     def __init__(self, **kwargs):             # <<<<<<<<<<<<<<
 *         cdef cmd_ln_t *config
 *         cdef int i
 */

static int __pyx_pf_12pocketsphinx_7Decoder___init__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static int __pyx_pf_12pocketsphinx_7Decoder___init__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_kwargs = 0;
  cmd_ln_t *__pyx_v_config;
  int __pyx_v_i;
  PyObject *__pyx_v_k;
  PyObject *__pyx_v_v;
  int __pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  int __pyx_t_1;
  PyObject *__pyx_t_2 = NULL;
  Py_ssize_t __pyx_t_3;
  PyObject *__pyx_t_4 = NULL;
  char *__pyx_t_5;
  __Pyx_SetupRefcountContext("__init__");
  if (unlikely(PyTuple_GET_SIZE(__pyx_args) > 0)) {
    __Pyx_RaiseArgtupleInvalid("__init__", 1, 0, 0, PyTuple_GET_SIZE(__pyx_args)); return -1;}
  if (__pyx_kwds && unlikely(!__Pyx_CheckKeywordStrings(__pyx_kwds, "__init__", 1))) return -1;
  __pyx_v_kwargs = (__pyx_kwds) ? PyDict_Copy(__pyx_kwds) : PyDict_New();
  if (unlikely(!__pyx_v_kwargs)) return -1;
  __Pyx_GOTREF(__pyx_v_kwargs);
  __pyx_v_k = Py_None; __Pyx_INCREF(Py_None);
  __pyx_v_v = Py_None; __Pyx_INCREF(Py_None);

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":393
 * 
 *         # Construct from an existing GObject pointer if given
 *         if 'boxed' in kwargs:             # <<<<<<<<<<<<<<
 *             self.argc = 0
 *             self.set_boxed(kwargs['boxed'])
 */
  __pyx_t_1 = (PySequence_Contains(__pyx_v_kwargs, __pyx_kp_6)); if (unlikely(__pyx_t_1 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 393; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (__pyx_t_1) {

    /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":394
 *         # Construct from an existing GObject pointer if given
 *         if 'boxed' in kwargs:
 *             self.argc = 0             # <<<<<<<<<<<<<<
 *             self.set_boxed(kwargs['boxed'])
 *             return
 */
    ((struct __pyx_obj_12pocketsphinx_Decoder *)__pyx_v_self)->argc = 0;

    /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":395
 *         if 'boxed' in kwargs:
 *             self.argc = 0
 *             self.set_boxed(kwargs['boxed'])             # <<<<<<<<<<<<<<
 *             return
 * 
 */
    __pyx_1 = PyObject_GetItem(__pyx_v_kwargs, __pyx_kp_7); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 395; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_1);
    __pyx_t_2 = ((struct __pyx_vtabstruct_12pocketsphinx_Decoder *)((struct __pyx_obj_12pocketsphinx_Decoder *)__pyx_v_self)->__pyx_vtab)->set_boxed(((struct __pyx_obj_12pocketsphinx_Decoder *)__pyx_v_self), __pyx_1); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 395; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_2);
    __Pyx_DECREF(__pyx_1); __pyx_1 = 0;
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;

    /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":396
 *             self.argc = 0
 *             self.set_boxed(kwargs['boxed'])
 *             return             # <<<<<<<<<<<<<<
 * 
 *         # A much more concise version of what pocketsphinx_parse_argdict used to do
 */
    __pyx_r = 0;
    goto __pyx_L0;
    goto __pyx_L5;
  }
  __pyx_L5:;

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":399
 * 
 *         # A much more concise version of what pocketsphinx_parse_argdict used to do
 *         self.argc = len(kwargs) * 2             # <<<<<<<<<<<<<<
 *         self.argv = <char **>sb.ckd_calloc(self.argc, sizeof(char *))
 *         i = 0
 */
  __pyx_t_3 = PyObject_Length(__pyx_v_kwargs); if (unlikely(__pyx_t_3 == -1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 399; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  ((struct __pyx_obj_12pocketsphinx_Decoder *)__pyx_v_self)->argc = (__pyx_t_3 * 2);

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":400
 *         # A much more concise version of what pocketsphinx_parse_argdict used to do
 *         self.argc = len(kwargs) * 2
 *         self.argv = <char **>sb.ckd_calloc(self.argc, sizeof(char *))             # <<<<<<<<<<<<<<
 *         i = 0
 *         for k, v in kwargs.iteritems():
 */
  ((struct __pyx_obj_12pocketsphinx_Decoder *)__pyx_v_self)->argv = ((char **)ckd_calloc(((struct __pyx_obj_12pocketsphinx_Decoder *)__pyx_v_self)->argc, (sizeof(char *))));

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":401
 *         self.argc = len(kwargs) * 2
 *         self.argv = <char **>sb.ckd_calloc(self.argc, sizeof(char *))
 *         i = 0             # <<<<<<<<<<<<<<
 *         for k, v in kwargs.iteritems():
 *             if k[0] != '-':
 */
  __pyx_v_i = 0;

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":402
 *         self.argv = <char **>sb.ckd_calloc(self.argc, sizeof(char *))
 *         i = 0
 *         for k, v in kwargs.iteritems():             # <<<<<<<<<<<<<<
 *             if k[0] != '-':
 *                 k = '-' + k
 */
  __pyx_t_2 = PyObject_GetAttr(__pyx_v_kwargs, __pyx_kp_iteritems); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 402; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __pyx_t_4 = PyObject_Call(__pyx_t_2, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 402; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  if (PyList_CheckExact(__pyx_t_4) || PyTuple_CheckExact(__pyx_t_4)) {
    __pyx_t_3 = 0; __pyx_t_2 = __pyx_t_4; __Pyx_INCREF(__pyx_t_2);
  } else {
    __pyx_t_3 = -1; __pyx_t_2 = PyObject_GetIter(__pyx_t_4); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 402; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_2);
  }
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
  for (;;) {
    if (likely(PyList_CheckExact(__pyx_t_2))) {
      if (__pyx_t_3 >= PyList_GET_SIZE(__pyx_t_2)) break;
      __pyx_t_4 = PyList_GET_ITEM(__pyx_t_2, __pyx_t_3); __Pyx_INCREF(__pyx_t_4); __pyx_t_3++;
    } else if (likely(PyTuple_CheckExact(__pyx_t_2))) {
      if (__pyx_t_3 >= PyTuple_GET_SIZE(__pyx_t_2)) break;
      __pyx_t_4 = PyTuple_GET_ITEM(__pyx_t_2, __pyx_t_3); __Pyx_INCREF(__pyx_t_4); __pyx_t_3++;
    } else {
      __pyx_t_4 = PyIter_Next(__pyx_t_2);
      if (!__pyx_t_4) {
        if (unlikely(PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 402; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        break;
      }
      __Pyx_GOTREF(__pyx_t_4);
    }
    if (PyTuple_CheckExact(__pyx_t_4) && likely(PyTuple_GET_SIZE(__pyx_t_4) == 2)) {
      PyObject* tuple = __pyx_t_4;
      __pyx_2 = PyTuple_GET_ITEM(tuple, 0); __Pyx_INCREF(__pyx_2);
      __pyx_3 = PyTuple_GET_ITEM(tuple, 1); __Pyx_INCREF(__pyx_3);
      __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
      __Pyx_DECREF(__pyx_v_k);
      __pyx_v_k = __pyx_2;
      __pyx_2 = 0;
      __Pyx_DECREF(__pyx_v_v);
      __pyx_v_v = __pyx_3;
      __pyx_3 = 0;
    } else {
      __pyx_1 = PyObject_GetIter(__pyx_t_4); if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 402; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_1);
      __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
      __pyx_2 = __Pyx_UnpackItem(__pyx_1, 0); if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 402; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_2);
      __pyx_3 = __Pyx_UnpackItem(__pyx_1, 1); if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 402; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_3);
      if (__Pyx_EndUnpack(__pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 402; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_DECREF(__pyx_1); __pyx_1 = 0;
      __Pyx_DECREF(__pyx_v_k);
      __pyx_v_k = __pyx_2;
      __pyx_2 = 0;
      __Pyx_DECREF(__pyx_v_v);
      __pyx_v_v = __pyx_3;
      __pyx_3 = 0;
    }

    /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":403
 *         i = 0
 *         for k, v in kwargs.iteritems():
 *             if k[0] != '-':             # <<<<<<<<<<<<<<
 *                 k = '-' + k
 *             self.argv[i] = sb.ckd_salloc(k)
 */
    __pyx_1 = __Pyx_GetItemInt(__pyx_v_k, 0, sizeof(long), PyInt_FromLong); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 403; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_1);
    __pyx_t_4 = PyObject_RichCompare(__pyx_1, __pyx_kp_8, Py_NE); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 403; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_4);
    __Pyx_DECREF(__pyx_1); __pyx_1 = 0;
    __pyx_t_1 = __Pyx_PyObject_IsTrue(__pyx_t_4); if (unlikely(__pyx_t_1 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 403; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
    if (__pyx_t_1) {

      /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":404
 *         for k, v in kwargs.iteritems():
 *             if k[0] != '-':
 *                 k = '-' + k             # <<<<<<<<<<<<<<
 *             self.argv[i] = sb.ckd_salloc(k)
 *             self.argv[i+1] = sb.ckd_salloc(v)
 */
      __pyx_t_4 = PyNumber_Add(__pyx_kp_9, __pyx_v_k); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 404; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_4);
      __Pyx_DECREF(__pyx_v_k);
      __pyx_v_k = __pyx_t_4;
      __pyx_t_4 = 0;
      goto __pyx_L8;
    }
    __pyx_L8:;

    /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":405
 *             if k[0] != '-':
 *                 k = '-' + k
 *             self.argv[i] = sb.ckd_salloc(k)             # <<<<<<<<<<<<<<
 *             self.argv[i+1] = sb.ckd_salloc(v)
 *             i = i + 2
 */
    __pyx_t_5 = __Pyx_PyBytes_AsString(__pyx_v_k); if (unlikely((!__pyx_t_5) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 405; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    (((struct __pyx_obj_12pocketsphinx_Decoder *)__pyx_v_self)->argv[__pyx_v_i]) = ckd_salloc(__pyx_t_5);

    /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":406
 *                 k = '-' + k
 *             self.argv[i] = sb.ckd_salloc(k)
 *             self.argv[i+1] = sb.ckd_salloc(v)             # <<<<<<<<<<<<<<
 *             i = i + 2
 *         config = sb.cmd_ln_parse_r(NULL, ps_args(), self.argc, self.argv, 0)
 */
    __pyx_t_5 = __Pyx_PyBytes_AsString(__pyx_v_v); if (unlikely((!__pyx_t_5) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 406; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    (((struct __pyx_obj_12pocketsphinx_Decoder *)__pyx_v_self)->argv[(__pyx_v_i + 1)]) = ckd_salloc(__pyx_t_5);

    /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":407
 *             self.argv[i] = sb.ckd_salloc(k)
 *             self.argv[i+1] = sb.ckd_salloc(v)
 *             i = i + 2             # <<<<<<<<<<<<<<
 *         config = sb.cmd_ln_parse_r(NULL, ps_args(), self.argc, self.argv, 0)
 *         if config == NULL:
 */
    __pyx_v_i = (__pyx_v_i + 2);
  }
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":408
 *             self.argv[i+1] = sb.ckd_salloc(v)
 *             i = i + 2
 *         config = sb.cmd_ln_parse_r(NULL, ps_args(), self.argc, self.argv, 0)             # <<<<<<<<<<<<<<
 *         if config == NULL:
 *             raise RuntimeError, "Failed to parse argument list"
 */
  __pyx_v_config = cmd_ln_parse_r(NULL, ps_args(), ((struct __pyx_obj_12pocketsphinx_Decoder *)__pyx_v_self)->argc, ((struct __pyx_obj_12pocketsphinx_Decoder *)__pyx_v_self)->argv, 0);

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":409
 *             i = i + 2
 *         config = sb.cmd_ln_parse_r(NULL, ps_args(), self.argc, self.argv, 0)
 *         if config == NULL:             # <<<<<<<<<<<<<<
 *             raise RuntimeError, "Failed to parse argument list"
 *         self.ps = ps_init(config)
 */
  __pyx_t_1 = (__pyx_v_config == NULL);
  if (__pyx_t_1) {

    /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":410
 *         config = sb.cmd_ln_parse_r(NULL, ps_args(), self.argc, self.argv, 0)
 *         if config == NULL:
 *             raise RuntimeError, "Failed to parse argument list"             # <<<<<<<<<<<<<<
 *         self.ps = ps_init(config)
 *         if self.ps == NULL:
 */
    __Pyx_Raise(__pyx_builtin_RuntimeError, __pyx_kp_10, 0);
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 410; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    goto __pyx_L9;
  }
  __pyx_L9:;

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":411
 *         if config == NULL:
 *             raise RuntimeError, "Failed to parse argument list"
 *         self.ps = ps_init(config)             # <<<<<<<<<<<<<<
 *         if self.ps == NULL:
 *             raise RuntimeError, "Failed to initialize PocketSphinx"
 */
  ((struct __pyx_obj_12pocketsphinx_Decoder *)__pyx_v_self)->ps = ps_init(__pyx_v_config);

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":412
 *             raise RuntimeError, "Failed to parse argument list"
 *         self.ps = ps_init(config)
 *         if self.ps == NULL:             # <<<<<<<<<<<<<<
 *             raise RuntimeError, "Failed to initialize PocketSphinx"
 * 
 */
  __pyx_t_1 = (((struct __pyx_obj_12pocketsphinx_Decoder *)__pyx_v_self)->ps == NULL);
  if (__pyx_t_1) {

    /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":413
 *         self.ps = ps_init(config)
 *         if self.ps == NULL:
 *             raise RuntimeError, "Failed to initialize PocketSphinx"             # <<<<<<<<<<<<<<
 * 
 *     cdef set_boxed(Decoder self, box):
 */
    __Pyx_Raise(__pyx_builtin_RuntimeError, __pyx_kp_11, 0);
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 413; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    goto __pyx_L10;
  }
  __pyx_L10:;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_1);
  __Pyx_XDECREF(__pyx_2);
  __Pyx_XDECREF(__pyx_3);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_4);
  __Pyx_AddTraceback("pocketsphinx.Decoder.__init__");
  __pyx_r = -1;
  __pyx_L0:;
  __Pyx_DECREF(__pyx_v_kwargs);
  __Pyx_DECREF(__pyx_v_k);
  __Pyx_DECREF(__pyx_v_v);
  __Pyx_FinishRefcountContext();
  return __pyx_r;
}

/* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":415
 *             raise RuntimeError, "Failed to initialize PocketSphinx"
 * 
 *     cdef set_boxed(Decoder self, box):             # <<<<<<<<<<<<<<
 *         cdef ps_decoder_t *ps
 *         ps = <ps_decoder_t *>(<PyGBoxed *>box).boxed
 */

static  PyObject *__pyx_f_12pocketsphinx_7Decoder_set_boxed(struct __pyx_obj_12pocketsphinx_Decoder *__pyx_v_self, PyObject *__pyx_v_box) {
  ps_decoder_t *__pyx_v_ps;
  PyObject *__pyx_r = NULL;
  __Pyx_SetupRefcountContext("set_boxed");

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":417
 *     cdef set_boxed(Decoder self, box):
 *         cdef ps_decoder_t *ps
 *         ps = <ps_decoder_t *>(<PyGBoxed *>box).boxed             # <<<<<<<<<<<<<<
 *         ps_retain(ps)
 *         ps_free(self.ps)
 */
  __pyx_v_ps = ((ps_decoder_t *)((PyGBoxed *)__pyx_v_box)->boxed);

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":418
 *         cdef ps_decoder_t *ps
 *         ps = <ps_decoder_t *>(<PyGBoxed *>box).boxed
 *         ps_retain(ps)             # <<<<<<<<<<<<<<
 *         ps_free(self.ps)
 *         self.ps = ps
 */
  ps_retain(__pyx_v_ps);

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":419
 *         ps = <ps_decoder_t *>(<PyGBoxed *>box).boxed
 *         ps_retain(ps)
 *         ps_free(self.ps)             # <<<<<<<<<<<<<<
 *         self.ps = ps
 * 
 */
  ps_free(__pyx_v_self->ps);

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":420
 *         ps_retain(ps)
 *         ps_free(self.ps)
 *         self.ps = ps             # <<<<<<<<<<<<<<
 * 
 *     def __dealloc__(self):
 */
  __pyx_v_self->ps = __pyx_v_ps;

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_FinishRefcountContext();
  return __pyx_r;
}

/* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":422
 *         self.ps = ps
 * 
 *     def __dealloc__(self):             # <<<<<<<<<<<<<<
 *         ps_free(self.ps)
 *         for i from 0 <= i < self.argc:
 */

static void __pyx_pf_12pocketsphinx_7Decoder___dealloc__(PyObject *__pyx_v_self); /*proto*/
static void __pyx_pf_12pocketsphinx_7Decoder___dealloc__(PyObject *__pyx_v_self) {
  PyObject *__pyx_v_i;
  long __pyx_1;
  int __pyx_t_1;
  PyObject *__pyx_t_2 = NULL;
  Py_ssize_t __pyx_t_3;
  __Pyx_SetupRefcountContext("__dealloc__");
  __pyx_v_i = Py_None; __Pyx_INCREF(Py_None);

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":423
 * 
 *     def __dealloc__(self):
 *         ps_free(self.ps)             # <<<<<<<<<<<<<<
 *         for i from 0 <= i < self.argc:
 *             sb.ckd_free(self.argv[i])
 */
  ps_free(((struct __pyx_obj_12pocketsphinx_Decoder *)__pyx_v_self)->ps);

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":424
 *     def __dealloc__(self):
 *         ps_free(self.ps)
 *         for i from 0 <= i < self.argc:             # <<<<<<<<<<<<<<
 *             sb.ckd_free(self.argv[i])
 *         sb.ckd_free(self.argv)
 */
  __pyx_t_1 = ((struct __pyx_obj_12pocketsphinx_Decoder *)__pyx_v_self)->argc;
  for (__pyx_1 = 0; __pyx_1 < __pyx_t_1; __pyx_1++) {
    __pyx_t_2 = PyInt_FromLong(__pyx_1); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 424; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_2);
    __Pyx_DECREF(__pyx_v_i);
    __pyx_v_i = __pyx_t_2;
    __pyx_t_2 = 0;

    /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":425
 *         ps_free(self.ps)
 *         for i from 0 <= i < self.argc:
 *             sb.ckd_free(self.argv[i])             # <<<<<<<<<<<<<<
 *         sb.ckd_free(self.argv)
 *         self.argv = NULL
 */
    __pyx_t_3 = __Pyx_PyIndex_AsSsize_t(__pyx_v_i); if (unlikely((__pyx_t_3 == (Py_ssize_t)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 425; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    ckd_free((((struct __pyx_obj_12pocketsphinx_Decoder *)__pyx_v_self)->argv[__pyx_t_3]));
    __pyx_1 = __Pyx_PyInt_AsLong(__pyx_v_i); if (unlikely((__pyx_1 == (long)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 424; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  }

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":424
 *     def __dealloc__(self):
 *         ps_free(self.ps)
 *         for i from 0 <= i < self.argc:             # <<<<<<<<<<<<<<
 *             sb.ckd_free(self.argv[i])
 *         sb.ckd_free(self.argv)
 */
  __pyx_t_2 = PyInt_FromLong(__pyx_1); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 424; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(__pyx_v_i);
  __pyx_v_i = __pyx_t_2;
  __pyx_t_2 = 0;

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":426
 *         for i from 0 <= i < self.argc:
 *             sb.ckd_free(self.argv[i])
 *         sb.ckd_free(self.argv)             # <<<<<<<<<<<<<<
 *         self.argv = NULL
 *         self.argc = 0
 */
  ckd_free(((struct __pyx_obj_12pocketsphinx_Decoder *)__pyx_v_self)->argv);

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":427
 *             sb.ckd_free(self.argv[i])
 *         sb.ckd_free(self.argv)
 *         self.argv = NULL             # <<<<<<<<<<<<<<
 *         self.argc = 0
 * 
 */
  ((struct __pyx_obj_12pocketsphinx_Decoder *)__pyx_v_self)->argv = NULL;

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":428
 *         sb.ckd_free(self.argv)
 *         self.argv = NULL
 *         self.argc = 0             # <<<<<<<<<<<<<<
 * 
 *     def decode_raw(self, fh, uttid=None, maxsamps=-1):
 */
  ((struct __pyx_obj_12pocketsphinx_Decoder *)__pyx_v_self)->argc = 0;

  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_AddTraceback("pocketsphinx.Decoder.__dealloc__");
  __pyx_L0:;
  __Pyx_DECREF(__pyx_v_i);
  __Pyx_FinishRefcountContext();
}

/* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":430
 *         self.argc = 0
 * 
 *     def decode_raw(self, fh, uttid=None, maxsamps=-1):             # <<<<<<<<<<<<<<
 *         """
 *         Decode raw audio from a file.
 */

static PyObject *__pyx_pf_12pocketsphinx_7Decoder_decode_raw(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_12pocketsphinx_7Decoder_decode_raw[] = "\n        Decode raw audio from a file.\n\n        @param fh: Filehandle to read audio from.\n        @type fh: file\n        @param uttid: Identifier to give to this utterance.\n        @type uttid: str\n        @param maxsamps: Maximum number of samples to read.  If not\n        specified or -1, the rest of the file will be read.\n        @type maxsamps: int\n        ";
static PyObject *__pyx_pf_12pocketsphinx_7Decoder_decode_raw(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_fh = 0;
  PyObject *__pyx_v_uttid = 0;
  PyObject *__pyx_v_maxsamps = 0;
  FILE *__pyx_v_cfh;
  char *__pyx_v_cuttid;
  PyObject *__pyx_r = NULL;
  PyObject *__pyx_t_1 = NULL;
  int __pyx_t_2;
  char *__pyx_t_3;
  long __pyx_t_4;
  static PyObject **__pyx_pyargnames[] = {&__pyx_kp_fh,&__pyx_kp_uttid,&__pyx_kp_maxsamps,0};
  __Pyx_SetupRefcountContext("decode_raw");
  if (unlikely(__pyx_kwds)) {
    Py_ssize_t kw_args = PyDict_Size(__pyx_kwds);
    PyObject* values[3] = {0,0,0};
    values[1] = Py_None;
    values[2] = __pyx_int_neg_1;
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
      case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
      case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
      case  0: break;
      default: goto __pyx_L5_argtuple_error;
    }
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  0:
      values[0] = PyDict_GetItem(__pyx_kwds, __pyx_kp_fh);
      if (likely(values[0])) kw_args--;
      else goto __pyx_L5_argtuple_error;
      case  1:
      if (kw_args > 1) {
        PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_kp_uttid);
        if (unlikely(value)) { values[1] = value; kw_args--; }
      }
      case  2:
      if (kw_args > 1) {
        PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_kp_maxsamps);
        if (unlikely(value)) { values[2] = value; kw_args--; }
      }
    }
    if (unlikely(kw_args > 0)) {
      if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, PyTuple_GET_SIZE(__pyx_args), "decode_raw") < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 430; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
    }
    __pyx_v_fh = values[0];
    __pyx_v_uttid = values[1];
    __pyx_v_maxsamps = values[2];
  } else {
    __pyx_v_uttid = Py_None;
    __pyx_v_maxsamps = __pyx_int_neg_1;
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  3: __pyx_v_maxsamps = PyTuple_GET_ITEM(__pyx_args, 2);
      case  2: __pyx_v_uttid = PyTuple_GET_ITEM(__pyx_args, 1);
      case  1: __pyx_v_fh = PyTuple_GET_ITEM(__pyx_args, 0);
      break;
      default: goto __pyx_L5_argtuple_error;
    }
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("decode_raw", 0, 1, 3, PyTuple_GET_SIZE(__pyx_args)); {__pyx_filename = __pyx_f[0]; __pyx_lineno = 430; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
  __pyx_L3_error:;
  __Pyx_AddTraceback("pocketsphinx.Decoder.decode_raw");
  return NULL;
  __pyx_L4_argument_unpacking_done:;

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":446
 *         cdef char *cuttid
 * 
 *         cfh = PyFile_AsFile(fh)             # <<<<<<<<<<<<<<
 *         if uttid == None:
 *             cuttid = NULL
 */
  __pyx_v_cfh = PyFile_AsFile(__pyx_v_fh);

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":447
 * 
 *         cfh = PyFile_AsFile(fh)
 *         if uttid == None:             # <<<<<<<<<<<<<<
 *             cuttid = NULL
 *         else:
 */
  __pyx_t_1 = PyObject_RichCompare(__pyx_v_uttid, Py_None, Py_EQ); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 447; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_2 = __Pyx_PyObject_IsTrue(__pyx_t_1); if (unlikely(__pyx_t_2 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 447; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  if (__pyx_t_2) {

    /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":448
 *         cfh = PyFile_AsFile(fh)
 *         if uttid == None:
 *             cuttid = NULL             # <<<<<<<<<<<<<<
 *         else:
 *             cuttid = uttid
 */
    __pyx_v_cuttid = NULL;
    goto __pyx_L6;
  }
  /*else*/ {

    /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":450
 *             cuttid = NULL
 *         else:
 *             cuttid = uttid             # <<<<<<<<<<<<<<
 *         return ps_decode_raw(self.ps, cfh, cuttid, maxsamps)
 * 
 */
    __pyx_t_3 = __Pyx_PyBytes_AsString(__pyx_v_uttid); if (unlikely((!__pyx_t_3) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 450; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_v_cuttid = __pyx_t_3;
  }
  __pyx_L6:;

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":451
 *         else:
 *             cuttid = uttid
 *         return ps_decode_raw(self.ps, cfh, cuttid, maxsamps)             # <<<<<<<<<<<<<<
 * 
 *     def start_utt(self, uttid=None):
 */
  __Pyx_XDECREF(__pyx_r);
  __pyx_t_4 = __Pyx_PyInt_AsLong(__pyx_v_maxsamps); if (unlikely((__pyx_t_4 == (long)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 451; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_t_1 = PyInt_FromLong(ps_decode_raw(((struct __pyx_obj_12pocketsphinx_Decoder *)__pyx_v_self)->ps, __pyx_v_cfh, __pyx_v_cuttid, __pyx_t_4)); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 451; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_AddTraceback("pocketsphinx.Decoder.decode_raw");
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_FinishRefcountContext();
  return __pyx_r;
}

/* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":453
 *         return ps_decode_raw(self.ps, cfh, cuttid, maxsamps)
 * 
 *     def start_utt(self, uttid=None):             # <<<<<<<<<<<<<<
 *         """
 *         Prepare the decoder to recognize an utterance.
 */

static PyObject *__pyx_pf_12pocketsphinx_7Decoder_start_utt(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_12pocketsphinx_7Decoder_start_utt[] = "\n        Prepare the decoder to recognize an utterance.\n\n        @param uttid: Identifier to give to this utterance.\n        @type uttid: str\n        ";
static PyObject *__pyx_pf_12pocketsphinx_7Decoder_start_utt(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_uttid = 0;
  char *__pyx_v_cuttid;
  PyObject *__pyx_r = NULL;
  PyObject *__pyx_t_1 = NULL;
  int __pyx_t_2;
  char *__pyx_t_3;
  static PyObject **__pyx_pyargnames[] = {&__pyx_kp_uttid,0};
  __Pyx_SetupRefcountContext("start_utt");
  if (unlikely(__pyx_kwds)) {
    Py_ssize_t kw_args = PyDict_Size(__pyx_kwds);
    PyObject* values[1] = {0};
    values[0] = Py_None;
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
      case  0: break;
      default: goto __pyx_L5_argtuple_error;
    }
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  0:
      if (kw_args > 1) {
        PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_kp_uttid);
        if (unlikely(value)) { values[0] = value; kw_args--; }
      }
    }
    if (unlikely(kw_args > 0)) {
      if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, PyTuple_GET_SIZE(__pyx_args), "start_utt") < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 453; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
    }
    __pyx_v_uttid = values[0];
  } else {
    __pyx_v_uttid = Py_None;
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  1: __pyx_v_uttid = PyTuple_GET_ITEM(__pyx_args, 0);
      case  0: break;
      default: goto __pyx_L5_argtuple_error;
    }
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("start_utt", 0, 0, 1, PyTuple_GET_SIZE(__pyx_args)); {__pyx_filename = __pyx_f[0]; __pyx_lineno = 453; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
  __pyx_L3_error:;
  __Pyx_AddTraceback("pocketsphinx.Decoder.start_utt");
  return NULL;
  __pyx_L4_argument_unpacking_done:;

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":462
 *         cdef char *cuttid
 * 
 *         if uttid == None:             # <<<<<<<<<<<<<<
 *             cuttid = NULL
 *         else:
 */
  __pyx_t_1 = PyObject_RichCompare(__pyx_v_uttid, Py_None, Py_EQ); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 462; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_2 = __Pyx_PyObject_IsTrue(__pyx_t_1); if (unlikely(__pyx_t_2 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 462; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  if (__pyx_t_2) {

    /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":463
 * 
 *         if uttid == None:
 *             cuttid = NULL             # <<<<<<<<<<<<<<
 *         else:
 *             cuttid = uttid
 */
    __pyx_v_cuttid = NULL;
    goto __pyx_L6;
  }
  /*else*/ {

    /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":465
 *             cuttid = NULL
 *         else:
 *             cuttid = uttid             # <<<<<<<<<<<<<<
 *         if ps_start_utt(self.ps, cuttid) < 0:
 *             raise RuntimeError, "Failed to start utterance processing"
 */
    __pyx_t_3 = __Pyx_PyBytes_AsString(__pyx_v_uttid); if (unlikely((!__pyx_t_3) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 465; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_v_cuttid = __pyx_t_3;
  }
  __pyx_L6:;

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":466
 *         else:
 *             cuttid = uttid
 *         if ps_start_utt(self.ps, cuttid) < 0:             # <<<<<<<<<<<<<<
 *             raise RuntimeError, "Failed to start utterance processing"
 * 
 */
  __pyx_t_2 = (ps_start_utt(((struct __pyx_obj_12pocketsphinx_Decoder *)__pyx_v_self)->ps, __pyx_v_cuttid) < 0);
  if (__pyx_t_2) {

    /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":467
 *             cuttid = uttid
 *         if ps_start_utt(self.ps, cuttid) < 0:
 *             raise RuntimeError, "Failed to start utterance processing"             # <<<<<<<<<<<<<<
 * 
 *     def process_raw(self, data, no_search=False, full_utt=False):
 */
    __Pyx_Raise(__pyx_builtin_RuntimeError, __pyx_kp_12, 0);
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 467; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    goto __pyx_L7;
  }
  __pyx_L7:;

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_AddTraceback("pocketsphinx.Decoder.start_utt");
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_FinishRefcountContext();
  return __pyx_r;
}

/* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":469
 *             raise RuntimeError, "Failed to start utterance processing"
 * 
 *     def process_raw(self, data, no_search=False, full_utt=False):             # <<<<<<<<<<<<<<
 *         """
 *         Process (decode) some audio data.
 */

static PyObject *__pyx_pf_12pocketsphinx_7Decoder_process_raw(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_12pocketsphinx_7Decoder_process_raw[] = "\n        Process (decode) some audio data.\n\n        @param data: Audio data to process.  This is packed binary\n        data, which consists of single-channel, 16-bit PCM audio, at\n        the sample rate specified when the decoder was initialized.\n        @type data: str\n        @param no_search: Buffer the data without actually processing it (default is to process the\n        data as it is received).\n        @type no_search: bool\n        @param full_utt: This block of data is an entire utterance.\n        Processing an entire utterance at once may improve\n        recognition, particularly for the first utterance passed to\n        the decoder.\n        @type full_utt: bool\n        ";
static PyObject *__pyx_pf_12pocketsphinx_7Decoder_process_raw(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_data = 0;
  PyObject *__pyx_v_no_search = 0;
  PyObject *__pyx_v_full_utt = 0;
  Py_ssize_t __pyx_v_len;
  char *__pyx_v_cdata;
  PyObject *__pyx_r = NULL;
  int __pyx_t_1;
  int __pyx_t_2;
  int __pyx_t_3;
  PyObject *__pyx_t_4 = NULL;
  PyObject *__pyx_t_5 = NULL;
  static PyObject **__pyx_pyargnames[] = {&__pyx_kp_data,&__pyx_kp_no_search,&__pyx_kp_full_utt,0};
  __Pyx_SetupRefcountContext("process_raw");
  if (unlikely(__pyx_kwds)) {
    Py_ssize_t kw_args = PyDict_Size(__pyx_kwds);
    PyObject* values[3] = {0,0,0};
    values[1] = __pyx_k_1;
    values[2] = __pyx_k_2;
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
      case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
      case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
      case  0: break;
      default: goto __pyx_L5_argtuple_error;
    }
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  0:
      values[0] = PyDict_GetItem(__pyx_kwds, __pyx_kp_data);
      if (likely(values[0])) kw_args--;
      else goto __pyx_L5_argtuple_error;
      case  1:
      if (kw_args > 1) {
        PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_kp_no_search);
        if (unlikely(value)) { values[1] = value; kw_args--; }
      }
      case  2:
      if (kw_args > 1) {
        PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_kp_full_utt);
        if (unlikely(value)) { values[2] = value; kw_args--; }
      }
    }
    if (unlikely(kw_args > 0)) {
      if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, PyTuple_GET_SIZE(__pyx_args), "process_raw") < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 469; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
    }
    __pyx_v_data = values[0];
    __pyx_v_no_search = values[1];
    __pyx_v_full_utt = values[2];
  } else {
    __pyx_v_no_search = __pyx_k_1;
    __pyx_v_full_utt = __pyx_k_2;
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  3: __pyx_v_full_utt = PyTuple_GET_ITEM(__pyx_args, 2);
      case  2: __pyx_v_no_search = PyTuple_GET_ITEM(__pyx_args, 1);
      case  1: __pyx_v_data = PyTuple_GET_ITEM(__pyx_args, 0);
      break;
      default: goto __pyx_L5_argtuple_error;
    }
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("process_raw", 0, 1, 3, PyTuple_GET_SIZE(__pyx_args)); {__pyx_filename = __pyx_f[0]; __pyx_lineno = 469; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
  __pyx_L3_error:;
  __Pyx_AddTraceback("pocketsphinx.Decoder.process_raw");
  return NULL;
  __pyx_L4_argument_unpacking_done:;

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":489
 *         cdef char *cdata
 * 
 *         PyString_AsStringAndSize(data, &cdata, &len)             # <<<<<<<<<<<<<<
 *         if ps_process_raw(self.ps, cdata, len, no_search, full_utt) < 0:
 *             raise RuntimeError, "Failed to process %d samples of audio data" % len
 */
  __pyx_t_1 = PyString_AsStringAndSize(__pyx_v_data, (&__pyx_v_cdata), (&__pyx_v_len)); if (unlikely(__pyx_t_1 == -1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 489; __pyx_clineno = __LINE__; goto __pyx_L1_error;}

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":490
 * 
 *         PyString_AsStringAndSize(data, &cdata, &len)
 *         if ps_process_raw(self.ps, cdata, len, no_search, full_utt) < 0:             # <<<<<<<<<<<<<<
 *             raise RuntimeError, "Failed to process %d samples of audio data" % len
 * 
 */
  __pyx_t_1 = __Pyx_PyInt_AsInt(__pyx_v_no_search); if (unlikely((__pyx_t_1 == (int)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 490; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_t_2 = __Pyx_PyInt_AsInt(__pyx_v_full_utt); if (unlikely((__pyx_t_2 == (int)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 490; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_t_3 = (ps_process_raw(((struct __pyx_obj_12pocketsphinx_Decoder *)__pyx_v_self)->ps, __pyx_v_cdata, __pyx_v_len, __pyx_t_1, __pyx_t_2) < 0);
  if (__pyx_t_3) {

    /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":491
 *         PyString_AsStringAndSize(data, &cdata, &len)
 *         if ps_process_raw(self.ps, cdata, len, no_search, full_utt) < 0:
 *             raise RuntimeError, "Failed to process %d samples of audio data" % len             # <<<<<<<<<<<<<<
 * 
 *     def ps_end_utt(self):
 */
    __pyx_t_4 = PyInt_FromSsize_t(__pyx_v_len); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 491; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_4);
    __pyx_t_5 = PyNumber_Remainder(__pyx_kp_13, __pyx_t_4); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 491; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_5);
    __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
    __Pyx_Raise(__pyx_builtin_RuntimeError, __pyx_t_5, 0);
    __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 491; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    goto __pyx_L6;
  }
  __pyx_L6:;

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_4);
  __Pyx_XDECREF(__pyx_t_5);
  __Pyx_AddTraceback("pocketsphinx.Decoder.process_raw");
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_FinishRefcountContext();
  return __pyx_r;
}

/* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":493
 *             raise RuntimeError, "Failed to process %d samples of audio data" % len
 * 
 *     def ps_end_utt(self):             # <<<<<<<<<<<<<<
 *         """
 *         Finish processing an utterance.
 */

static PyObject *__pyx_pf_12pocketsphinx_7Decoder_ps_end_utt(PyObject *__pyx_v_self, PyObject *unused); /*proto*/
static char __pyx_doc_12pocketsphinx_7Decoder_ps_end_utt[] = "\n        Finish processing an utterance.\n        ";
static PyObject *__pyx_pf_12pocketsphinx_7Decoder_ps_end_utt(PyObject *__pyx_v_self, PyObject *unused) {
  PyObject *__pyx_r = NULL;
  int __pyx_t_1;
  __Pyx_SetupRefcountContext("ps_end_utt");

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":497
 *         Finish processing an utterance.
 *         """
 *         if ps_end_utt(self.ps) < 0:             # <<<<<<<<<<<<<<
 *             raise RuntimeError, "Failed to stop utterance processing"
 * 
 */
  __pyx_t_1 = (ps_end_utt(((struct __pyx_obj_12pocketsphinx_Decoder *)__pyx_v_self)->ps) < 0);
  if (__pyx_t_1) {

    /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":498
 *         """
 *         if ps_end_utt(self.ps) < 0:
 *             raise RuntimeError, "Failed to stop utterance processing"             # <<<<<<<<<<<<<<
 * 
 *     def get_hyp(self):
 */
    __Pyx_Raise(__pyx_builtin_RuntimeError, __pyx_kp_14, 0);
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 498; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    goto __pyx_L5;
  }
  __pyx_L5:;

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_AddTraceback("pocketsphinx.Decoder.ps_end_utt");
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_FinishRefcountContext();
  return __pyx_r;
}

/* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":500
 *             raise RuntimeError, "Failed to stop utterance processing"
 * 
 *     def get_hyp(self):             # <<<<<<<<<<<<<<
 *         """
 *         Get a hypothesis string.
 */

static PyObject *__pyx_pf_12pocketsphinx_7Decoder_get_hyp(PyObject *__pyx_v_self, PyObject *unused); /*proto*/
static char __pyx_doc_12pocketsphinx_7Decoder_get_hyp[] = "\n        Get a hypothesis string.\n\n        This function returns the text which has been recognized so\n        far, or, if C{ps_end_utt()} has been called, the final\n        recognition result.\n\n        @return: Hypothesis string, utterance ID, recognition score\n        @rtype: (str, str, int)\n        ";
static PyObject *__pyx_pf_12pocketsphinx_7Decoder_get_hyp(PyObject *__pyx_v_self, PyObject *unused) {
  char *__pyx_v_hyp;
  char *__pyx_v_uttid;
  int __pyx_v_score;
  PyObject *__pyx_r = NULL;
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  PyObject *__pyx_t_3 = NULL;
  PyObject *__pyx_t_4 = NULL;
  __Pyx_SetupRefcountContext("get_hyp");

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":514
 *         cdef int score
 * 
 *         hyp = ps_get_hyp(self.ps, &score, &uttid)             # <<<<<<<<<<<<<<
 *         return hyp, uttid, score
 * 
 */
  __pyx_v_hyp = ps_get_hyp(((struct __pyx_obj_12pocketsphinx_Decoder *)__pyx_v_self)->ps, (&__pyx_v_score), (&__pyx_v_uttid));

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":515
 * 
 *         hyp = ps_get_hyp(self.ps, &score, &uttid)
 *         return hyp, uttid, score             # <<<<<<<<<<<<<<
 * 
 *     def get_lattice(self):
 */
  __Pyx_XDECREF(__pyx_r);
  __pyx_t_1 = __Pyx_PyBytes_FromString(__pyx_v_hyp); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 515; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_2 = __Pyx_PyBytes_FromString(__pyx_v_uttid); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 515; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __pyx_t_3 = PyInt_FromLong(__pyx_v_score); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 515; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_3);
  __pyx_t_4 = PyTuple_New(3); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 515; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(((PyObject *)__pyx_t_4));
  PyTuple_SET_ITEM(__pyx_t_4, 0, __pyx_t_1);
  __Pyx_GIVEREF(__pyx_t_1);
  PyTuple_SET_ITEM(__pyx_t_4, 1, __pyx_t_2);
  __Pyx_GIVEREF(__pyx_t_2);
  PyTuple_SET_ITEM(__pyx_t_4, 2, __pyx_t_3);
  __Pyx_GIVEREF(__pyx_t_3);
  __pyx_t_1 = 0;
  __pyx_t_2 = 0;
  __pyx_t_3 = 0;
  __pyx_r = ((PyObject *)__pyx_t_4);
  __pyx_t_4 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_XDECREF(__pyx_t_4);
  __Pyx_AddTraceback("pocketsphinx.Decoder.get_hyp");
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_FinishRefcountContext();
  return __pyx_r;
}

/* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":517
 *         return hyp, uttid, score
 * 
 *     def get_lattice(self):             # <<<<<<<<<<<<<<
 *         """
 *         Get the word lattice.
 */

static PyObject *__pyx_pf_12pocketsphinx_7Decoder_get_lattice(PyObject *__pyx_v_self, PyObject *unused); /*proto*/
static char __pyx_doc_12pocketsphinx_7Decoder_get_lattice[] = "\n        Get the word lattice.\n\n        This function returns all hypotheses which have been\n        considered so far, in the form of a word lattice.\n\n        @return: Word lattice\n        @rtype: Lattice\n        ";
static PyObject *__pyx_pf_12pocketsphinx_7Decoder_get_lattice(PyObject *__pyx_v_self, PyObject *unused) {
  ps_lattice_t *__pyx_v_dag;
  struct __pyx_obj_12pocketsphinx_Lattice *__pyx_v_lat;
  PyObject *__pyx_r = NULL;
  int __pyx_t_1;
  PyObject *__pyx_t_2 = NULL;
  __Pyx_SetupRefcountContext("get_lattice");
  __pyx_v_lat = ((struct __pyx_obj_12pocketsphinx_Lattice *)Py_None); __Pyx_INCREF(Py_None);

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":530
 *         cdef Lattice lat
 * 
 *         dag = ps_get_lattice(self.ps)             # <<<<<<<<<<<<<<
 *         if dag == NULL:
 *             raise RuntimeError, "Failed to create word lattice"
 */
  __pyx_v_dag = ps_get_lattice(((struct __pyx_obj_12pocketsphinx_Decoder *)__pyx_v_self)->ps);

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":531
 * 
 *         dag = ps_get_lattice(self.ps)
 *         if dag == NULL:             # <<<<<<<<<<<<<<
 *             raise RuntimeError, "Failed to create word lattice"
 *         lat = Lattice()
 */
  __pyx_t_1 = (__pyx_v_dag == NULL);
  if (__pyx_t_1) {

    /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":532
 *         dag = ps_get_lattice(self.ps)
 *         if dag == NULL:
 *             raise RuntimeError, "Failed to create word lattice"             # <<<<<<<<<<<<<<
 *         lat = Lattice()
 *         lat.set_dag(dag)
 */
    __Pyx_Raise(__pyx_builtin_RuntimeError, __pyx_kp_15, 0);
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 532; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    goto __pyx_L5;
  }
  __pyx_L5:;

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":533
 *         if dag == NULL:
 *             raise RuntimeError, "Failed to create word lattice"
 *         lat = Lattice()             # <<<<<<<<<<<<<<
 *         lat.set_dag(dag)
 *         return lat
 */
  __pyx_t_2 = PyObject_Call(((PyObject *)((PyObject*)__pyx_ptype_12pocketsphinx_Lattice)), ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 533; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  if (!(__Pyx_TypeTest(__pyx_t_2, __pyx_ptype_12pocketsphinx_Lattice))) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 533; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(((PyObject *)__pyx_v_lat));
  __pyx_v_lat = ((struct __pyx_obj_12pocketsphinx_Lattice *)__pyx_t_2);
  __pyx_t_2 = 0;

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":534
 *             raise RuntimeError, "Failed to create word lattice"
 *         lat = Lattice()
 *         lat.set_dag(dag)             # <<<<<<<<<<<<<<
 *         return lat
 * 
 */
  __pyx_t_2 = ((struct __pyx_vtabstruct_12pocketsphinx_Lattice *)__pyx_v_lat->__pyx_vtab)->set_dag(__pyx_v_lat, __pyx_v_dag); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 534; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":535
 *         lat = Lattice()
 *         lat.set_dag(dag)
 *         return lat             # <<<<<<<<<<<<<<
 * 
 *     def get_lmset(self):
 */
  __Pyx_XDECREF(__pyx_r);
  __Pyx_INCREF(((PyObject *)__pyx_v_lat));
  __pyx_r = ((PyObject *)__pyx_v_lat);
  goto __pyx_L0;

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_AddTraceback("pocketsphinx.Decoder.get_lattice");
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_DECREF((PyObject *)__pyx_v_lat);
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_FinishRefcountContext();
  return __pyx_r;
}

/* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":537
 *         return lat
 * 
 *     def get_lmset(self):             # <<<<<<<<<<<<<<
 *         """
 *         Get the language model set.
 */

static PyObject *__pyx_pf_12pocketsphinx_7Decoder_get_lmset(PyObject *__pyx_v_self, PyObject *unused); /*proto*/
static char __pyx_doc_12pocketsphinx_7Decoder_get_lmset[] = "\n        Get the language model set.\n\n        This function returns the language model set, which allows you\n        to obtain language model scores or switch language models.\n\n        @return: Language model set\n        @rtype: sphinxbase.NGramModel\n        ";
static PyObject *__pyx_pf_12pocketsphinx_7Decoder_get_lmset(PyObject *__pyx_v_self, PyObject *unused) {
  ngram_model_t *__pyx_v_clm;
  logmath_t *__pyx_v_lmath;
  cmd_ln_t *__pyx_v_config;
  struct __pyx_obj_10sphinxbase_NGramModel *__pyx_v_lm;
  PyObject *__pyx_r = NULL;
  PyObject *__pyx_t_1 = NULL;
  __Pyx_SetupRefcountContext("get_lmset");
  __pyx_v_lm = ((struct __pyx_obj_10sphinxbase_NGramModel *)Py_None); __Pyx_INCREF(Py_None);

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":553
 *         cdef int wip, uw
 * 
 *         clm = ps_get_lmset(self.ps)             # <<<<<<<<<<<<<<
 *         lm = NGramModel()
 *         lm.set_lm(clm)
 */
  __pyx_v_clm = ps_get_lmset(((struct __pyx_obj_12pocketsphinx_Decoder *)__pyx_v_self)->ps);

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":554
 * 
 *         clm = ps_get_lmset(self.ps)
 *         lm = NGramModel()             # <<<<<<<<<<<<<<
 *         lm.set_lm(clm)
 *         lmath = sb.logmath_retain(ps_get_logmath(self.ps))
 */
  __pyx_t_1 = PyObject_Call(((PyObject *)((PyObject*)__pyx_ptype_10sphinxbase_NGramModel)), ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 554; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  if (!(__Pyx_TypeTest(__pyx_t_1, __pyx_ptype_10sphinxbase_NGramModel))) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 554; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(((PyObject *)__pyx_v_lm));
  __pyx_v_lm = ((struct __pyx_obj_10sphinxbase_NGramModel *)__pyx_t_1);
  __pyx_t_1 = 0;

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":555
 *         clm = ps_get_lmset(self.ps)
 *         lm = NGramModel()
 *         lm.set_lm(clm)             # <<<<<<<<<<<<<<
 *         lmath = sb.logmath_retain(ps_get_logmath(self.ps))
 *         lm.set_lmath(lmath)
 */
  __pyx_t_1 = ((struct __pyx_vtabstruct_10sphinxbase_NGramModel *)__pyx_v_lm->__pyx_vtab)->set_lm(__pyx_v_lm, __pyx_v_clm); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 555; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":556
 *         lm = NGramModel()
 *         lm.set_lm(clm)
 *         lmath = sb.logmath_retain(ps_get_logmath(self.ps))             # <<<<<<<<<<<<<<
 *         lm.set_lmath(lmath)
 *         config = ps_get_config(self.ps)
 */
  __pyx_v_lmath = logmath_retain(ps_get_logmath(((struct __pyx_obj_12pocketsphinx_Decoder *)__pyx_v_self)->ps));

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":557
 *         lm.set_lm(clm)
 *         lmath = sb.logmath_retain(ps_get_logmath(self.ps))
 *         lm.set_lmath(lmath)             # <<<<<<<<<<<<<<
 *         config = ps_get_config(self.ps)
 *         # This is not necessarily true but it will have to do
 */
  __pyx_t_1 = ((struct __pyx_vtabstruct_10sphinxbase_NGramModel *)__pyx_v_lm->__pyx_vtab)->set_lmath(__pyx_v_lm, __pyx_v_lmath); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 557; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":558
 *         lmath = sb.logmath_retain(ps_get_logmath(self.ps))
 *         lm.set_lmath(lmath)
 *         config = ps_get_config(self.ps)             # <<<<<<<<<<<<<<
 *         # This is not necessarily true but it will have to do
 *         lm.lw = sb.cmd_ln_float32_r(config, "-lw")
 */
  __pyx_v_config = ps_get_config(((struct __pyx_obj_12pocketsphinx_Decoder *)__pyx_v_self)->ps);

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":560
 *         config = ps_get_config(self.ps)
 *         # This is not necessarily true but it will have to do
 *         lm.lw = sb.cmd_ln_float32_r(config, "-lw")             # <<<<<<<<<<<<<<
 *         lm.wip = sb.cmd_ln_float32_r(config, "-wip")
 *         lm.uw = sb.cmd_ln_float32_r(config, "-uw")
 */
  __pyx_v_lm->lw = cmd_ln_float32_r(__pyx_v_config, __pyx_k_16);

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":561
 *         # This is not necessarily true but it will have to do
 *         lm.lw = sb.cmd_ln_float32_r(config, "-lw")
 *         lm.wip = sb.cmd_ln_float32_r(config, "-wip")             # <<<<<<<<<<<<<<
 *         lm.uw = sb.cmd_ln_float32_r(config, "-uw")
 *         return lm
 */
  __pyx_v_lm->wip = cmd_ln_float32_r(__pyx_v_config, __pyx_k_17);

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":562
 *         lm.lw = sb.cmd_ln_float32_r(config, "-lw")
 *         lm.wip = sb.cmd_ln_float32_r(config, "-wip")
 *         lm.uw = sb.cmd_ln_float32_r(config, "-uw")             # <<<<<<<<<<<<<<
 *         return lm
 * 
 */
  __pyx_v_lm->uw = cmd_ln_float32_r(__pyx_v_config, __pyx_k_18);

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":563
 *         lm.wip = sb.cmd_ln_float32_r(config, "-wip")
 *         lm.uw = sb.cmd_ln_float32_r(config, "-uw")
 *         return lm             # <<<<<<<<<<<<<<
 * 
 *     def add_word(self, word, phones, update=True):
 */
  __Pyx_XDECREF(__pyx_r);
  __Pyx_INCREF(((PyObject *)__pyx_v_lm));
  __pyx_r = ((PyObject *)__pyx_v_lm);
  goto __pyx_L0;

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_AddTraceback("pocketsphinx.Decoder.get_lmset");
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_DECREF((PyObject *)__pyx_v_lm);
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_FinishRefcountContext();
  return __pyx_r;
}

/* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":565
 *         return lm
 * 
 *     def add_word(self, word, phones, update=True):             # <<<<<<<<<<<<<<
 *         """
 *         Add a word to the dictionary and current language model.
 */

static PyObject *__pyx_pf_12pocketsphinx_7Decoder_add_word(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_12pocketsphinx_7Decoder_add_word[] = "\n        Add a word to the dictionary and current language model.\n\n        @param word: Name of the word to add.\n        @type word: str\n        @param phones: Pronunciation of the word, a space-separated list of phones.\n        @type phones: str\n        @param update: Update the decoder to recognize this new word.\n        If adding a number of words at once you may wish to pass\n        C{False} here.\n        @type update: bool\n        ";
static PyObject *__pyx_pf_12pocketsphinx_7Decoder_add_word(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_word = 0;
  PyObject *__pyx_v_phones = 0;
  PyObject *__pyx_v_update = 0;
  PyObject *__pyx_r = NULL;
  char *__pyx_t_1;
  char *__pyx_t_2;
  int __pyx_t_3;
  PyObject *__pyx_t_4 = NULL;
  static PyObject **__pyx_pyargnames[] = {&__pyx_kp_word,&__pyx_kp_phones,&__pyx_kp_update,0};
  __Pyx_SetupRefcountContext("add_word");
  if (unlikely(__pyx_kwds)) {
    Py_ssize_t kw_args = PyDict_Size(__pyx_kwds);
    PyObject* values[3] = {0,0,0};
    values[2] = __pyx_k_3;
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
      case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
      case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
      case  0: break;
      default: goto __pyx_L5_argtuple_error;
    }
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  0:
      values[0] = PyDict_GetItem(__pyx_kwds, __pyx_kp_word);
      if (likely(values[0])) kw_args--;
      else goto __pyx_L5_argtuple_error;
      case  1:
      values[1] = PyDict_GetItem(__pyx_kwds, __pyx_kp_phones);
      if (likely(values[1])) kw_args--;
      else {
        __Pyx_RaiseArgtupleInvalid("add_word", 0, 2, 3, 1); {__pyx_filename = __pyx_f[0]; __pyx_lineno = 565; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
      }
      case  2:
      if (kw_args > 1) {
        PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_kp_update);
        if (unlikely(value)) { values[2] = value; kw_args--; }
      }
    }
    if (unlikely(kw_args > 0)) {
      if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, PyTuple_GET_SIZE(__pyx_args), "add_word") < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 565; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
    }
    __pyx_v_word = values[0];
    __pyx_v_phones = values[1];
    __pyx_v_update = values[2];
  } else {
    __pyx_v_update = __pyx_k_3;
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  3:
      __pyx_v_update = PyTuple_GET_ITEM(__pyx_args, 2);
      case  2:
      __pyx_v_phones = PyTuple_GET_ITEM(__pyx_args, 1);
      __pyx_v_word = PyTuple_GET_ITEM(__pyx_args, 0);
      break;
      default: goto __pyx_L5_argtuple_error;
    }
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("add_word", 0, 2, 3, PyTuple_GET_SIZE(__pyx_args)); {__pyx_filename = __pyx_f[0]; __pyx_lineno = 565; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
  __pyx_L3_error:;
  __Pyx_AddTraceback("pocketsphinx.Decoder.add_word");
  return NULL;
  __pyx_L4_argument_unpacking_done:;

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":578
 *         @type update: bool
 *         """
 *         return ps_add_word(self.ps, word, phones, update)             # <<<<<<<<<<<<<<
 * 
 *     def load_dict(self, dictfile, fdictfile=None, format=None):
 */
  __Pyx_XDECREF(__pyx_r);
  __pyx_t_1 = __Pyx_PyBytes_AsString(__pyx_v_word); if (unlikely((!__pyx_t_1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 578; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_t_2 = __Pyx_PyBytes_AsString(__pyx_v_phones); if (unlikely((!__pyx_t_2) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 578; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_t_3 = __Pyx_PyInt_AsInt(__pyx_v_update); if (unlikely((__pyx_t_3 == (int)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 578; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_t_4 = PyInt_FromLong(ps_add_word(((struct __pyx_obj_12pocketsphinx_Decoder *)__pyx_v_self)->ps, __pyx_t_1, __pyx_t_2, __pyx_t_3)); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 578; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_4);
  __pyx_r = __pyx_t_4;
  __pyx_t_4 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_4);
  __Pyx_AddTraceback("pocketsphinx.Decoder.add_word");
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_FinishRefcountContext();
  return __pyx_r;
}

/* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":580
 *         return ps_add_word(self.ps, word, phones, update)
 * 
 *     def load_dict(self, dictfile, fdictfile=None, format=None):             # <<<<<<<<<<<<<<
 *         """
 *         Load a new pronunciation dictionary.
 */

static PyObject *__pyx_pf_12pocketsphinx_7Decoder_load_dict(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_12pocketsphinx_7Decoder_load_dict[] = "\n        Load a new pronunciation dictionary.\n\n        @param dictfile: Dictionary filename.\n        @type dictfile: str\n        @param fdictfile: Filler dictionary filename.\n        @type fdictfile: str\n        @param format: Dictionary format, currently unused.\n        @type format: str\n        ";
static PyObject *__pyx_pf_12pocketsphinx_7Decoder_load_dict(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_dictfile = 0;
  PyObject *__pyx_v_fdictfile = 0;
  PyObject *__pyx_v_format = 0;
  PyObject *__pyx_r = NULL;
  char *__pyx_t_1;
  char *__pyx_t_2;
  char *__pyx_t_3;
  PyObject *__pyx_t_4 = NULL;
  static PyObject **__pyx_pyargnames[] = {&__pyx_kp_dictfile,&__pyx_kp_fdictfile,&__pyx_kp_format,0};
  __Pyx_SetupRefcountContext("load_dict");
  if (unlikely(__pyx_kwds)) {
    Py_ssize_t kw_args = PyDict_Size(__pyx_kwds);
    PyObject* values[3] = {0,0,0};
    values[1] = Py_None;
    values[2] = Py_None;
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
      case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
      case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
      case  0: break;
      default: goto __pyx_L5_argtuple_error;
    }
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  0:
      values[0] = PyDict_GetItem(__pyx_kwds, __pyx_kp_dictfile);
      if (likely(values[0])) kw_args--;
      else goto __pyx_L5_argtuple_error;
      case  1:
      if (kw_args > 1) {
        PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_kp_fdictfile);
        if (unlikely(value)) { values[1] = value; kw_args--; }
      }
      case  2:
      if (kw_args > 1) {
        PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_kp_format);
        if (unlikely(value)) { values[2] = value; kw_args--; }
      }
    }
    if (unlikely(kw_args > 0)) {
      if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, PyTuple_GET_SIZE(__pyx_args), "load_dict") < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 580; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
    }
    __pyx_v_dictfile = values[0];
    __pyx_v_fdictfile = values[1];
    __pyx_v_format = values[2];
  } else {
    __pyx_v_fdictfile = Py_None;
    __pyx_v_format = Py_None;
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  3: __pyx_v_format = PyTuple_GET_ITEM(__pyx_args, 2);
      case  2: __pyx_v_fdictfile = PyTuple_GET_ITEM(__pyx_args, 1);
      case  1: __pyx_v_dictfile = PyTuple_GET_ITEM(__pyx_args, 0);
      break;
      default: goto __pyx_L5_argtuple_error;
    }
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("load_dict", 0, 1, 3, PyTuple_GET_SIZE(__pyx_args)); {__pyx_filename = __pyx_f[0]; __pyx_lineno = 580; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
  __pyx_L3_error:;
  __Pyx_AddTraceback("pocketsphinx.Decoder.load_dict");
  return NULL;
  __pyx_L4_argument_unpacking_done:;

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":591
 *         @type format: str
 *         """
 *         return ps_load_dict(self.ps, dictfile, fdictfile, format)             # <<<<<<<<<<<<<<
 * 
 *     def save_dict(self, dictfile, format=None):
 */
  __Pyx_XDECREF(__pyx_r);
  __pyx_t_1 = __Pyx_PyBytes_AsString(__pyx_v_dictfile); if (unlikely((!__pyx_t_1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 591; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_t_2 = __Pyx_PyBytes_AsString(__pyx_v_fdictfile); if (unlikely((!__pyx_t_2) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 591; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_t_3 = __Pyx_PyBytes_AsString(__pyx_v_format); if (unlikely((!__pyx_t_3) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 591; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_t_4 = PyInt_FromLong(ps_load_dict(((struct __pyx_obj_12pocketsphinx_Decoder *)__pyx_v_self)->ps, __pyx_t_1, __pyx_t_2, __pyx_t_3)); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 591; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_4);
  __pyx_r = __pyx_t_4;
  __pyx_t_4 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_4);
  __Pyx_AddTraceback("pocketsphinx.Decoder.load_dict");
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_FinishRefcountContext();
  return __pyx_r;
}

/* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":593
 *         return ps_load_dict(self.ps, dictfile, fdictfile, format)
 * 
 *     def save_dict(self, dictfile, format=None):             # <<<<<<<<<<<<<<
 *         """
 *         Save current pronunciation dictionary to a file.
 */

static PyObject *__pyx_pf_12pocketsphinx_7Decoder_save_dict(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_12pocketsphinx_7Decoder_save_dict[] = "\n        Save current pronunciation dictionary to a file.\n\n        @param dictfile: Dictionary filename.\n        @type dictfile: str\n        @param format: Dictionary format, currently unused.\n        @type format: str\n        ";
static PyObject *__pyx_pf_12pocketsphinx_7Decoder_save_dict(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_dictfile = 0;
  PyObject *__pyx_v_format = 0;
  PyObject *__pyx_r = NULL;
  char *__pyx_t_1;
  char *__pyx_t_2;
  PyObject *__pyx_t_3 = NULL;
  static PyObject **__pyx_pyargnames[] = {&__pyx_kp_dictfile,&__pyx_kp_format,0};
  __Pyx_SetupRefcountContext("save_dict");
  if (unlikely(__pyx_kwds)) {
    Py_ssize_t kw_args = PyDict_Size(__pyx_kwds);
    PyObject* values[2] = {0,0};
    values[1] = Py_None;
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
      case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
      case  0: break;
      default: goto __pyx_L5_argtuple_error;
    }
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  0:
      values[0] = PyDict_GetItem(__pyx_kwds, __pyx_kp_dictfile);
      if (likely(values[0])) kw_args--;
      else goto __pyx_L5_argtuple_error;
      case  1:
      if (kw_args > 1) {
        PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_kp_format);
        if (unlikely(value)) { values[1] = value; kw_args--; }
      }
    }
    if (unlikely(kw_args > 0)) {
      if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, PyTuple_GET_SIZE(__pyx_args), "save_dict") < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 593; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
    }
    __pyx_v_dictfile = values[0];
    __pyx_v_format = values[1];
  } else {
    __pyx_v_format = Py_None;
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  2: __pyx_v_format = PyTuple_GET_ITEM(__pyx_args, 1);
      case  1: __pyx_v_dictfile = PyTuple_GET_ITEM(__pyx_args, 0);
      break;
      default: goto __pyx_L5_argtuple_error;
    }
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("save_dict", 0, 1, 2, PyTuple_GET_SIZE(__pyx_args)); {__pyx_filename = __pyx_f[0]; __pyx_lineno = 593; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
  __pyx_L3_error:;
  __Pyx_AddTraceback("pocketsphinx.Decoder.save_dict");
  return NULL;
  __pyx_L4_argument_unpacking_done:;

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":602
 *         @type format: str
 *         """
 *         return ps_save_dict(self.ps, dictfile, format)             # <<<<<<<<<<<<<<
 */
  __Pyx_XDECREF(__pyx_r);
  __pyx_t_1 = __Pyx_PyBytes_AsString(__pyx_v_dictfile); if (unlikely((!__pyx_t_1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 602; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_t_2 = __Pyx_PyBytes_AsString(__pyx_v_format); if (unlikely((!__pyx_t_2) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 602; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_t_3 = PyInt_FromLong(ps_save_dict(((struct __pyx_obj_12pocketsphinx_Decoder *)__pyx_v_self)->ps, __pyx_t_1, __pyx_t_2)); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 602; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_3);
  __pyx_r = __pyx_t_3;
  __pyx_t_3 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_AddTraceback("pocketsphinx.Decoder.save_dict");
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_FinishRefcountContext();
  return __pyx_r;
}
static struct __pyx_vtabstruct_12pocketsphinx_Decoder __pyx_vtable_12pocketsphinx_Decoder;

static PyObject *__pyx_tp_new_12pocketsphinx_Decoder(PyTypeObject *t, PyObject *a, PyObject *k) {
  struct __pyx_obj_12pocketsphinx_Decoder *p;
  PyObject *o = (*t->tp_alloc)(t, 0);
  if (!o) return 0;
  p = ((struct __pyx_obj_12pocketsphinx_Decoder *)o);
  p->__pyx_vtab = __pyx_vtabptr_12pocketsphinx_Decoder;
  return o;
}

static void __pyx_tp_dealloc_12pocketsphinx_Decoder(PyObject *o) {
  {
    PyObject *etype, *eval, *etb;
    PyErr_Fetch(&etype, &eval, &etb);
    ++Py_REFCNT(o);
    __pyx_pf_12pocketsphinx_7Decoder___dealloc__(o);
    if (PyErr_Occurred()) PyErr_WriteUnraisable(o);
    --Py_REFCNT(o);
    PyErr_Restore(etype, eval, etb);
  }
  (*Py_TYPE(o)->tp_free)(o);
}

static struct PyMethodDef __pyx_methods_12pocketsphinx_Decoder[] = {
  {__Pyx_NAMESTR("decode_raw"), (PyCFunction)__pyx_pf_12pocketsphinx_7Decoder_decode_raw, METH_VARARGS|METH_KEYWORDS, __Pyx_DOCSTR(__pyx_doc_12pocketsphinx_7Decoder_decode_raw)},
  {__Pyx_NAMESTR("start_utt"), (PyCFunction)__pyx_pf_12pocketsphinx_7Decoder_start_utt, METH_VARARGS|METH_KEYWORDS, __Pyx_DOCSTR(__pyx_doc_12pocketsphinx_7Decoder_start_utt)},
  {__Pyx_NAMESTR("process_raw"), (PyCFunction)__pyx_pf_12pocketsphinx_7Decoder_process_raw, METH_VARARGS|METH_KEYWORDS, __Pyx_DOCSTR(__pyx_doc_12pocketsphinx_7Decoder_process_raw)},
  {__Pyx_NAMESTR("ps_end_utt"), (PyCFunction)__pyx_pf_12pocketsphinx_7Decoder_ps_end_utt, METH_NOARGS, __Pyx_DOCSTR(__pyx_doc_12pocketsphinx_7Decoder_ps_end_utt)},
  {__Pyx_NAMESTR("get_hyp"), (PyCFunction)__pyx_pf_12pocketsphinx_7Decoder_get_hyp, METH_NOARGS, __Pyx_DOCSTR(__pyx_doc_12pocketsphinx_7Decoder_get_hyp)},
  {__Pyx_NAMESTR("get_lattice"), (PyCFunction)__pyx_pf_12pocketsphinx_7Decoder_get_lattice, METH_NOARGS, __Pyx_DOCSTR(__pyx_doc_12pocketsphinx_7Decoder_get_lattice)},
  {__Pyx_NAMESTR("get_lmset"), (PyCFunction)__pyx_pf_12pocketsphinx_7Decoder_get_lmset, METH_NOARGS, __Pyx_DOCSTR(__pyx_doc_12pocketsphinx_7Decoder_get_lmset)},
  {__Pyx_NAMESTR("add_word"), (PyCFunction)__pyx_pf_12pocketsphinx_7Decoder_add_word, METH_VARARGS|METH_KEYWORDS, __Pyx_DOCSTR(__pyx_doc_12pocketsphinx_7Decoder_add_word)},
  {__Pyx_NAMESTR("load_dict"), (PyCFunction)__pyx_pf_12pocketsphinx_7Decoder_load_dict, METH_VARARGS|METH_KEYWORDS, __Pyx_DOCSTR(__pyx_doc_12pocketsphinx_7Decoder_load_dict)},
  {__Pyx_NAMESTR("save_dict"), (PyCFunction)__pyx_pf_12pocketsphinx_7Decoder_save_dict, METH_VARARGS|METH_KEYWORDS, __Pyx_DOCSTR(__pyx_doc_12pocketsphinx_7Decoder_save_dict)},
  {0, 0, 0, 0}
};

static PyNumberMethods __pyx_tp_as_number_Decoder = {
  0, /*nb_add*/
  0, /*nb_subtract*/
  0, /*nb_multiply*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_divide*/
  #endif
  0, /*nb_remainder*/
  0, /*nb_divmod*/
  0, /*nb_power*/
  0, /*nb_negative*/
  0, /*nb_positive*/
  0, /*nb_absolute*/
  0, /*nb_nonzero*/
  0, /*nb_invert*/
  0, /*nb_lshift*/
  0, /*nb_rshift*/
  0, /*nb_and*/
  0, /*nb_xor*/
  0, /*nb_or*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_coerce*/
  #endif
  0, /*nb_int*/
  #if PY_MAJOR_VERSION >= 3
  0, /*reserved*/
  #else
  0, /*nb_long*/
  #endif
  0, /*nb_float*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_oct*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*nb_hex*/
  #endif
  0, /*nb_inplace_add*/
  0, /*nb_inplace_subtract*/
  0, /*nb_inplace_multiply*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_inplace_divide*/
  #endif
  0, /*nb_inplace_remainder*/
  0, /*nb_inplace_power*/
  0, /*nb_inplace_lshift*/
  0, /*nb_inplace_rshift*/
  0, /*nb_inplace_and*/
  0, /*nb_inplace_xor*/
  0, /*nb_inplace_or*/
  0, /*nb_floor_divide*/
  0, /*nb_true_divide*/
  0, /*nb_inplace_floor_divide*/
  0, /*nb_inplace_true_divide*/
  #if (PY_MAJOR_VERSION >= 3) || (Py_TPFLAGS_DEFAULT & Py_TPFLAGS_HAVE_INDEX)
  0, /*nb_index*/
  #endif
};

static PySequenceMethods __pyx_tp_as_sequence_Decoder = {
  0, /*sq_length*/
  0, /*sq_concat*/
  0, /*sq_repeat*/
  0, /*sq_item*/
  0, /*sq_slice*/
  0, /*sq_ass_item*/
  0, /*sq_ass_slice*/
  0, /*sq_contains*/
  0, /*sq_inplace_concat*/
  0, /*sq_inplace_repeat*/
};

static PyMappingMethods __pyx_tp_as_mapping_Decoder = {
  0, /*mp_length*/
  0, /*mp_subscript*/
  0, /*mp_ass_subscript*/
};

static PyBufferProcs __pyx_tp_as_buffer_Decoder = {
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getreadbuffer*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getwritebuffer*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getsegcount*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getcharbuffer*/
  #endif
  #if PY_VERSION_HEX >= 0x02060000
  0, /*bf_getbuffer*/
  #endif
  #if PY_VERSION_HEX >= 0x02060000
  0, /*bf_releasebuffer*/
  #endif
};

PyTypeObject __pyx_type_12pocketsphinx_Decoder = {
  PyVarObject_HEAD_INIT(0, 0)
  __Pyx_NAMESTR("pocketsphinx.Decoder"), /*tp_name*/
  sizeof(struct __pyx_obj_12pocketsphinx_Decoder), /*tp_basicsize*/
  0, /*tp_itemsize*/
  __pyx_tp_dealloc_12pocketsphinx_Decoder, /*tp_dealloc*/
  0, /*tp_print*/
  0, /*tp_getattr*/
  0, /*tp_setattr*/
  0, /*tp_compare*/
  0, /*tp_repr*/
  &__pyx_tp_as_number_Decoder, /*tp_as_number*/
  &__pyx_tp_as_sequence_Decoder, /*tp_as_sequence*/
  &__pyx_tp_as_mapping_Decoder, /*tp_as_mapping*/
  0, /*tp_hash*/
  0, /*tp_call*/
  0, /*tp_str*/
  0, /*tp_getattro*/
  0, /*tp_setattro*/
  &__pyx_tp_as_buffer_Decoder, /*tp_as_buffer*/
  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_BASETYPE|Py_TPFLAGS_HAVE_NEWBUFFER, /*tp_flags*/
  __Pyx_DOCSTR("\n    PocketSphinx speech decoder.\n\n    To initialize the PocketSphinx decoder, pass a list of keyword\n    arguments to the constructor::\n\n     d = pocketsphinx.Decoder(hmm='/path/to/acoustic/model',\n                              lm='/path/to/language/model',\n                              dict='/path/to/dictionary',\n                              beam='1e-80')\n\n    If no arguments are passed, the default acoustic and language\n    models will be loaded, which may be acceptable for general English\n    speech.  Any arguments supported by the PocketSphinx decoder are\n    allowed here.  Only the most frequent ones are described below.\n\n    @param boxed: Boxed pointer from GStreamer containing a decoder\n    @type boxed: PyGBoxed\n    @param hmm: Path to acoustic model directory\n    @type hmm: str\n    @param dict: Path to dictionary file\n    @type dict: str\n    @param lm: Path to language model file\n    @type lm: str\n    @param jsgf: Path to JSGF grammar file\n    @type jsgf str\n    "), /*tp_doc*/
  0, /*tp_traverse*/
  0, /*tp_clear*/
  0, /*tp_richcompare*/
  0, /*tp_weaklistoffset*/
  0, /*tp_iter*/
  0, /*tp_iternext*/
  __pyx_methods_12pocketsphinx_Decoder, /*tp_methods*/
  0, /*tp_members*/
  0, /*tp_getset*/
  0, /*tp_base*/
  0, /*tp_dict*/
  0, /*tp_descr_get*/
  0, /*tp_descr_set*/
  0, /*tp_dictoffset*/
  __pyx_pf_12pocketsphinx_7Decoder___init__, /*tp_init*/
  0, /*tp_alloc*/
  __pyx_tp_new_12pocketsphinx_Decoder, /*tp_new*/
  0, /*tp_free*/
  0, /*tp_is_gc*/
  0, /*tp_bases*/
  0, /*tp_mro*/
  0, /*tp_cache*/
  0, /*tp_subclasses*/
  0, /*tp_weaklist*/
};
static struct __pyx_vtabstruct_12pocketsphinx_Lattice __pyx_vtable_12pocketsphinx_Lattice;

static PyObject *__pyx_tp_new_12pocketsphinx_Lattice(PyTypeObject *t, PyObject *a, PyObject *k) {
  struct __pyx_obj_12pocketsphinx_Lattice *p;
  PyObject *o = (*t->tp_alloc)(t, 0);
  if (!o) return 0;
  p = ((struct __pyx_obj_12pocketsphinx_Lattice *)o);
  p->__pyx_vtab = __pyx_vtabptr_12pocketsphinx_Lattice;
  p->n_frames = Py_None; Py_INCREF(Py_None);
  return o;
}

static void __pyx_tp_dealloc_12pocketsphinx_Lattice(PyObject *o) {
  struct __pyx_obj_12pocketsphinx_Lattice *p = (struct __pyx_obj_12pocketsphinx_Lattice *)o;
  {
    PyObject *etype, *eval, *etb;
    PyErr_Fetch(&etype, &eval, &etb);
    ++Py_REFCNT(o);
    __pyx_pf_12pocketsphinx_7Lattice___dealloc__(o);
    if (PyErr_Occurred()) PyErr_WriteUnraisable(o);
    --Py_REFCNT(o);
    PyErr_Restore(etype, eval, etb);
  }
  Py_XDECREF(p->n_frames);
  (*Py_TYPE(o)->tp_free)(o);
}

static int __pyx_tp_traverse_12pocketsphinx_Lattice(PyObject *o, visitproc v, void *a) {
  int e;
  struct __pyx_obj_12pocketsphinx_Lattice *p = (struct __pyx_obj_12pocketsphinx_Lattice *)o;
  if (p->n_frames) {
    e = (*v)(p->n_frames, a); if (e) return e;
  }
  return 0;
}

static int __pyx_tp_clear_12pocketsphinx_Lattice(PyObject *o) {
  struct __pyx_obj_12pocketsphinx_Lattice *p = (struct __pyx_obj_12pocketsphinx_Lattice *)o;
  PyObject* tmp;
  tmp = ((PyObject*)p->n_frames);
  p->n_frames = Py_None; Py_INCREF(Py_None);
  Py_XDECREF(tmp);
  return 0;
}

static struct PyMethodDef __pyx_methods_12pocketsphinx_Lattice[] = {
  {__Pyx_NAMESTR("bestpath"), (PyCFunction)__pyx_pf_12pocketsphinx_7Lattice_bestpath, METH_VARARGS|METH_KEYWORDS, __Pyx_DOCSTR(__pyx_doc_12pocketsphinx_7Lattice_bestpath)},
  {__Pyx_NAMESTR("posterior"), (PyCFunction)__pyx_pf_12pocketsphinx_7Lattice_posterior, METH_VARARGS|METH_KEYWORDS, __Pyx_DOCSTR(__pyx_doc_12pocketsphinx_7Lattice_posterior)},
  {__Pyx_NAMESTR("nodes"), (PyCFunction)__pyx_pf_12pocketsphinx_7Lattice_nodes, METH_VARARGS|METH_KEYWORDS, __Pyx_DOCSTR(__pyx_doc_12pocketsphinx_7Lattice_nodes)},
  {__Pyx_NAMESTR("write"), (PyCFunction)__pyx_pf_12pocketsphinx_7Lattice_write, METH_O, __Pyx_DOCSTR(__pyx_doc_12pocketsphinx_7Lattice_write)},
  {0, 0, 0, 0}
};

static struct PyMemberDef __pyx_members_12pocketsphinx_Lattice[] = {
  {(char *)"n_frames", T_OBJECT, offsetof(struct __pyx_obj_12pocketsphinx_Lattice, n_frames), READONLY, 0},
  {0, 0, 0, 0, 0}
};

static PyNumberMethods __pyx_tp_as_number_Lattice = {
  0, /*nb_add*/
  0, /*nb_subtract*/
  0, /*nb_multiply*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_divide*/
  #endif
  0, /*nb_remainder*/
  0, /*nb_divmod*/
  0, /*nb_power*/
  0, /*nb_negative*/
  0, /*nb_positive*/
  0, /*nb_absolute*/
  0, /*nb_nonzero*/
  0, /*nb_invert*/
  0, /*nb_lshift*/
  0, /*nb_rshift*/
  0, /*nb_and*/
  0, /*nb_xor*/
  0, /*nb_or*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_coerce*/
  #endif
  0, /*nb_int*/
  #if PY_MAJOR_VERSION >= 3
  0, /*reserved*/
  #else
  0, /*nb_long*/
  #endif
  0, /*nb_float*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_oct*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*nb_hex*/
  #endif
  0, /*nb_inplace_add*/
  0, /*nb_inplace_subtract*/
  0, /*nb_inplace_multiply*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_inplace_divide*/
  #endif
  0, /*nb_inplace_remainder*/
  0, /*nb_inplace_power*/
  0, /*nb_inplace_lshift*/
  0, /*nb_inplace_rshift*/
  0, /*nb_inplace_and*/
  0, /*nb_inplace_xor*/
  0, /*nb_inplace_or*/
  0, /*nb_floor_divide*/
  0, /*nb_true_divide*/
  0, /*nb_inplace_floor_divide*/
  0, /*nb_inplace_true_divide*/
  #if (PY_MAJOR_VERSION >= 3) || (Py_TPFLAGS_DEFAULT & Py_TPFLAGS_HAVE_INDEX)
  0, /*nb_index*/
  #endif
};

static PySequenceMethods __pyx_tp_as_sequence_Lattice = {
  0, /*sq_length*/
  0, /*sq_concat*/
  0, /*sq_repeat*/
  0, /*sq_item*/
  0, /*sq_slice*/
  0, /*sq_ass_item*/
  0, /*sq_ass_slice*/
  0, /*sq_contains*/
  0, /*sq_inplace_concat*/
  0, /*sq_inplace_repeat*/
};

static PyMappingMethods __pyx_tp_as_mapping_Lattice = {
  0, /*mp_length*/
  0, /*mp_subscript*/
  0, /*mp_ass_subscript*/
};

static PyBufferProcs __pyx_tp_as_buffer_Lattice = {
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getreadbuffer*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getwritebuffer*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getsegcount*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getcharbuffer*/
  #endif
  #if PY_VERSION_HEX >= 0x02060000
  0, /*bf_getbuffer*/
  #endif
  #if PY_VERSION_HEX >= 0x02060000
  0, /*bf_releasebuffer*/
  #endif
};

PyTypeObject __pyx_type_12pocketsphinx_Lattice = {
  PyVarObject_HEAD_INIT(0, 0)
  __Pyx_NAMESTR("pocketsphinx.Lattice"), /*tp_name*/
  sizeof(struct __pyx_obj_12pocketsphinx_Lattice), /*tp_basicsize*/
  0, /*tp_itemsize*/
  __pyx_tp_dealloc_12pocketsphinx_Lattice, /*tp_dealloc*/
  0, /*tp_print*/
  0, /*tp_getattr*/
  0, /*tp_setattr*/
  0, /*tp_compare*/
  0, /*tp_repr*/
  &__pyx_tp_as_number_Lattice, /*tp_as_number*/
  &__pyx_tp_as_sequence_Lattice, /*tp_as_sequence*/
  &__pyx_tp_as_mapping_Lattice, /*tp_as_mapping*/
  0, /*tp_hash*/
  0, /*tp_call*/
  0, /*tp_str*/
  0, /*tp_getattro*/
  0, /*tp_setattro*/
  &__pyx_tp_as_buffer_Lattice, /*tp_as_buffer*/
  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_BASETYPE|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
  __Pyx_DOCSTR("\n    Word lattice.\n\n    The word lattice is a compact representation of the set of\n    hypotheses considered by the decoder when recognizing an\n    utterance.\n\n    A lattice object can be constructed either from a lattice file\n    on disk or from a 'boxed' object passed in from GStreamer (or,\n    in theory, anything else that uses GLib).  In the first case,\n    the C{ps} argument is required.\n\n    @param ps: PocketSphinx decoder.\n    @type ps: Decoder\n    @param latfile: Filename of lattice file to read.\n    @type latfile: str\n    @param boxed: Boxed pointer from GStreamer containing a lattice\n    @type boxed: PyGBoxed\n    @ivar n_frames: Number of frames of audio covered by this lattice\n    @type n_frames: int\n    "), /*tp_doc*/
  __pyx_tp_traverse_12pocketsphinx_Lattice, /*tp_traverse*/
  __pyx_tp_clear_12pocketsphinx_Lattice, /*tp_clear*/
  0, /*tp_richcompare*/
  0, /*tp_weaklistoffset*/
  0, /*tp_iter*/
  0, /*tp_iternext*/
  __pyx_methods_12pocketsphinx_Lattice, /*tp_methods*/
  __pyx_members_12pocketsphinx_Lattice, /*tp_members*/
  0, /*tp_getset*/
  0, /*tp_base*/
  0, /*tp_dict*/
  0, /*tp_descr_get*/
  0, /*tp_descr_set*/
  0, /*tp_dictoffset*/
  __pyx_pf_12pocketsphinx_7Lattice___init__, /*tp_init*/
  0, /*tp_alloc*/
  __pyx_tp_new_12pocketsphinx_Lattice, /*tp_new*/
  0, /*tp_free*/
  0, /*tp_is_gc*/
  0, /*tp_bases*/
  0, /*tp_mro*/
  0, /*tp_cache*/
  0, /*tp_subclasses*/
  0, /*tp_weaklist*/
};
static struct __pyx_vtabstruct_12pocketsphinx_LatLink __pyx_vtable_12pocketsphinx_LatLink;

static PyObject *__pyx_tp_new_12pocketsphinx_LatLink(PyTypeObject *t, PyObject *a, PyObject *k) {
  struct __pyx_obj_12pocketsphinx_LatLink *p;
  PyObject *o = (*t->tp_alloc)(t, 0);
  if (!o) return 0;
  p = ((struct __pyx_obj_12pocketsphinx_LatLink *)o);
  p->__pyx_vtab = __pyx_vtabptr_12pocketsphinx_LatLink;
  if (__pyx_pf_12pocketsphinx_7LatLink___cinit__(o, __pyx_empty_tuple, NULL) < 0) {
    Py_DECREF(o); o = 0;
  }
  return o;
}

static void __pyx_tp_dealloc_12pocketsphinx_LatLink(PyObject *o) {
  (*Py_TYPE(o)->tp_free)(o);
}

static struct PyMethodDef __pyx_methods_12pocketsphinx_LatLink[] = {
  {__Pyx_NAMESTR("nodes"), (PyCFunction)__pyx_pf_12pocketsphinx_7LatLink_nodes, METH_NOARGS, __Pyx_DOCSTR(__pyx_doc_12pocketsphinx_7LatLink_nodes)},
  {__Pyx_NAMESTR("pred"), (PyCFunction)__pyx_pf_12pocketsphinx_7LatLink_pred, METH_NOARGS, __Pyx_DOCSTR(__pyx_doc_12pocketsphinx_7LatLink_pred)},
  {0, 0, 0, 0}
};

static struct PyMemberDef __pyx_members_12pocketsphinx_LatLink[] = {
  {(char *)"word", T_STRING, offsetof(struct __pyx_obj_12pocketsphinx_LatLink, word), READONLY, 0},
  {(char *)"baseword", T_STRING, offsetof(struct __pyx_obj_12pocketsphinx_LatLink, baseword), READONLY, 0},
  {(char *)"sf", T_INT, offsetof(struct __pyx_obj_12pocketsphinx_LatLink, sf), READONLY, 0},
  {(char *)"ef", T_INT, offsetof(struct __pyx_obj_12pocketsphinx_LatLink, ef), READONLY, 0},
  {(char *)"prob", T_DOUBLE, offsetof(struct __pyx_obj_12pocketsphinx_LatLink, prob), READONLY, 0},
  {0, 0, 0, 0, 0}
};

static PyNumberMethods __pyx_tp_as_number_LatLink = {
  0, /*nb_add*/
  0, /*nb_subtract*/
  0, /*nb_multiply*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_divide*/
  #endif
  0, /*nb_remainder*/
  0, /*nb_divmod*/
  0, /*nb_power*/
  0, /*nb_negative*/
  0, /*nb_positive*/
  0, /*nb_absolute*/
  0, /*nb_nonzero*/
  0, /*nb_invert*/
  0, /*nb_lshift*/
  0, /*nb_rshift*/
  0, /*nb_and*/
  0, /*nb_xor*/
  0, /*nb_or*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_coerce*/
  #endif
  0, /*nb_int*/
  #if PY_MAJOR_VERSION >= 3
  0, /*reserved*/
  #else
  0, /*nb_long*/
  #endif
  0, /*nb_float*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_oct*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*nb_hex*/
  #endif
  0, /*nb_inplace_add*/
  0, /*nb_inplace_subtract*/
  0, /*nb_inplace_multiply*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_inplace_divide*/
  #endif
  0, /*nb_inplace_remainder*/
  0, /*nb_inplace_power*/
  0, /*nb_inplace_lshift*/
  0, /*nb_inplace_rshift*/
  0, /*nb_inplace_and*/
  0, /*nb_inplace_xor*/
  0, /*nb_inplace_or*/
  0, /*nb_floor_divide*/
  0, /*nb_true_divide*/
  0, /*nb_inplace_floor_divide*/
  0, /*nb_inplace_true_divide*/
  #if (PY_MAJOR_VERSION >= 3) || (Py_TPFLAGS_DEFAULT & Py_TPFLAGS_HAVE_INDEX)
  0, /*nb_index*/
  #endif
};

static PySequenceMethods __pyx_tp_as_sequence_LatLink = {
  0, /*sq_length*/
  0, /*sq_concat*/
  0, /*sq_repeat*/
  0, /*sq_item*/
  0, /*sq_slice*/
  0, /*sq_ass_item*/
  0, /*sq_ass_slice*/
  0, /*sq_contains*/
  0, /*sq_inplace_concat*/
  0, /*sq_inplace_repeat*/
};

static PyMappingMethods __pyx_tp_as_mapping_LatLink = {
  0, /*mp_length*/
  0, /*mp_subscript*/
  0, /*mp_ass_subscript*/
};

static PyBufferProcs __pyx_tp_as_buffer_LatLink = {
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getreadbuffer*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getwritebuffer*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getsegcount*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getcharbuffer*/
  #endif
  #if PY_VERSION_HEX >= 0x02060000
  0, /*bf_getbuffer*/
  #endif
  #if PY_VERSION_HEX >= 0x02060000
  0, /*bf_releasebuffer*/
  #endif
};

PyTypeObject __pyx_type_12pocketsphinx_LatLink = {
  PyVarObject_HEAD_INIT(0, 0)
  __Pyx_NAMESTR("pocketsphinx.LatLink"), /*tp_name*/
  sizeof(struct __pyx_obj_12pocketsphinx_LatLink), /*tp_basicsize*/
  0, /*tp_itemsize*/
  __pyx_tp_dealloc_12pocketsphinx_LatLink, /*tp_dealloc*/
  0, /*tp_print*/
  0, /*tp_getattr*/
  0, /*tp_setattr*/
  0, /*tp_compare*/
  0, /*tp_repr*/
  &__pyx_tp_as_number_LatLink, /*tp_as_number*/
  &__pyx_tp_as_sequence_LatLink, /*tp_as_sequence*/
  &__pyx_tp_as_mapping_LatLink, /*tp_as_mapping*/
  0, /*tp_hash*/
  0, /*tp_call*/
  0, /*tp_str*/
  0, /*tp_getattro*/
  0, /*tp_setattro*/
  &__pyx_tp_as_buffer_LatLink, /*tp_as_buffer*/
  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_BASETYPE|Py_TPFLAGS_HAVE_NEWBUFFER, /*tp_flags*/
  __Pyx_DOCSTR("\n    Link (edge) in a word lattice, connecting two nodes.\n\n    @ivar word: Word (with pronunciation variant) for this link.\n    @type word: str\n    @ivar baseword: Base word (no pronunciation variant) for this link.\n    @type baseword: str\n    @ivar sf: Start frame for this link.\n    @type sf: int\n    @ivar fef: Ending frame for this link.\n    @type fef: int\n    @ivar prob: Posterior probability for this link.\n    @type prob: float\n    "), /*tp_doc*/
  0, /*tp_traverse*/
  0, /*tp_clear*/
  0, /*tp_richcompare*/
  0, /*tp_weaklistoffset*/
  0, /*tp_iter*/
  0, /*tp_iternext*/
  __pyx_methods_12pocketsphinx_LatLink, /*tp_methods*/
  __pyx_members_12pocketsphinx_LatLink, /*tp_members*/
  0, /*tp_getset*/
  0, /*tp_base*/
  0, /*tp_dict*/
  0, /*tp_descr_get*/
  0, /*tp_descr_set*/
  0, /*tp_dictoffset*/
  0, /*tp_init*/
  0, /*tp_alloc*/
  __pyx_tp_new_12pocketsphinx_LatLink, /*tp_new*/
  0, /*tp_free*/
  0, /*tp_is_gc*/
  0, /*tp_bases*/
  0, /*tp_mro*/
  0, /*tp_cache*/
  0, /*tp_subclasses*/
  0, /*tp_weaklist*/
};

static PyObject *__pyx_tp_new_12pocketsphinx_LatLinkIterator(PyTypeObject *t, PyObject *a, PyObject *k) {
  PyObject *o = (*t->tp_alloc)(t, 0);
  if (!o) return 0;
  if (__pyx_pf_12pocketsphinx_15LatLinkIterator___cinit__(o, __pyx_empty_tuple, NULL) < 0) {
    Py_DECREF(o); o = 0;
  }
  return o;
}

static void __pyx_tp_dealloc_12pocketsphinx_LatLinkIterator(PyObject *o) {
  (*Py_TYPE(o)->tp_free)(o);
}

static struct PyMethodDef __pyx_methods_12pocketsphinx_LatLinkIterator[] = {
  {__Pyx_NAMESTR("__iter__"), (PyCFunction)__pyx_pf_12pocketsphinx_15LatLinkIterator___iter__, METH_NOARGS|METH_COEXIST, __Pyx_DOCSTR(0)},
  {__Pyx_NAMESTR("__next__"), (PyCFunction)__pyx_pf_12pocketsphinx_15LatLinkIterator___next__, METH_NOARGS|METH_COEXIST, __Pyx_DOCSTR(__pyx_doc_12pocketsphinx_15LatLinkIterator___next__)},
  {0, 0, 0, 0}
};

static PyNumberMethods __pyx_tp_as_number_LatLinkIterator = {
  0, /*nb_add*/
  0, /*nb_subtract*/
  0, /*nb_multiply*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_divide*/
  #endif
  0, /*nb_remainder*/
  0, /*nb_divmod*/
  0, /*nb_power*/
  0, /*nb_negative*/
  0, /*nb_positive*/
  0, /*nb_absolute*/
  0, /*nb_nonzero*/
  0, /*nb_invert*/
  0, /*nb_lshift*/
  0, /*nb_rshift*/
  0, /*nb_and*/
  0, /*nb_xor*/
  0, /*nb_or*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_coerce*/
  #endif
  0, /*nb_int*/
  #if PY_MAJOR_VERSION >= 3
  0, /*reserved*/
  #else
  0, /*nb_long*/
  #endif
  0, /*nb_float*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_oct*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*nb_hex*/
  #endif
  0, /*nb_inplace_add*/
  0, /*nb_inplace_subtract*/
  0, /*nb_inplace_multiply*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_inplace_divide*/
  #endif
  0, /*nb_inplace_remainder*/
  0, /*nb_inplace_power*/
  0, /*nb_inplace_lshift*/
  0, /*nb_inplace_rshift*/
  0, /*nb_inplace_and*/
  0, /*nb_inplace_xor*/
  0, /*nb_inplace_or*/
  0, /*nb_floor_divide*/
  0, /*nb_true_divide*/
  0, /*nb_inplace_floor_divide*/
  0, /*nb_inplace_true_divide*/
  #if (PY_MAJOR_VERSION >= 3) || (Py_TPFLAGS_DEFAULT & Py_TPFLAGS_HAVE_INDEX)
  0, /*nb_index*/
  #endif
};

static PySequenceMethods __pyx_tp_as_sequence_LatLinkIterator = {
  0, /*sq_length*/
  0, /*sq_concat*/
  0, /*sq_repeat*/
  0, /*sq_item*/
  0, /*sq_slice*/
  0, /*sq_ass_item*/
  0, /*sq_ass_slice*/
  0, /*sq_contains*/
  0, /*sq_inplace_concat*/
  0, /*sq_inplace_repeat*/
};

static PyMappingMethods __pyx_tp_as_mapping_LatLinkIterator = {
  0, /*mp_length*/
  0, /*mp_subscript*/
  0, /*mp_ass_subscript*/
};

static PyBufferProcs __pyx_tp_as_buffer_LatLinkIterator = {
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getreadbuffer*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getwritebuffer*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getsegcount*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getcharbuffer*/
  #endif
  #if PY_VERSION_HEX >= 0x02060000
  0, /*bf_getbuffer*/
  #endif
  #if PY_VERSION_HEX >= 0x02060000
  0, /*bf_releasebuffer*/
  #endif
};

PyTypeObject __pyx_type_12pocketsphinx_LatLinkIterator = {
  PyVarObject_HEAD_INIT(0, 0)
  __Pyx_NAMESTR("pocketsphinx.LatLinkIterator"), /*tp_name*/
  sizeof(struct __pyx_obj_12pocketsphinx_LatLinkIterator), /*tp_basicsize*/
  0, /*tp_itemsize*/
  __pyx_tp_dealloc_12pocketsphinx_LatLinkIterator, /*tp_dealloc*/
  0, /*tp_print*/
  0, /*tp_getattr*/
  0, /*tp_setattr*/
  0, /*tp_compare*/
  0, /*tp_repr*/
  &__pyx_tp_as_number_LatLinkIterator, /*tp_as_number*/
  &__pyx_tp_as_sequence_LatLinkIterator, /*tp_as_sequence*/
  &__pyx_tp_as_mapping_LatLinkIterator, /*tp_as_mapping*/
  0, /*tp_hash*/
  0, /*tp_call*/
  0, /*tp_str*/
  0, /*tp_getattro*/
  0, /*tp_setattro*/
  &__pyx_tp_as_buffer_LatLinkIterator, /*tp_as_buffer*/
  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_BASETYPE|Py_TPFLAGS_HAVE_NEWBUFFER, /*tp_flags*/
  __Pyx_DOCSTR("\n    Iterator over word lattice links.\n    "), /*tp_doc*/
  0, /*tp_traverse*/
  0, /*tp_clear*/
  0, /*tp_richcompare*/
  0, /*tp_weaklistoffset*/
  __pyx_pf_12pocketsphinx_15LatLinkIterator___iter__, /*tp_iter*/
  __pyx_pf_12pocketsphinx_15LatLinkIterator___next__, /*tp_iternext*/
  __pyx_methods_12pocketsphinx_LatLinkIterator, /*tp_methods*/
  0, /*tp_members*/
  0, /*tp_getset*/
  0, /*tp_base*/
  0, /*tp_dict*/
  0, /*tp_descr_get*/
  0, /*tp_descr_set*/
  0, /*tp_dictoffset*/
  0, /*tp_init*/
  0, /*tp_alloc*/
  __pyx_tp_new_12pocketsphinx_LatLinkIterator, /*tp_new*/
  0, /*tp_free*/
  0, /*tp_is_gc*/
  0, /*tp_bases*/
  0, /*tp_mro*/
  0, /*tp_cache*/
  0, /*tp_subclasses*/
  0, /*tp_weaklist*/
};
static struct __pyx_vtabstruct_12pocketsphinx_LatNode __pyx_vtable_12pocketsphinx_LatNode;

static PyObject *__pyx_tp_new_12pocketsphinx_LatNode(PyTypeObject *t, PyObject *a, PyObject *k) {
  struct __pyx_obj_12pocketsphinx_LatNode *p;
  PyObject *o = (*t->tp_alloc)(t, 0);
  if (!o) return 0;
  p = ((struct __pyx_obj_12pocketsphinx_LatNode *)o);
  p->__pyx_vtab = __pyx_vtabptr_12pocketsphinx_LatNode;
  p->best_exit = ((struct __pyx_obj_12pocketsphinx_LatLink *)Py_None); Py_INCREF(Py_None);
  if (__pyx_pf_12pocketsphinx_7LatNode___cinit__(o, __pyx_empty_tuple, NULL) < 0) {
    Py_DECREF(o); o = 0;
  }
  return o;
}

static void __pyx_tp_dealloc_12pocketsphinx_LatNode(PyObject *o) {
  struct __pyx_obj_12pocketsphinx_LatNode *p = (struct __pyx_obj_12pocketsphinx_LatNode *)o;
  Py_XDECREF(((PyObject *)p->best_exit));
  (*Py_TYPE(o)->tp_free)(o);
}

static int __pyx_tp_traverse_12pocketsphinx_LatNode(PyObject *o, visitproc v, void *a) {
  int e;
  struct __pyx_obj_12pocketsphinx_LatNode *p = (struct __pyx_obj_12pocketsphinx_LatNode *)o;
  if (p->best_exit) {
    e = (*v)(((PyObject*)p->best_exit), a); if (e) return e;
  }
  return 0;
}

static int __pyx_tp_clear_12pocketsphinx_LatNode(PyObject *o) {
  struct __pyx_obj_12pocketsphinx_LatNode *p = (struct __pyx_obj_12pocketsphinx_LatNode *)o;
  PyObject* tmp;
  tmp = ((PyObject*)p->best_exit);
  p->best_exit = ((struct __pyx_obj_12pocketsphinx_LatLink *)Py_None); Py_INCREF(Py_None);
  Py_XDECREF(tmp);
  return 0;
}

static struct PyMethodDef __pyx_methods_12pocketsphinx_LatNode[] = {
  {__Pyx_NAMESTR("exits"), (PyCFunction)__pyx_pf_12pocketsphinx_7LatNode_exits, METH_NOARGS, __Pyx_DOCSTR(__pyx_doc_12pocketsphinx_7LatNode_exits)},
  {__Pyx_NAMESTR("entries"), (PyCFunction)__pyx_pf_12pocketsphinx_7LatNode_entries, METH_NOARGS, __Pyx_DOCSTR(__pyx_doc_12pocketsphinx_7LatNode_entries)},
  {0, 0, 0, 0}
};

static struct PyMemberDef __pyx_members_12pocketsphinx_LatNode[] = {
  {(char *)"word", T_STRING, offsetof(struct __pyx_obj_12pocketsphinx_LatNode, word), READONLY, 0},
  {(char *)"baseword", T_STRING, offsetof(struct __pyx_obj_12pocketsphinx_LatNode, baseword), READONLY, 0},
  {(char *)"sf", T_INT, offsetof(struct __pyx_obj_12pocketsphinx_LatNode, sf), READONLY, 0},
  {(char *)"fef", T_INT, offsetof(struct __pyx_obj_12pocketsphinx_LatNode, fef), READONLY, 0},
  {(char *)"lef", T_INT, offsetof(struct __pyx_obj_12pocketsphinx_LatNode, lef), READONLY, 0},
  {(char *)"prob", T_DOUBLE, offsetof(struct __pyx_obj_12pocketsphinx_LatNode, prob), READONLY, 0},
  {(char *)"best_exit", T_OBJECT, offsetof(struct __pyx_obj_12pocketsphinx_LatNode, best_exit), READONLY, 0},
  {0, 0, 0, 0, 0}
};

static PyNumberMethods __pyx_tp_as_number_LatNode = {
  0, /*nb_add*/
  0, /*nb_subtract*/
  0, /*nb_multiply*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_divide*/
  #endif
  0, /*nb_remainder*/
  0, /*nb_divmod*/
  0, /*nb_power*/
  0, /*nb_negative*/
  0, /*nb_positive*/
  0, /*nb_absolute*/
  0, /*nb_nonzero*/
  0, /*nb_invert*/
  0, /*nb_lshift*/
  0, /*nb_rshift*/
  0, /*nb_and*/
  0, /*nb_xor*/
  0, /*nb_or*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_coerce*/
  #endif
  0, /*nb_int*/
  #if PY_MAJOR_VERSION >= 3
  0, /*reserved*/
  #else
  0, /*nb_long*/
  #endif
  0, /*nb_float*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_oct*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*nb_hex*/
  #endif
  0, /*nb_inplace_add*/
  0, /*nb_inplace_subtract*/
  0, /*nb_inplace_multiply*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_inplace_divide*/
  #endif
  0, /*nb_inplace_remainder*/
  0, /*nb_inplace_power*/
  0, /*nb_inplace_lshift*/
  0, /*nb_inplace_rshift*/
  0, /*nb_inplace_and*/
  0, /*nb_inplace_xor*/
  0, /*nb_inplace_or*/
  0, /*nb_floor_divide*/
  0, /*nb_true_divide*/
  0, /*nb_inplace_floor_divide*/
  0, /*nb_inplace_true_divide*/
  #if (PY_MAJOR_VERSION >= 3) || (Py_TPFLAGS_DEFAULT & Py_TPFLAGS_HAVE_INDEX)
  0, /*nb_index*/
  #endif
};

static PySequenceMethods __pyx_tp_as_sequence_LatNode = {
  0, /*sq_length*/
  0, /*sq_concat*/
  0, /*sq_repeat*/
  0, /*sq_item*/
  0, /*sq_slice*/
  0, /*sq_ass_item*/
  0, /*sq_ass_slice*/
  0, /*sq_contains*/
  0, /*sq_inplace_concat*/
  0, /*sq_inplace_repeat*/
};

static PyMappingMethods __pyx_tp_as_mapping_LatNode = {
  0, /*mp_length*/
  0, /*mp_subscript*/
  0, /*mp_ass_subscript*/
};

static PyBufferProcs __pyx_tp_as_buffer_LatNode = {
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getreadbuffer*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getwritebuffer*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getsegcount*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getcharbuffer*/
  #endif
  #if PY_VERSION_HEX >= 0x02060000
  0, /*bf_getbuffer*/
  #endif
  #if PY_VERSION_HEX >= 0x02060000
  0, /*bf_releasebuffer*/
  #endif
};

PyTypeObject __pyx_type_12pocketsphinx_LatNode = {
  PyVarObject_HEAD_INIT(0, 0)
  __Pyx_NAMESTR("pocketsphinx.LatNode"), /*tp_name*/
  sizeof(struct __pyx_obj_12pocketsphinx_LatNode), /*tp_basicsize*/
  0, /*tp_itemsize*/
  __pyx_tp_dealloc_12pocketsphinx_LatNode, /*tp_dealloc*/
  0, /*tp_print*/
  0, /*tp_getattr*/
  0, /*tp_setattr*/
  0, /*tp_compare*/
  0, /*tp_repr*/
  &__pyx_tp_as_number_LatNode, /*tp_as_number*/
  &__pyx_tp_as_sequence_LatNode, /*tp_as_sequence*/
  &__pyx_tp_as_mapping_LatNode, /*tp_as_mapping*/
  0, /*tp_hash*/
  0, /*tp_call*/
  0, /*tp_str*/
  0, /*tp_getattro*/
  0, /*tp_setattro*/
  &__pyx_tp_as_buffer_LatNode, /*tp_as_buffer*/
  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_BASETYPE|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
  __Pyx_DOCSTR("\n    Node in a word lattice.\n\n    @ivar word: Word this node corresponds to (with pronunciation variant).\n    @type word: str\n    @ivar baseword: Base word (no pronunciation variant) this node corresponds to.\n    @type baseword: str\n    @ivar sf: Start frame for this node.\n    @type sf: int\n    @ivar fef: First ending frame for this node.\n    @type fef: int\n    @ivar lef: Last ending frame for this node.\n    @type lef: int\n    @ivar best_exit: Best scoring exit link from this node\n    @type best_exit: LatLink\n    @ivar prob: Posterior probability for this node.\n    @type prob: float\n    "), /*tp_doc*/
  __pyx_tp_traverse_12pocketsphinx_LatNode, /*tp_traverse*/
  __pyx_tp_clear_12pocketsphinx_LatNode, /*tp_clear*/
  0, /*tp_richcompare*/
  0, /*tp_weaklistoffset*/
  0, /*tp_iter*/
  0, /*tp_iternext*/
  __pyx_methods_12pocketsphinx_LatNode, /*tp_methods*/
  __pyx_members_12pocketsphinx_LatNode, /*tp_members*/
  0, /*tp_getset*/
  0, /*tp_base*/
  0, /*tp_dict*/
  0, /*tp_descr_get*/
  0, /*tp_descr_set*/
  0, /*tp_dictoffset*/
  0, /*tp_init*/
  0, /*tp_alloc*/
  __pyx_tp_new_12pocketsphinx_LatNode, /*tp_new*/
  0, /*tp_free*/
  0, /*tp_is_gc*/
  0, /*tp_bases*/
  0, /*tp_mro*/
  0, /*tp_cache*/
  0, /*tp_subclasses*/
  0, /*tp_weaklist*/
};

static PyObject *__pyx_tp_new_12pocketsphinx_LatNodeIterator(PyTypeObject *t, PyObject *a, PyObject *k) {
  PyObject *o = (*t->tp_alloc)(t, 0);
  if (!o) return 0;
  return o;
}

static void __pyx_tp_dealloc_12pocketsphinx_LatNodeIterator(PyObject *o) {
  (*Py_TYPE(o)->tp_free)(o);
}

static struct PyMethodDef __pyx_methods_12pocketsphinx_LatNodeIterator[] = {
  {__Pyx_NAMESTR("__iter__"), (PyCFunction)__pyx_pf_12pocketsphinx_15LatNodeIterator___iter__, METH_NOARGS|METH_COEXIST, __Pyx_DOCSTR(0)},
  {__Pyx_NAMESTR("__next__"), (PyCFunction)__pyx_pf_12pocketsphinx_15LatNodeIterator___next__, METH_NOARGS|METH_COEXIST, __Pyx_DOCSTR(__pyx_doc_12pocketsphinx_15LatNodeIterator___next__)},
  {0, 0, 0, 0}
};

static PyNumberMethods __pyx_tp_as_number_LatNodeIterator = {
  0, /*nb_add*/
  0, /*nb_subtract*/
  0, /*nb_multiply*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_divide*/
  #endif
  0, /*nb_remainder*/
  0, /*nb_divmod*/
  0, /*nb_power*/
  0, /*nb_negative*/
  0, /*nb_positive*/
  0, /*nb_absolute*/
  0, /*nb_nonzero*/
  0, /*nb_invert*/
  0, /*nb_lshift*/
  0, /*nb_rshift*/
  0, /*nb_and*/
  0, /*nb_xor*/
  0, /*nb_or*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_coerce*/
  #endif
  0, /*nb_int*/
  #if PY_MAJOR_VERSION >= 3
  0, /*reserved*/
  #else
  0, /*nb_long*/
  #endif
  0, /*nb_float*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_oct*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*nb_hex*/
  #endif
  0, /*nb_inplace_add*/
  0, /*nb_inplace_subtract*/
  0, /*nb_inplace_multiply*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_inplace_divide*/
  #endif
  0, /*nb_inplace_remainder*/
  0, /*nb_inplace_power*/
  0, /*nb_inplace_lshift*/
  0, /*nb_inplace_rshift*/
  0, /*nb_inplace_and*/
  0, /*nb_inplace_xor*/
  0, /*nb_inplace_or*/
  0, /*nb_floor_divide*/
  0, /*nb_true_divide*/
  0, /*nb_inplace_floor_divide*/
  0, /*nb_inplace_true_divide*/
  #if (PY_MAJOR_VERSION >= 3) || (Py_TPFLAGS_DEFAULT & Py_TPFLAGS_HAVE_INDEX)
  0, /*nb_index*/
  #endif
};

static PySequenceMethods __pyx_tp_as_sequence_LatNodeIterator = {
  0, /*sq_length*/
  0, /*sq_concat*/
  0, /*sq_repeat*/
  0, /*sq_item*/
  0, /*sq_slice*/
  0, /*sq_ass_item*/
  0, /*sq_ass_slice*/
  0, /*sq_contains*/
  0, /*sq_inplace_concat*/
  0, /*sq_inplace_repeat*/
};

static PyMappingMethods __pyx_tp_as_mapping_LatNodeIterator = {
  0, /*mp_length*/
  0, /*mp_subscript*/
  0, /*mp_ass_subscript*/
};

static PyBufferProcs __pyx_tp_as_buffer_LatNodeIterator = {
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getreadbuffer*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getwritebuffer*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getsegcount*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getcharbuffer*/
  #endif
  #if PY_VERSION_HEX >= 0x02060000
  0, /*bf_getbuffer*/
  #endif
  #if PY_VERSION_HEX >= 0x02060000
  0, /*bf_releasebuffer*/
  #endif
};

PyTypeObject __pyx_type_12pocketsphinx_LatNodeIterator = {
  PyVarObject_HEAD_INIT(0, 0)
  __Pyx_NAMESTR("pocketsphinx.LatNodeIterator"), /*tp_name*/
  sizeof(struct __pyx_obj_12pocketsphinx_LatNodeIterator), /*tp_basicsize*/
  0, /*tp_itemsize*/
  __pyx_tp_dealloc_12pocketsphinx_LatNodeIterator, /*tp_dealloc*/
  0, /*tp_print*/
  0, /*tp_getattr*/
  0, /*tp_setattr*/
  0, /*tp_compare*/
  0, /*tp_repr*/
  &__pyx_tp_as_number_LatNodeIterator, /*tp_as_number*/
  &__pyx_tp_as_sequence_LatNodeIterator, /*tp_as_sequence*/
  &__pyx_tp_as_mapping_LatNodeIterator, /*tp_as_mapping*/
  0, /*tp_hash*/
  0, /*tp_call*/
  0, /*tp_str*/
  0, /*tp_getattro*/
  0, /*tp_setattro*/
  &__pyx_tp_as_buffer_LatNodeIterator, /*tp_as_buffer*/
  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_BASETYPE|Py_TPFLAGS_HAVE_NEWBUFFER, /*tp_flags*/
  __Pyx_DOCSTR("\n    Iterator over word lattice nodes.\n    "), /*tp_doc*/
  0, /*tp_traverse*/
  0, /*tp_clear*/
  0, /*tp_richcompare*/
  0, /*tp_weaklistoffset*/
  __pyx_pf_12pocketsphinx_15LatNodeIterator___iter__, /*tp_iter*/
  __pyx_pf_12pocketsphinx_15LatNodeIterator___next__, /*tp_iternext*/
  __pyx_methods_12pocketsphinx_LatNodeIterator, /*tp_methods*/
  0, /*tp_members*/
  0, /*tp_getset*/
  0, /*tp_base*/
  0, /*tp_dict*/
  0, /*tp_descr_get*/
  0, /*tp_descr_set*/
  0, /*tp_dictoffset*/
  __pyx_pf_12pocketsphinx_15LatNodeIterator___init__, /*tp_init*/
  0, /*tp_alloc*/
  __pyx_tp_new_12pocketsphinx_LatNodeIterator, /*tp_new*/
  0, /*tp_free*/
  0, /*tp_is_gc*/
  0, /*tp_bases*/
  0, /*tp_mro*/
  0, /*tp_cache*/
  0, /*tp_subclasses*/
  0, /*tp_weaklist*/
};

static struct PyMethodDef __pyx_methods[] = {
  {0, 0, 0, 0}
};

static void __pyx_init_filenames(void); /*proto*/

#if PY_MAJOR_VERSION >= 3
static struct PyModuleDef __pyx_moduledef = {
    PyModuleDef_HEAD_INIT,
    __Pyx_NAMESTR("pocketsphinx"),
    0, /* m_doc */
    -1, /* m_size */
    __pyx_methods /* m_methods */,
    NULL, /* m_reload */
    NULL, /* m_traverse */
    NULL, /* m_clear */
    NULL /* m_free */
};
#endif

static __Pyx_StringTabEntry __pyx_string_tab[] = {
  {&__pyx_kp___main__, __pyx_k___main__, sizeof(__pyx_k___main__), 1, 1, 1},
  {&__pyx_kp___cinit__, __pyx_k___cinit__, sizeof(__pyx_k___cinit__), 1, 1, 1},
  {&__pyx_kp_exits, __pyx_k_exits, sizeof(__pyx_k_exits), 1, 1, 1},
  {&__pyx_kp_entries, __pyx_k_entries, sizeof(__pyx_k_entries), 1, 1, 1},
  {&__pyx_kp___init__, __pyx_k___init__, sizeof(__pyx_k___init__), 1, 1, 1},
  {&__pyx_kp___iter__, __pyx_k___iter__, sizeof(__pyx_k___iter__), 1, 1, 1},
  {&__pyx_kp___next__, __pyx_k___next__, sizeof(__pyx_k___next__), 1, 1, 1},
  {&__pyx_kp_nodes, __pyx_k_nodes, sizeof(__pyx_k_nodes), 1, 1, 1},
  {&__pyx_kp_pred, __pyx_k_pred, sizeof(__pyx_k_pred), 1, 1, 1},
  {&__pyx_kp___dealloc__, __pyx_k___dealloc__, sizeof(__pyx_k___dealloc__), 1, 1, 1},
  {&__pyx_kp_bestpath, __pyx_k_bestpath, sizeof(__pyx_k_bestpath), 1, 1, 1},
  {&__pyx_kp_posterior, __pyx_k_posterior, sizeof(__pyx_k_posterior), 1, 1, 1},
  {&__pyx_kp_write, __pyx_k_write, sizeof(__pyx_k_write), 1, 1, 1},
  {&__pyx_kp_decode_raw, __pyx_k_decode_raw, sizeof(__pyx_k_decode_raw), 1, 1, 1},
  {&__pyx_kp_start_utt, __pyx_k_start_utt, sizeof(__pyx_k_start_utt), 1, 1, 1},
  {&__pyx_kp_process_raw, __pyx_k_process_raw, sizeof(__pyx_k_process_raw), 1, 1, 1},
  {&__pyx_kp_ps_end_utt, __pyx_k_ps_end_utt, sizeof(__pyx_k_ps_end_utt), 1, 1, 1},
  {&__pyx_kp_get_hyp, __pyx_k_get_hyp, sizeof(__pyx_k_get_hyp), 1, 1, 1},
  {&__pyx_kp_get_lattice, __pyx_k_get_lattice, sizeof(__pyx_k_get_lattice), 1, 1, 1},
  {&__pyx_kp_get_lmset, __pyx_k_get_lmset, sizeof(__pyx_k_get_lmset), 1, 1, 1},
  {&__pyx_kp_add_word, __pyx_k_add_word, sizeof(__pyx_k_add_word), 1, 1, 1},
  {&__pyx_kp_load_dict, __pyx_k_load_dict, sizeof(__pyx_k_load_dict), 1, 1, 1},
  {&__pyx_kp_save_dict, __pyx_k_save_dict, sizeof(__pyx_k_save_dict), 1, 1, 1},
  {&__pyx_kp_start, __pyx_k_start, sizeof(__pyx_k_start), 1, 1, 1},
  {&__pyx_kp_end, __pyx_k_end, sizeof(__pyx_k_end), 1, 1, 1},
  {&__pyx_kp_ps, __pyx_k_ps, sizeof(__pyx_k_ps), 1, 1, 1},
  {&__pyx_kp_latfile, __pyx_k_latfile, sizeof(__pyx_k_latfile), 1, 1, 1},
  {&__pyx_kp_boxed, __pyx_k_boxed, sizeof(__pyx_k_boxed), 1, 1, 1},
  {&__pyx_kp_lmset, __pyx_k_lmset, sizeof(__pyx_k_lmset), 1, 1, 1},
  {&__pyx_kp_lwf, __pyx_k_lwf, sizeof(__pyx_k_lwf), 1, 1, 1},
  {&__pyx_kp_ascale, __pyx_k_ascale, sizeof(__pyx_k_ascale), 1, 1, 1},
  {&__pyx_kp_outfile, __pyx_k_outfile, sizeof(__pyx_k_outfile), 1, 1, 1},
  {&__pyx_kp_fh, __pyx_k_fh, sizeof(__pyx_k_fh), 1, 1, 1},
  {&__pyx_kp_uttid, __pyx_k_uttid, sizeof(__pyx_k_uttid), 1, 1, 1},
  {&__pyx_kp_maxsamps, __pyx_k_maxsamps, sizeof(__pyx_k_maxsamps), 1, 1, 1},
  {&__pyx_kp_data, __pyx_k_data, sizeof(__pyx_k_data), 1, 1, 1},
  {&__pyx_kp_no_search, __pyx_k_no_search, sizeof(__pyx_k_no_search), 1, 1, 1},
  {&__pyx_kp_full_utt, __pyx_k_full_utt, sizeof(__pyx_k_full_utt), 1, 1, 1},
  {&__pyx_kp_word, __pyx_k_word, sizeof(__pyx_k_word), 1, 1, 1},
  {&__pyx_kp_phones, __pyx_k_phones, sizeof(__pyx_k_phones), 1, 1, 1},
  {&__pyx_kp_update, __pyx_k_update, sizeof(__pyx_k_update), 1, 1, 1},
  {&__pyx_kp_dictfile, __pyx_k_dictfile, sizeof(__pyx_k_dictfile), 1, 1, 1},
  {&__pyx_kp_fdictfile, __pyx_k_fdictfile, sizeof(__pyx_k_fdictfile), 1, 1, 1},
  {&__pyx_kp_format, __pyx_k_format, sizeof(__pyx_k_format), 1, 1, 1},
  {&__pyx_kp_StopIteration, __pyx_k_StopIteration, sizeof(__pyx_k_StopIteration), 1, 1, 1},
  {&__pyx_kp_RuntimeError, __pyx_k_RuntimeError, sizeof(__pyx_k_RuntimeError), 1, 1, 1},
  {&__pyx_kp_6, __pyx_k_6, sizeof(__pyx_k_6), 0, 1, 0},
  {&__pyx_kp_7, __pyx_k_7, sizeof(__pyx_k_7), 0, 1, 0},
  {&__pyx_kp_iteritems, __pyx_k_iteritems, sizeof(__pyx_k_iteritems), 1, 1, 1},
  {&__pyx_kp_4, __pyx_k_4, sizeof(__pyx_k_4), 0, 0, 0},
  {&__pyx_kp_5, __pyx_k_5, sizeof(__pyx_k_5), 0, 0, 0},
  {&__pyx_kp_8, __pyx_k_8, sizeof(__pyx_k_8), 0, 0, 0},
  {&__pyx_kp_9, __pyx_k_9, sizeof(__pyx_k_9), 0, 0, 0},
  {&__pyx_kp_10, __pyx_k_10, sizeof(__pyx_k_10), 0, 0, 0},
  {&__pyx_kp_11, __pyx_k_11, sizeof(__pyx_k_11), 0, 0, 0},
  {&__pyx_kp_12, __pyx_k_12, sizeof(__pyx_k_12), 0, 0, 0},
  {&__pyx_kp_13, __pyx_k_13, sizeof(__pyx_k_13), 0, 0, 0},
  {&__pyx_kp_14, __pyx_k_14, sizeof(__pyx_k_14), 0, 0, 0},
  {&__pyx_kp_15, __pyx_k_15, sizeof(__pyx_k_15), 0, 0, 0},
  {0, 0, 0, 0, 0, 0}
};
static int __Pyx_InitCachedBuiltins(void) {
  __pyx_builtin_StopIteration = __Pyx_GetName(__pyx_b, __pyx_kp_StopIteration); if (!__pyx_builtin_StopIteration) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 111; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_builtin_RuntimeError = __Pyx_GetName(__pyx_b, __pyx_kp_RuntimeError); if (!__pyx_builtin_RuntimeError) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 256; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  return 0;
  __pyx_L1_error:;
  return -1;
}

static int __Pyx_InitGlobals(void) {
  __pyx_int_0 = PyInt_FromLong(0); if (unlikely(!__pyx_int_0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1; __pyx_clineno = __LINE__; goto __pyx_L1_error;};
  __pyx_int_neg_1 = PyInt_FromLong(-1); if (unlikely(!__pyx_int_neg_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1; __pyx_clineno = __LINE__; goto __pyx_L1_error;};
  if (__Pyx_InitStrings(__pyx_string_tab) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1; __pyx_clineno = __LINE__; goto __pyx_L1_error;};
  return 0;
  __pyx_L1_error:;
  return -1;
}

#if PY_MAJOR_VERSION < 3
PyMODINIT_FUNC initpocketsphinx(void); /*proto*/
PyMODINIT_FUNC initpocketsphinx(void)
#else
PyMODINIT_FUNC PyInit_pocketsphinx(void); /*proto*/
PyMODINIT_FUNC PyInit_pocketsphinx(void)
#endif
{
  PyObject *__pyx_t_1 = NULL;
  #ifdef CYTHON_REFNANNY
  void* __pyx_refchk = NULL;
  __Pyx_Refnanny = __Pyx_ImportRefcountAPI("refnanny");
  if (!__Pyx_Refnanny) {
      PyErr_Clear();
      __Pyx_Refnanny = __Pyx_ImportRefcountAPI("Cython.Runtime.refnanny");
      if (!__Pyx_Refnanny)
          Py_FatalError("failed to import refnanny module");
  }
  __pyx_refchk = __Pyx_Refnanny->NewContext("PyMODINIT_FUNC PyInit_pocketsphinx(void)", __LINE__, __FILE__);
  #endif
  __pyx_empty_tuple = PyTuple_New(0); if (unlikely(!__pyx_empty_tuple)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  /*--- Library function declarations ---*/
  __pyx_init_filenames();
  /*--- Threads initialization code ---*/
  #if defined(__PYX_FORCE_INIT_THREADS) && __PYX_FORCE_INIT_THREADS
  #ifdef WITH_THREAD /* Python build with threading support? */
  PyEval_InitThreads();
  #endif
  #endif
  /*--- Initialize various global constants etc. ---*/
  if (unlikely(__Pyx_InitGlobals() < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  /*--- Module creation code ---*/
  #if PY_MAJOR_VERSION < 3
  __pyx_m = Py_InitModule4(__Pyx_NAMESTR("pocketsphinx"), __pyx_methods, 0, 0, PYTHON_API_VERSION);
  #else
  __pyx_m = PyModule_Create(&__pyx_moduledef);
  #endif
  if (!__pyx_m) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1; __pyx_clineno = __LINE__; goto __pyx_L1_error;};
  #if PY_MAJOR_VERSION < 3
  Py_INCREF(__pyx_m);
  #endif
  __pyx_b = PyImport_AddModule(__Pyx_NAMESTR(__Pyx_BUILTIN_MODULE_NAME));
  if (!__pyx_b) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1; __pyx_clineno = __LINE__; goto __pyx_L1_error;};
  if (__Pyx_SetAttrString(__pyx_m, "__builtins__", __pyx_b) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1; __pyx_clineno = __LINE__; goto __pyx_L1_error;};
  if (__pyx_module_is_main_pocketsphinx) {
    if (__Pyx_SetAttrString(__pyx_m, "__name__", __pyx_kp___main__) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1; __pyx_clineno = __LINE__; goto __pyx_L1_error;};
  }
  /*--- Builtin init code ---*/
  if (unlikely(__Pyx_InitCachedBuiltins() < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_skip_dispatch = 0;
  /*--- Global init code ---*/
  /*--- Function export code ---*/
  /*--- Type init code ---*/
  __pyx_vtabptr_12pocketsphinx_Decoder = &__pyx_vtable_12pocketsphinx_Decoder;
  #if PY_MAJOR_VERSION >= 3
  __pyx_vtable_12pocketsphinx_Decoder.set_boxed = (PyObject *(*)(struct __pyx_obj_12pocketsphinx_Decoder *, PyObject *))__pyx_f_12pocketsphinx_7Decoder_set_boxed;
  #else
  *(void(**)(void))&__pyx_vtable_12pocketsphinx_Decoder.set_boxed = (void(*)(void))__pyx_f_12pocketsphinx_7Decoder_set_boxed;
  #endif
  if (PyType_Ready(&__pyx_type_12pocketsphinx_Decoder) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 360; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (__Pyx_SetVtable(__pyx_type_12pocketsphinx_Decoder.tp_dict, __pyx_vtabptr_12pocketsphinx_Decoder) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 360; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (__Pyx_SetAttrString(__pyx_m, "Decoder", (PyObject *)&__pyx_type_12pocketsphinx_Decoder) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 360; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_ptype_12pocketsphinx_Decoder = &__pyx_type_12pocketsphinx_Decoder;
  __pyx_vtabptr_12pocketsphinx_Lattice = &__pyx_vtable_12pocketsphinx_Lattice;
  #if PY_MAJOR_VERSION >= 3
  __pyx_vtable_12pocketsphinx_Lattice.set_dag = (PyObject *(*)(struct __pyx_obj_12pocketsphinx_Lattice *, ps_lattice_t *))__pyx_f_12pocketsphinx_7Lattice_set_dag;
  __pyx_vtable_12pocketsphinx_Lattice.set_boxed = (PyObject *(*)(struct __pyx_obj_12pocketsphinx_Lattice *, PyObject *))__pyx_f_12pocketsphinx_7Lattice_set_boxed;
  #else
  *(void(**)(void))&__pyx_vtable_12pocketsphinx_Lattice.set_dag = (void(*)(void))__pyx_f_12pocketsphinx_7Lattice_set_dag;
  *(void(**)(void))&__pyx_vtable_12pocketsphinx_Lattice.set_boxed = (void(*)(void))__pyx_f_12pocketsphinx_7Lattice_set_boxed;
  #endif
  if (PyType_Ready(&__pyx_type_12pocketsphinx_Lattice) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 227; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (__Pyx_SetVtable(__pyx_type_12pocketsphinx_Lattice.tp_dict, __pyx_vtabptr_12pocketsphinx_Lattice) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 227; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (__Pyx_SetAttrString(__pyx_m, "Lattice", (PyObject *)&__pyx_type_12pocketsphinx_Lattice) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 227; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_ptype_12pocketsphinx_Lattice = &__pyx_type_12pocketsphinx_Lattice;
  __pyx_vtabptr_12pocketsphinx_LatLink = &__pyx_vtable_12pocketsphinx_LatLink;
  #if PY_MAJOR_VERSION >= 3
  __pyx_vtable_12pocketsphinx_LatLink.set_link = (PyObject *(*)(struct __pyx_obj_12pocketsphinx_LatLink *, ps_lattice_t *, ps_latlink_t *))__pyx_f_12pocketsphinx_7LatLink_set_link;
  #else
  *(void(**)(void))&__pyx_vtable_12pocketsphinx_LatLink.set_link = (void(*)(void))__pyx_f_12pocketsphinx_7LatLink_set_link;
  #endif
  if (PyType_Ready(&__pyx_type_12pocketsphinx_LatLink) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 132; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (__Pyx_SetVtable(__pyx_type_12pocketsphinx_LatLink.tp_dict, __pyx_vtabptr_12pocketsphinx_LatLink) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 132; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (__Pyx_SetAttrString(__pyx_m, "LatLink", (PyObject *)&__pyx_type_12pocketsphinx_LatLink) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 132; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_ptype_12pocketsphinx_LatLink = &__pyx_type_12pocketsphinx_LatLink;
  if (PyType_Ready(&__pyx_type_12pocketsphinx_LatLinkIterator) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 198; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (__Pyx_SetAttrString(__pyx_m, "LatLinkIterator", (PyObject *)&__pyx_type_12pocketsphinx_LatLinkIterator) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 198; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_ptype_12pocketsphinx_LatLinkIterator = &__pyx_type_12pocketsphinx_LatLinkIterator;
  __pyx_vtabptr_12pocketsphinx_LatNode = &__pyx_vtable_12pocketsphinx_LatNode;
  #if PY_MAJOR_VERSION >= 3
  __pyx_vtable_12pocketsphinx_LatNode.set_node = (PyObject *(*)(struct __pyx_obj_12pocketsphinx_LatNode *, ps_lattice_t *, ps_latnode_t *))__pyx_f_12pocketsphinx_7LatNode_set_node;
  #else
  *(void(**)(void))&__pyx_vtable_12pocketsphinx_LatNode.set_node = (void(*)(void))__pyx_f_12pocketsphinx_7LatNode_set_node;
  #endif
  if (PyType_Ready(&__pyx_type_12pocketsphinx_LatNode) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 10; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (__Pyx_SetVtable(__pyx_type_12pocketsphinx_LatNode.tp_dict, __pyx_vtabptr_12pocketsphinx_LatNode) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 10; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (__Pyx_SetAttrString(__pyx_m, "LatNode", (PyObject *)&__pyx_type_12pocketsphinx_LatNode) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 10; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_ptype_12pocketsphinx_LatNode = &__pyx_type_12pocketsphinx_LatNode;
  if (PyType_Ready(&__pyx_type_12pocketsphinx_LatNodeIterator) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 85; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (__Pyx_SetAttrString(__pyx_m, "LatNodeIterator", (PyObject *)&__pyx_type_12pocketsphinx_LatNodeIterator) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 85; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_ptype_12pocketsphinx_LatNodeIterator = &__pyx_type_12pocketsphinx_LatNodeIterator;
  /*--- Type import code ---*/
  __pyx_ptype_10sphinxbase_NGramModel = __Pyx_ImportType("sphinxbase", "NGramModel", sizeof(struct __pyx_obj_10sphinxbase_NGramModel)); if (unlikely(!__pyx_ptype_10sphinxbase_NGramModel)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 122; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (__Pyx_GetVtable(__pyx_ptype_10sphinxbase_NGramModel->tp_dict, &__pyx_vtabptr_10sphinxbase_NGramModel) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 122; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_ptype_10sphinxbase_LogMath = __Pyx_ImportType("sphinxbase", "LogMath", sizeof(struct __pyx_obj_10sphinxbase_LogMath)); if (unlikely(!__pyx_ptype_10sphinxbase_LogMath)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 130; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_ptype_10sphinxbase_NGramIter = __Pyx_ImportType("sphinxbase", "NGramIter", sizeof(struct __pyx_obj_10sphinxbase_NGramIter)); if (unlikely(!__pyx_ptype_10sphinxbase_NGramIter)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 133; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (__Pyx_GetVtable(__pyx_ptype_10sphinxbase_NGramIter->tp_dict, &__pyx_vtabptr_10sphinxbase_NGramIter) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 133; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_ptype_10sphinxbase_HuffCode = __Pyx_ImportType("sphinxbase", "HuffCode", sizeof(struct __pyx_obj_10sphinxbase_HuffCode)); if (unlikely(!__pyx_ptype_10sphinxbase_HuffCode)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 143; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  /*--- Function import code ---*/
  /*--- Execution code ---*/

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":469
 *             raise RuntimeError, "Failed to start utterance processing"
 * 
 *     def process_raw(self, data, no_search=False, full_utt=False):             # <<<<<<<<<<<<<<
 *         """
 *         Process (decode) some audio data.
 */
  __pyx_t_1 = __Pyx_PyBool_FromLong(0); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 469; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_k_1 = __pyx_t_1;
  __pyx_t_1 = 0;
  __Pyx_GIVEREF(__pyx_k_1);
  __pyx_t_1 = __Pyx_PyBool_FromLong(0); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 469; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_k_2 = __pyx_t_1;
  __pyx_t_1 = 0;
  __Pyx_GIVEREF(__pyx_k_2);

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pyx":565
 *         return lm
 * 
 *     def add_word(self, word, phones, update=True):             # <<<<<<<<<<<<<<
 *         """
 *         Add a word to the dictionary and current language model.
 */
  __pyx_t_1 = __Pyx_PyBool_FromLong(1); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 565; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_k_3 = __pyx_t_1;
  __pyx_t_1 = 0;
  __Pyx_GIVEREF(__pyx_k_3);

  /* "/home/dhuggins/Projects/Sphinx/trunk/pocketsphinx/python/pocketsphinx.pxd":1
 * # Copyright (c) 2008 Carnegie Mellon University. All rights             # <<<<<<<<<<<<<<
 * # reserved.
 * #
 */
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_AddTraceback("pocketsphinx");
  Py_DECREF(__pyx_m); __pyx_m = 0;
  __pyx_L0:;
  __Pyx_FinishRefcountContext();
  #if PY_MAJOR_VERSION < 3
  return;
  #else
  return __pyx_m;
  #endif
}

static const char *__pyx_filenames[] = {
  "pocketsphinx.pyx",
  "sphinxbase.pxd",
};

/* Runtime support code */

static void __pyx_init_filenames(void) {
  __pyx_f = __pyx_filenames;
}

static void __Pyx_RaiseArgtupleInvalid(
    const char* func_name,
    int exact,
    Py_ssize_t num_min,
    Py_ssize_t num_max,
    Py_ssize_t num_found)
{
    Py_ssize_t num_expected;
    const char *number, *more_or_less;

    if (num_found < num_min) {
        num_expected = num_min;
        more_or_less = "at least";
    } else {
        num_expected = num_max;
        more_or_less = "at most";
    }
    if (exact) {
        more_or_less = "exactly";
    }
    number = (num_expected == 1) ? "" : "s";
    PyErr_Format(PyExc_TypeError,
        #if PY_VERSION_HEX < 0x02050000
            "%s() takes %s %d positional argument%s (%d given)",
        #else
            "%s() takes %s %zd positional argument%s (%zd given)",
        #endif
        func_name, more_or_less, num_expected, number, num_found);
}

static INLINE int __Pyx_CheckKeywordStrings(
    PyObject *kwdict,
    const char* function_name,
    int kw_allowed)
{
    PyObject* key = 0;
    Py_ssize_t pos = 0;
    while (PyDict_Next(kwdict, &pos, &key, 0)) {
        #if PY_MAJOR_VERSION < 3
        if (unlikely(!PyString_CheckExact(key)) && unlikely(!PyString_Check(key)))
        #else
        if (unlikely(!PyUnicode_CheckExact(key)) && unlikely(!PyUnicode_Check(key)))
        #endif
            goto invalid_keyword_type;
    }
    if ((!kw_allowed) && unlikely(key))
        goto invalid_keyword;
    return 1;
invalid_keyword_type:
    PyErr_Format(PyExc_TypeError,
        "%s() keywords must be strings", function_name);
    return 0;
invalid_keyword:
    PyErr_Format(PyExc_TypeError,
    #if PY_MAJOR_VERSION < 3
        "%s() got an unexpected keyword argument '%s'",
        function_name, PyString_AsString(key));
    #else
        "%s() got an unexpected keyword argument '%U'",
        function_name, key);
    #endif
    return 0;
}

static int __Pyx_TypeTest(PyObject *obj, PyTypeObject *type) {
    if (!type) {
        PyErr_Format(PyExc_SystemError, "Missing type object");
        return 0;
    }
    if (obj == Py_None || PyObject_TypeCheck(obj, type))
        return 1;
    PyErr_Format(PyExc_TypeError, "Cannot convert %s to %s",
        Py_TYPE(obj)->tp_name, type->tp_name);
    return 0;
}

static void __Pyx_RaiseDoubleKeywordsError(
    const char* func_name,
    PyObject* kw_name)
{
    PyErr_Format(PyExc_TypeError,
        #if PY_MAJOR_VERSION >= 3
        "%s() got multiple values for keyword argument '%U'", func_name, kw_name);
        #else
        "%s() got multiple values for keyword argument '%s'", func_name,
        PyString_AS_STRING(kw_name));
        #endif
}

static int __Pyx_ParseOptionalKeywords(
    PyObject *kwds,
    PyObject **argnames[],
    PyObject *kwds2,
    PyObject *values[],
    Py_ssize_t num_pos_args,
    const char* function_name)
{
    PyObject *key = 0, *value = 0;
    Py_ssize_t pos = 0;
    PyObject*** name;
    PyObject*** first_kw_arg = argnames + num_pos_args;

    while (PyDict_Next(kwds, &pos, &key, &value)) {
        name = first_kw_arg;
        while (*name && (**name != key)) name++;
        if (*name) {
            values[name-argnames] = value;
        } else {
            #if PY_MAJOR_VERSION < 3
            if (unlikely(!PyString_CheckExact(key)) && unlikely(!PyString_Check(key))) {
            #else
            if (unlikely(!PyUnicode_CheckExact(key)) && unlikely(!PyUnicode_Check(key))) {
            #endif
                goto invalid_keyword_type;
            } else {
                for (name = first_kw_arg; *name; name++) {
                    #if PY_MAJOR_VERSION >= 3
                    if (PyUnicode_GET_SIZE(**name) == PyUnicode_GET_SIZE(key) &&
                        PyUnicode_Compare(**name, key) == 0) break;
                    #else
                    if (PyString_GET_SIZE(**name) == PyString_GET_SIZE(key) &&
                        _PyString_Eq(**name, key)) break;
                    #endif
                }
                if (*name) {
                    values[name-argnames] = value;
                } else {
                    /* unexpected keyword found */
                    for (name=argnames; name != first_kw_arg; name++) {
                        if (**name == key) goto arg_passed_twice;
                        #if PY_MAJOR_VERSION >= 3
                        if (PyUnicode_GET_SIZE(**name) == PyUnicode_GET_SIZE(key) &&
                            PyUnicode_Compare(**name, key) == 0) goto arg_passed_twice;
                        #else
                        if (PyString_GET_SIZE(**name) == PyString_GET_SIZE(key) &&
                            _PyString_Eq(**name, key)) goto arg_passed_twice;
                        #endif
                    }
                    if (kwds2) {
                        if (unlikely(PyDict_SetItem(kwds2, key, value))) goto bad;
                    } else {
                        goto invalid_keyword;
                    }
                }
            }
        }
    }
    return 0;
arg_passed_twice:
    __Pyx_RaiseDoubleKeywordsError(function_name, **name);
    goto bad;
invalid_keyword_type:
    PyErr_Format(PyExc_TypeError,
        "%s() keywords must be strings", function_name);
    goto bad;
invalid_keyword:
    PyErr_Format(PyExc_TypeError,
    #if PY_MAJOR_VERSION < 3
        "%s() got an unexpected keyword argument '%s'",
        function_name, PyString_AsString(key));
    #else
        "%s() got an unexpected keyword argument '%U'",
        function_name, key);
    #endif
bad:
    return -1;
}


static int __Pyx_ArgTypeTest(PyObject *obj, PyTypeObject *type, int none_allowed,
    const char *name, int exact)
{
    if (!type) {
        PyErr_Format(PyExc_SystemError, "Missing type object");
        return 0;
    }
    if (none_allowed && obj == Py_None) return 1;
    else if (exact) {
        if (Py_TYPE(obj) == type) return 1;
    }
    else {
        if (PyObject_TypeCheck(obj, type)) return 1;
    }
    PyErr_Format(PyExc_TypeError,
        "Argument '%s' has incorrect type (expected %s, got %s)",
        name, type->tp_name, Py_TYPE(obj)->tp_name);
    return 0;
}

static PyObject *__Pyx_GetName(PyObject *dict, PyObject *name) {
    PyObject *result;
    result = PyObject_GetAttr(dict, name);
    if (!result)
        PyErr_SetObject(PyExc_NameError, name);
    return result;
}

static void __Pyx_Raise(PyObject *type, PyObject *value, PyObject *tb) {
    Py_XINCREF(type);
    Py_XINCREF(value);
    Py_XINCREF(tb);
    /* First, check the traceback argument, replacing None with NULL. */
    if (tb == Py_None) {
        Py_DECREF(tb);
        tb = 0;
    }
    else if (tb != NULL && !PyTraceBack_Check(tb)) {
        PyErr_SetString(PyExc_TypeError,
            "raise: arg 3 must be a traceback or None");
        goto raise_error;
    }
    /* Next, replace a missing value with None */
    if (value == NULL) {
        value = Py_None;
        Py_INCREF(value);
    }
    #if PY_VERSION_HEX < 0x02050000
    if (!PyClass_Check(type))
    #else
    if (!PyType_Check(type))
    #endif
    {
        /* Raising an instance.  The value should be a dummy. */
        if (value != Py_None) {
            PyErr_SetString(PyExc_TypeError,
                "instance exception may not have a separate value");
            goto raise_error;
        }
        /* Normalize to raise <class>, <instance> */
        Py_DECREF(value);
        value = type;
        #if PY_VERSION_HEX < 0x02050000
            if (PyInstance_Check(type)) {
                type = (PyObject*) ((PyInstanceObject*)type)->in_class;
                Py_INCREF(type);
            }
            else {
                type = 0;
                PyErr_SetString(PyExc_TypeError,
                    "raise: exception must be an old-style class or instance");
                goto raise_error;
            }
        #else
            type = (PyObject*) Py_TYPE(type);
            Py_INCREF(type);
            if (!PyType_IsSubtype((PyTypeObject *)type, (PyTypeObject *)PyExc_BaseException)) {
                PyErr_SetString(PyExc_TypeError,
                    "raise: exception class must be a subclass of BaseException");
                goto raise_error;
            }
        #endif
    }
    __Pyx_ErrRestore(type, value, tb);
    return;
raise_error:
    Py_XDECREF(value);
    Py_XDECREF(type);
    Py_XDECREF(tb);
    return;
}

static INLINE void __Pyx_ErrRestore(PyObject *type, PyObject *value, PyObject *tb) {
    PyObject *tmp_type, *tmp_value, *tmp_tb;
    PyThreadState *tstate = PyThreadState_GET();

#if PY_MAJOR_VERSION >= 3
    /* Note: this is a temporary work-around to prevent crashes in Python 3.0 */
    if ((tstate->exc_type != NULL) & (tstate->exc_type != Py_None)) {
        tmp_type = tstate->exc_type;
        tmp_value = tstate->exc_value;
        tmp_tb = tstate->exc_traceback;
        PyErr_NormalizeException(&type, &value, &tb);
        PyErr_NormalizeException(&tmp_type, &tmp_value, &tmp_tb);
        tstate->exc_type = 0;
        tstate->exc_value = 0;
        tstate->exc_traceback = 0;
        PyException_SetContext(value, tmp_value);
        Py_DECREF(tmp_type);
        Py_XDECREF(tmp_tb);
    }
#endif

    tmp_type = tstate->curexc_type;
    tmp_value = tstate->curexc_value;
    tmp_tb = tstate->curexc_traceback;
    tstate->curexc_type = type;
    tstate->curexc_value = value;
    tstate->curexc_traceback = tb;
    Py_XDECREF(tmp_type);
    Py_XDECREF(tmp_value);
    Py_XDECREF(tmp_tb);
}

static INLINE void __Pyx_ErrFetch(PyObject **type, PyObject **value, PyObject **tb) {
    PyThreadState *tstate = PyThreadState_GET();
    *type = tstate->curexc_type;
    *value = tstate->curexc_value;
    *tb = tstate->curexc_traceback;

    tstate->curexc_type = 0;
    tstate->curexc_value = 0;
    tstate->curexc_traceback = 0;
}


static INLINE void __Pyx_RaiseNeedMoreValuesError(Py_ssize_t index) {
    PyErr_Format(PyExc_ValueError,
        #if PY_VERSION_HEX < 0x02050000
                 "need more than %d value%s to unpack", (int)index,
        #else
                 "need more than %zd value%s to unpack", index,
        #endif
                 (index == 1) ? "" : "s");
}

static INLINE void __Pyx_RaiseTooManyValuesError(void) {
    PyErr_SetString(PyExc_ValueError, "too many values to unpack");
}

static PyObject *__Pyx_UnpackItem(PyObject *iter, Py_ssize_t index) {
    PyObject *item;
    if (!(item = PyIter_Next(iter))) {
        if (!PyErr_Occurred()) {
            __Pyx_RaiseNeedMoreValuesError(index);
        }
    }
    return item;
}

static int __Pyx_EndUnpack(PyObject *iter) {
    PyObject *item;
    if ((item = PyIter_Next(iter))) {
        Py_DECREF(item);
        __Pyx_RaiseTooManyValuesError();
        return -1;
    }
    else if (!PyErr_Occurred())
        return 0;
    else
        return -1;
}

static INLINE int __Pyx_StrEq(const char *s1, const char *s2) {
     while (*s1 != '\0' && *s1 == *s2) { s1++; s2++; }
     return *s1 == *s2;
}

static INLINE unsigned char __Pyx_PyInt_AsUnsignedChar(PyObject* x) {
    if (sizeof(unsigned char) < sizeof(long)) {
        long val = __Pyx_PyInt_AsLong(x);
        if (unlikely(val != (long)(unsigned char)val)) {
            if (unlikely(val == -1 && PyErr_Occurred()))
                return (unsigned char)-1;
            if (unlikely(val < 0)) {
                PyErr_SetString(PyExc_OverflowError,
                                "can't convert negative value to unsigned char");
                return (unsigned char)-1;
            }
            PyErr_SetString(PyExc_OverflowError,
                           "value too large to convert to unsigned char");
            return (unsigned char)-1;
        }
        return (unsigned char)val;
    }
    return (unsigned char)__Pyx_PyInt_AsUnsignedLong(x);
}

static INLINE unsigned short __Pyx_PyInt_AsUnsignedShort(PyObject* x) {
    if (sizeof(unsigned short) < sizeof(long)) {
        long val = __Pyx_PyInt_AsLong(x);
        if (unlikely(val != (long)(unsigned short)val)) {
            if (unlikely(val == -1 && PyErr_Occurred()))
                return (unsigned short)-1;
            if (unlikely(val < 0)) {
                PyErr_SetString(PyExc_OverflowError,
                                "can't convert negative value to unsigned short");
                return (unsigned short)-1;
            }
            PyErr_SetString(PyExc_OverflowError,
                           "value too large to convert to unsigned short");
            return (unsigned short)-1;
        }
        return (unsigned short)val;
    }
    return (unsigned short)__Pyx_PyInt_AsUnsignedLong(x);
}

static INLINE unsigned int __Pyx_PyInt_AsUnsignedInt(PyObject* x) {
    if (sizeof(unsigned int) < sizeof(long)) {
        long val = __Pyx_PyInt_AsLong(x);
        if (unlikely(val != (long)(unsigned int)val)) {
            if (unlikely(val == -1 && PyErr_Occurred()))
                return (unsigned int)-1;
            if (unlikely(val < 0)) {
                PyErr_SetString(PyExc_OverflowError,
                                "can't convert negative value to unsigned int");
                return (unsigned int)-1;
            }
            PyErr_SetString(PyExc_OverflowError,
                           "value too large to convert to unsigned int");
            return (unsigned int)-1;
        }
        return (unsigned int)val;
    }
    return (unsigned int)__Pyx_PyInt_AsUnsignedLong(x);
}

static INLINE char __Pyx_PyInt_AsChar(PyObject* x) {
    if (sizeof(char) < sizeof(long)) {
        long val = __Pyx_PyInt_AsLong(x);
        if (unlikely(val != (long)(char)val)) {
            if (unlikely(val == -1 && PyErr_Occurred()))
                return (char)-1;
            PyErr_SetString(PyExc_OverflowError,
                           "value too large to convert to char");
            return (char)-1;
        }
        return (char)val;
    }
    return (char)__Pyx_PyInt_AsLong(x);
}

static INLINE short __Pyx_PyInt_AsShort(PyObject* x) {
    if (sizeof(short) < sizeof(long)) {
        long val = __Pyx_PyInt_AsLong(x);
        if (unlikely(val != (long)(short)val)) {
            if (unlikely(val == -1 && PyErr_Occurred()))
                return (short)-1;
            PyErr_SetString(PyExc_OverflowError,
                           "value too large to convert to short");
            return (short)-1;
        }
        return (short)val;
    }
    return (short)__Pyx_PyInt_AsLong(x);
}

static INLINE int __Pyx_PyInt_AsInt(PyObject* x) {
    if (sizeof(int) < sizeof(long)) {
        long val = __Pyx_PyInt_AsLong(x);
        if (unlikely(val != (long)(int)val)) {
            if (unlikely(val == -1 && PyErr_Occurred()))
                return (int)-1;
            PyErr_SetString(PyExc_OverflowError,
                           "value too large to convert to int");
            return (int)-1;
        }
        return (int)val;
    }
    return (int)__Pyx_PyInt_AsLong(x);
}

static INLINE signed char __Pyx_PyInt_AsSignedChar(PyObject* x) {
    if (sizeof(signed char) < sizeof(long)) {
        long val = __Pyx_PyInt_AsLong(x);
        if (unlikely(val != (long)(signed char)val)) {
            if (unlikely(val == -1 && PyErr_Occurred()))
                return (signed char)-1;
            PyErr_SetString(PyExc_OverflowError,
                           "value too large to convert to signed char");
            return (signed char)-1;
        }
        return (signed char)val;
    }
    return (signed char)__Pyx_PyInt_AsSignedLong(x);
}

static INLINE signed short __Pyx_PyInt_AsSignedShort(PyObject* x) {
    if (sizeof(signed short) < sizeof(long)) {
        long val = __Pyx_PyInt_AsLong(x);
        if (unlikely(val != (long)(signed short)val)) {
            if (unlikely(val == -1 && PyErr_Occurred()))
                return (signed short)-1;
            PyErr_SetString(PyExc_OverflowError,
                           "value too large to convert to signed short");
            return (signed short)-1;
        }
        return (signed short)val;
    }
    return (signed short)__Pyx_PyInt_AsSignedLong(x);
}

static INLINE signed int __Pyx_PyInt_AsSignedInt(PyObject* x) {
    if (sizeof(signed int) < sizeof(long)) {
        long val = __Pyx_PyInt_AsLong(x);
        if (unlikely(val != (long)(signed int)val)) {
            if (unlikely(val == -1 && PyErr_Occurred()))
                return (signed int)-1;
            PyErr_SetString(PyExc_OverflowError,
                           "value too large to convert to signed int");
            return (signed int)-1;
        }
        return (signed int)val;
    }
    return (signed int)__Pyx_PyInt_AsSignedLong(x);
}

static INLINE unsigned long __Pyx_PyInt_AsUnsignedLong(PyObject* x) {
#if PY_VERSION_HEX < 0x03000000
    if (likely(PyInt_CheckExact(x) || PyInt_Check(x))) {
        long val = PyInt_AS_LONG(x);
        if (unlikely(val < 0)) {
            PyErr_SetString(PyExc_OverflowError,
                            "can't convert negative value to unsigned long");
            return (unsigned long)-1;
        }
        return (unsigned long)val;
    } else
#endif
    if (likely(PyLong_CheckExact(x) || PyLong_Check(x))) {
        if (unlikely(Py_SIZE(x) < 0)) {
            PyErr_SetString(PyExc_OverflowError,
                            "can't convert negative value to unsigned long");
            return (unsigned long)-1;
        }
        return PyLong_AsUnsignedLong(x);
    } else {
        unsigned long val;
        PyObject *tmp = __Pyx_PyNumber_Int(x);
        if (!tmp) return (unsigned long)-1;
        val = __Pyx_PyInt_AsUnsignedLong(tmp);
        Py_DECREF(tmp);
        return val;
    }
}

static INLINE unsigned PY_LONG_LONG __Pyx_PyInt_AsUnsignedLongLong(PyObject* x) {
#if PY_VERSION_HEX < 0x03000000
    if (likely(PyInt_CheckExact(x) || PyInt_Check(x))) {
        long val = PyInt_AS_LONG(x);
        if (unlikely(val < 0)) {
            PyErr_SetString(PyExc_OverflowError,
                            "can't convert negative value to unsigned PY_LONG_LONG");
            return (unsigned PY_LONG_LONG)-1;
        }
        return (unsigned PY_LONG_LONG)val;
    } else
#endif
    if (likely(PyLong_CheckExact(x) || PyLong_Check(x))) {
        if (unlikely(Py_SIZE(x) < 0)) {
            PyErr_SetString(PyExc_OverflowError,
                            "can't convert negative value to unsigned PY_LONG_LONG");
            return (unsigned PY_LONG_LONG)-1;
        }
        return PyLong_AsUnsignedLongLong(x);
    } else {
        unsigned PY_LONG_LONG val;
        PyObject *tmp = __Pyx_PyNumber_Int(x);
        if (!tmp) return (unsigned PY_LONG_LONG)-1;
        val = __Pyx_PyInt_AsUnsignedLongLong(tmp);
        Py_DECREF(tmp);
        return val;
    }
}

static INLINE long __Pyx_PyInt_AsLong(PyObject* x) {
#if PY_VERSION_HEX < 0x03000000
    if (likely(PyInt_CheckExact(x) || PyInt_Check(x))) {
        long val = PyInt_AS_LONG(x);
        return (long)val;
    } else
#endif
    if (likely(PyLong_CheckExact(x) || PyLong_Check(x))) {
        return PyLong_AsLong(x);
    } else {
        long val;
        PyObject *tmp = __Pyx_PyNumber_Int(x);
        if (!tmp) return (long)-1;
        val = __Pyx_PyInt_AsLong(tmp);
        Py_DECREF(tmp);
        return val;
    }
}

static INLINE PY_LONG_LONG __Pyx_PyInt_AsLongLong(PyObject* x) {
#if PY_VERSION_HEX < 0x03000000
    if (likely(PyInt_CheckExact(x) || PyInt_Check(x))) {
        long val = PyInt_AS_LONG(x);
        return (PY_LONG_LONG)val;
    } else
#endif
    if (likely(PyLong_CheckExact(x) || PyLong_Check(x))) {
        return PyLong_AsLongLong(x);
    } else {
        PY_LONG_LONG val;
        PyObject *tmp = __Pyx_PyNumber_Int(x);
        if (!tmp) return (PY_LONG_LONG)-1;
        val = __Pyx_PyInt_AsLongLong(tmp);
        Py_DECREF(tmp);
        return val;
    }
}

static INLINE signed long __Pyx_PyInt_AsSignedLong(PyObject* x) {
#if PY_VERSION_HEX < 0x03000000
    if (likely(PyInt_CheckExact(x) || PyInt_Check(x))) {
        long val = PyInt_AS_LONG(x);
        return (signed long)val;
    } else
#endif
    if (likely(PyLong_CheckExact(x) || PyLong_Check(x))) {
        return PyLong_AsLong(x);
    } else {
        signed long val;
        PyObject *tmp = __Pyx_PyNumber_Int(x);
        if (!tmp) return (signed long)-1;
        val = __Pyx_PyInt_AsSignedLong(tmp);
        Py_DECREF(tmp);
        return val;
    }
}

static INLINE signed PY_LONG_LONG __Pyx_PyInt_AsSignedLongLong(PyObject* x) {
#if PY_VERSION_HEX < 0x03000000
    if (likely(PyInt_CheckExact(x) || PyInt_Check(x))) {
        long val = PyInt_AS_LONG(x);
        return (signed PY_LONG_LONG)val;
    } else
#endif
    if (likely(PyLong_CheckExact(x) || PyLong_Check(x))) {
        return PyLong_AsLongLong(x);
    } else {
        signed PY_LONG_LONG val;
        PyObject *tmp = __Pyx_PyNumber_Int(x);
        if (!tmp) return (signed PY_LONG_LONG)-1;
        val = __Pyx_PyInt_AsSignedLongLong(tmp);
        Py_DECREF(tmp);
        return val;
    }
}

static int __Pyx_SetVtable(PyObject *dict, void *vtable) {
    PyObject *pycobj = 0;
    int result;
    
    pycobj = PyCObject_FromVoidPtr(vtable, 0);
    if (!pycobj)
        goto bad;
    if (PyDict_SetItemString(dict, "__pyx_vtable__", pycobj) < 0)
        goto bad;
    result = 0;
    goto done;

bad:
    result = -1;
done:
    Py_XDECREF(pycobj);
    return result;
}

#ifndef __PYX_HAVE_RT_ImportType
#define __PYX_HAVE_RT_ImportType
static PyTypeObject *__Pyx_ImportType(const char *module_name, const char *class_name,
    long size)
{
    PyObject *py_module = 0;
    PyObject *result = 0;
    PyObject *py_name = 0;

    py_module = __Pyx_ImportModule(module_name);
    if (!py_module)
        goto bad;
    #if PY_MAJOR_VERSION < 3
    py_name = PyString_FromString(class_name);
    #else
    py_name = PyUnicode_FromString(class_name);
    #endif
    if (!py_name)
        goto bad;
    result = PyObject_GetAttr(py_module, py_name);
    Py_DECREF(py_name);
    py_name = 0;
    Py_DECREF(py_module);
    py_module = 0;
    if (!result)
        goto bad;
    if (!PyType_Check(result)) {
        PyErr_Format(PyExc_TypeError, 
            "%s.%s is not a type object",
            module_name, class_name);
        goto bad;
    }
    if (((PyTypeObject *)result)->tp_basicsize != size) {
        PyErr_Format(PyExc_ValueError, 
            "%s.%s does not appear to be the correct type object",
            module_name, class_name);
        goto bad;
    }
    return (PyTypeObject *)result;
bad:
    Py_XDECREF(py_module);
    Py_XDECREF(result);
    return 0;
}
#endif

#ifndef __PYX_HAVE_RT_ImportModule
#define __PYX_HAVE_RT_ImportModule
static PyObject *__Pyx_ImportModule(const char *name) {
    PyObject *py_name = 0;
    PyObject *py_module = 0;

    #if PY_MAJOR_VERSION < 3
    py_name = PyString_FromString(name);
    #else
    py_name = PyUnicode_FromString(name);
    #endif
    if (!py_name)
        goto bad;
    py_module = PyImport_Import(py_name);
    Py_DECREF(py_name);
    return py_module;
bad:
    Py_XDECREF(py_name);
    return 0;
}
#endif

static int __Pyx_GetVtable(PyObject *dict, void *vtabptr) {
    int result;
    PyObject *pycobj;

    pycobj = PyMapping_GetItemString(dict, (char *)"__pyx_vtable__");
    if (!pycobj)
        goto bad;
    *(void **)vtabptr = PyCObject_AsVoidPtr(pycobj);
    if (!*(void **)vtabptr)
        goto bad;
    result = 0;
    goto done;

bad:
    result = -1;
done:
    Py_XDECREF(pycobj);
    return result;
}

#include "compile.h"
#include "frameobject.h"
#include "traceback.h"

static void __Pyx_AddTraceback(const char *funcname) {
    PyObject *py_srcfile = 0;
    PyObject *py_funcname = 0;
    PyObject *py_globals = 0;
    PyObject *empty_string = 0;
    PyCodeObject *py_code = 0;
    PyFrameObject *py_frame = 0;

    #if PY_MAJOR_VERSION < 3
    py_srcfile = PyString_FromString(__pyx_filename);
    #else
    py_srcfile = PyUnicode_FromString(__pyx_filename);
    #endif
    if (!py_srcfile) goto bad;
    if (__pyx_clineno) {
        #if PY_MAJOR_VERSION < 3
        py_funcname = PyString_FromFormat( "%s (%s:%d)", funcname, __pyx_cfilenm, __pyx_clineno);
        #else
        py_funcname = PyUnicode_FromFormat( "%s (%s:%d)", funcname, __pyx_cfilenm, __pyx_clineno);
        #endif
    }
    else {
        #if PY_MAJOR_VERSION < 3
        py_funcname = PyString_FromString(funcname);
        #else
        py_funcname = PyUnicode_FromString(funcname);
        #endif
    }
    if (!py_funcname) goto bad;
    py_globals = PyModule_GetDict(__pyx_m);
    if (!py_globals) goto bad;
    #if PY_MAJOR_VERSION < 3
    empty_string = PyString_FromStringAndSize("", 0);
    #else
    empty_string = PyBytes_FromStringAndSize("", 0);
    #endif
    if (!empty_string) goto bad;
    py_code = PyCode_New(
        0,            /*int argcount,*/
        #if PY_MAJOR_VERSION >= 3
        0,            /*int kwonlyargcount,*/
        #endif
        0,            /*int nlocals,*/
        0,            /*int stacksize,*/
        0,            /*int flags,*/
        empty_string, /*PyObject *code,*/
        __pyx_empty_tuple,  /*PyObject *consts,*/
        __pyx_empty_tuple,  /*PyObject *names,*/
        __pyx_empty_tuple,  /*PyObject *varnames,*/
        __pyx_empty_tuple,  /*PyObject *freevars,*/
        __pyx_empty_tuple,  /*PyObject *cellvars,*/
        py_srcfile,   /*PyObject *filename,*/
        py_funcname,  /*PyObject *name,*/
        __pyx_lineno,   /*int firstlineno,*/
        empty_string  /*PyObject *lnotab*/
    );
    if (!py_code) goto bad;
    py_frame = PyFrame_New(
        PyThreadState_GET(), /*PyThreadState *tstate,*/
        py_code,             /*PyCodeObject *code,*/
        py_globals,          /*PyObject *globals,*/
        0                    /*PyObject *locals*/
    );
    if (!py_frame) goto bad;
    py_frame->f_lineno = __pyx_lineno;
    PyTraceBack_Here(py_frame);
bad:
    Py_XDECREF(py_srcfile);
    Py_XDECREF(py_funcname);
    Py_XDECREF(empty_string);
    Py_XDECREF(py_code);
    Py_XDECREF(py_frame);
}

static int __Pyx_InitStrings(__Pyx_StringTabEntry *t) {
    while (t->p) {
        #if PY_MAJOR_VERSION < 3
        if (t->is_unicode && (!t->is_identifier)) {
            *t->p = PyUnicode_DecodeUTF8(t->s, t->n - 1, NULL);
        } else if (t->intern) {
            *t->p = PyString_InternFromString(t->s);
        } else {
            *t->p = PyString_FromStringAndSize(t->s, t->n - 1);
        }
        #else  /* Python 3+ has unicode identifiers */
        if (t->is_identifier || (t->is_unicode && t->intern)) {
            *t->p = PyUnicode_InternFromString(t->s);
        } else if (t->is_unicode) {
            *t->p = PyUnicode_FromStringAndSize(t->s, t->n - 1);
        } else {
            *t->p = PyBytes_FromStringAndSize(t->s, t->n - 1);
        }
        #endif
        if (!*t->p)
            return -1;
        ++t;
    }
    return 0;
}

/* Type Conversion Functions */

static INLINE int __Pyx_PyObject_IsTrue(PyObject* x) {
   if (x == Py_True) return 1;
   else if ((x == Py_False) | (x == Py_None)) return 0;
   else return PyObject_IsTrue(x);
}

static INLINE PyObject* __Pyx_PyNumber_Int(PyObject* x) {
  PyNumberMethods *m;
  const char *name = NULL;
  PyObject *res = NULL;
#if PY_VERSION_HEX < 0x03000000
  if (PyInt_Check(x) || PyLong_Check(x))
#else
  if (PyLong_Check(x))
#endif
    return Py_INCREF(x), x;
  m = Py_TYPE(x)->tp_as_number;
#if PY_VERSION_HEX < 0x03000000
  if (m && m->nb_int) {
    name = "int";
    res = PyNumber_Int(x);
  }
  else if (m && m->nb_long) {
    name = "long";
    res = PyNumber_Long(x);
  }
#else
  if (m && m->nb_int) {
    name = "int";
    res = PyNumber_Long(x);
  }
#endif
  if (res) {
#if PY_VERSION_HEX < 0x03000000
    if (!PyInt_Check(res) && !PyLong_Check(res)) {
#else
    if (!PyLong_Check(res)) {
#endif
      PyErr_Format(PyExc_TypeError,
                   "__%s__ returned non-%s (type %.200s)",
                   name, name, Py_TYPE(res)->tp_name);
      Py_DECREF(res);
      return NULL;
    }
  }
  else if (!PyErr_Occurred()) {
    PyErr_SetString(PyExc_TypeError,
                    "an integer is required");
  }
  return res;
}

static INLINE Py_ssize_t __Pyx_PyIndex_AsSsize_t(PyObject* b) {
  Py_ssize_t ival;
  PyObject* x = PyNumber_Index(b);
  if (!x) return -1;
  ival = PyInt_AsSsize_t(x);
  Py_DECREF(x);
  return ival;
}

static INLINE PyObject * __Pyx_PyInt_FromSize_t(size_t ival) {
#if PY_VERSION_HEX < 0x02050000
   if (ival <= LONG_MAX)
       return PyInt_FromLong((long)ival);
   else {
       unsigned char *bytes = (unsigned char *) &ival;
       int one = 1; int little = (int)*(unsigned char*)&one;
       return _PyLong_FromByteArray(bytes, sizeof(size_t), little, 0);
   }
#else
   return PyInt_FromSize_t(ival);
#endif
}

static INLINE size_t __Pyx_PyInt_AsSize_t(PyObject* x) {
   unsigned PY_LONG_LONG val = __Pyx_PyInt_AsUnsignedLongLong(x);
   if (unlikely(val == (unsigned PY_LONG_LONG)-1 && PyErr_Occurred())) {
       return (size_t)-1;
   } else if (unlikely(val != (unsigned PY_LONG_LONG)(size_t)val)) {
       PyErr_SetString(PyExc_OverflowError,
                       "value too large to convert to size_t");
       return (size_t)-1;
   }
   return (size_t)val;
}


